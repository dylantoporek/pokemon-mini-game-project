(window.webpackJsonp=window.webpackJsonp||[]).push([[4,5,6],{"+sW7":function(e,t,n){e.exports=n.p+"desktop-assets/s4.21d636844d5096acf2e4cd247c759a45.svg"},"/aJl":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("/MKj"),i=(n("17x9"),n("TSYQ")),c=n.n(i),s=n("GB65"),l=n("G5ih"),u=n("BWa0");n("emG5");function d(e){var t=e.active,n=c()({ButtonBackToTop:!0,badge:!0,active:t});return a.a.createElement("a",{href:"#",className:n,onClick:function(){var e=Object(s.bb)();Object(s.ub)(-e,0,"smooth")}},a.a.createElement(u.hb,{className:"badge-icon",name:u.d,width:"32",height:"32"}),a.a.createElement("span",{className:"badge-text"},Object(l.b)("takeMeUp")))}d.defaultProps={active:!1,locationTop:!0},d.__docgenInfo={description:"",methods:[],displayName:"ButtonBackToTop",props:{active:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},locationTop:{defaultValue:{value:"true",computed:!1},required:!1}}},t.a=Object(o.b)(function(e){return{active:!e.ui.footer.get("isFooterVisible")}})(d)},"/b2Y":function(e,t,n){},"/q0z":function(e,t,n){},"0pwo":function(e,t,n){},"129X":function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});var r=n("lSNA"),i=n.n(r),a=n("q1tI"),c=n.n(a),o=(n("17x9"),n("TSYQ")),s=n.n(o);n("BFB+");function l(e){var t=e.children,n=e.className,r=e.stacked,a=e.reversed,o=s()(i()({Media:!0,"Media--stacked":r,"Media--reversed":a},n,n));return c.a.createElement("div",{className:o},t)}function u(e){var t=e.children,n=e.className,r=e.order,a=s()(i()({MediaBody:!0},n,n));return c.a.createElement("div",{className:a,style:r&&{order:r}},t)}u.__docgenInfo={description:"",methods:[],displayName:"MediaBody",props:{children:{type:{name:"node"},required:!0,description:""},order:{type:{name:"number"},required:!(l.__docgenInfo={description:"",methods:[],displayName:"Media",props:{children:{type:{name:"node"},required:!0,description:""},className:{type:{name:"string"},required:!1,description:""},stacked:{type:{name:"bool"},required:!1,description:""},reversed:{type:{name:"bool"},required:!1,description:""}}}),description:""},className:{type:{name:"string"},required:!1,description:""}}}},"1O1r":function(e,t,n){},"1POK":function(e,t,n){},"1coQ":function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n("lwsE"),o=n.n(r),a=n("W8MJ"),i=n.n(a),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("JPcv")),C=n("cm4/"),E=n.n(C),k=n("66r6");function O(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var S=function(e){u()(a,e);var r=O(a);function a(e){var t;o()(this,a),t=r.call(this,e),g()(s()(t),"grabString",function(e){var t=Object(k.o)(e,k.c);if(!t.length)return e;var n="",r=e.substr(0,t[0].begin);r.length&&(n=r);for(var a=!1,o="",i=0;i<t.length;i++){if(0<i){var c=t[i-1],s=t[i].begin-1-c.end,l=e.substr(c.end+1,s);l.length&&(n+=l)}a?n+=k.a+t[i].href:(o=t[i].href,a=!0)}var u=e.substr(t[t.length-1].end+1);return u.length&&(n+=u),o&&(n+=" ".concat(o)),n});var n=e.opUsername?{opUsername:e.opUsername}:{};return n.isLinkifyTargetMedia=e.isLinkifyTargetMedia,n.postMedia=e.postMedia,Object(k.i)(C.linkify,n),t}return i()(a,[{key:"getChildren",value:function(){var e=this.props,t=e.children,n=e.expandlink;return"string"!=typeof t||"true"!==n?t:this.grabString(t)}},{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.expandlink,r=e.component,a=e.postMedia;return b.a.createElement(E.a,{component:r,properties:{target:"_blank",rel:"noopener noreferrer",onClick:t,className:"Linkify-element",expandlink:n,postMedia:a}},this.getChildren())}}]),a}(b.a.Component);S.defaultProps={onClick:function(){return!0},expandlink:"false",postMedia:new v.List},S.__docgenInfo={description:"",methods:[{name:"getChildren",docblock:null,modifiers:[],params:[],returns:null},{name:"grabString",docblock:null,modifiers:[],params:[{name:"str",type:null}],returns:null}],displayName:"ImgurLinkify",props:{onClick:{defaultValue:{value:"() => true",computed:!1},type:{name:"func"},required:!1,description:""},expandlink:{defaultValue:{value:"'false'",computed:!1},type:{name:"enum",value:[{value:"'true'",computed:!1},{value:"'false'",computed:!1}]},required:!1,description:""},postMedia:{defaultValue:{value:"new List()",computed:!1},type:{name:"object"},required:!1,description:""},children:{type:{name:"any"},required:!1,description:""},component:{type:{name:"func"},required:!1,description:""},opUsername:{type:{name:"string"},required:!1,description:""},isLinkifyTargetMedia:{type:{name:"bool"},required:!1,description:""}}}},"1p8+":function(e,t,n){},"20NG":function(e,t,n){},"2OyZ":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r="DEFAULT_EMBED_NODE_ID",a="DEFAULT_EMBED_DIALOG"},"2X/W":function(e,t,n){},"2YUA":function(e,t,n){"use strict";var r=n("q1tI"),i=n.n(r),a=(n("17x9"),n("/MKj")),c=n("G5ih"),s=n("wmRA"),o=n("/PhX"),l=n("fdoY"),u=n("wAdX"),d=n("7oyi"),m=n("pNV7");n("Rhnt");function p(e){var t=e.closeDialog,n=e.removeFromPublic,r=e.postId,a=e.isAlbum;if(!r)return null;function o(){t()}return i.a.createElement(u.a,{className:"RemoveFromPublicDialog",name:s.C,isModal:!1},i.a.createElement("div",{className:"RemoveFromPublicDialog-head"},i.a.createElement("span",null,Object(c.b)("removeFromPublicDialogTitle")),i.a.createElement(d.a,{className:"RemoveFromPublicDialog-head--close",imageSrc:m.a[m.j],onClick:o})),i.a.createElement("div",{className:"RemoveFromPublicDialog-content"},i.a.createElement("div",{className:"RemoveFromPublicDialog-content--text"},Object(c.b)("removeFromPublicDialogText")),i.a.createElement("div",{className:"RemoveFromPublicDialog-content--buttons"},i.a.createElement(d.a,{className:"btn btn--cancel",onClick:o,label:Object(c.b)("removeFromPublicDialogCancelBtn")}),i.a.createElement(d.a,{className:"btn btn--submit",onClick:function(){n(r,a),t()},label:Object(c.b)("removeFromPublicDialogSubmitBtn")}))))}p.__docgenInfo={description:"",methods:[],displayName:"RemoveFromPublicDialog",props:{closeDialog:{type:{name:"func"},required:!0,description:""},removeFromPublic:{type:{name:"func"},required:!0,description:""},postId:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""},isAlbum:{type:{name:"bool"},required:!1,description:""}}},t.a=Object(a.b)(null,{closeDialog:o.y,removeFromPublic:l.ub})(p)},"2ajD":function(e,t){e.exports=function(e){return e!=e}},"2p6Y":function(e,t,n){},3:function(e,t){},"4KxA":function(e,t,n){},"58bT":function(e,t,n){},"5e9/":function(e,t,n){},"5ggk":function(e,t,n){},"5zAP":function(e,t,n){"use strict";n.d(t,"a",function(){return B}),n.d(t,"b",function(){return K});var r,a,o,i,c=n("lwsE"),s=n.n(c),l=n("W8MJ"),u=n.n(l),d=n("PJYZ"),m=n.n(d),p=n("7W2i"),f=n.n(p),h=n("a1gu"),g=n.n(h),y=n("Nsbk"),b=n.n(y),v=n("lSNA"),C=n.n(v),E=n("q1tI"),k=n.n(E),O=(n("17x9"),n("Efxr")),S=n("GB65"),P="UploadSpinner",N="Wrapper",I="Pose",j="container",q="giraffe",w="upvote",D="heart",T="drop",A="shadow",R="default",x="rotate",M="preJump",F="jump",_="land",G="postLand",L=[w,D,q],V=n("wKGW");n("Ojet");function U(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=b()(r);if(a){var n=b()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g()(this,e)}}var B=function(e){f()(a,e);var n=U(a);function a(e){var t,r;return s()(this,a),r=n.call(this,e),C()(m()(r),"activeItem",0),C()(m()(r),"isUnmounted",!1),C()(m()(r),"timerId",null),C()(m()(r),"animationFrame",function(){r.bounce(),r.splash()}),C()(m()(r),"nextItem",function(){return r.activeItem++,2<r.activeItem&&(r.activeItem=0),r.activeItem}),C()(m()(r),"bounce",function(){var e=r.nextItem();r.bounceAnim(L[e])}),C()(m()(r),"bounceAnim",function(n){var e,t=(e={},C()(e,j+I,M),C()(e,A+I,F),e);Object(S.Bb)(function(){var e;r.isUnmounted||r.setState((e={},C()(e,w+I,x),C()(e,q+I,x),C()(e,D+I,x),e))},150),Object(S.Bb)(function(){var e,t=(e={},C()(e,w+N+I,R),C()(e,q+N+I,R),C()(e,D+N+I,R),C()(e,n+N+I,"show"),e);r.isUnmounted||r.setState(t)},250),Object(S.Bb)(function(){r.isUnmounted||r.setState(C()({},A+I,_))},400),r.setState(t)}),C()(m()(r),"splash",function(){for(var t={},e=1;e<=3;e++){var n=0;n=1===e?r.randomNumber(-80,-65):2===e?r.randomNumber(-80,80):r.randomNumber(65,80),t["".concat(T).concat(e).concat(I)]=_,t["".concat(T).concat(e,"-y")]=r.randomNumber(-32,-40),t["".concat(T).concat(e,"-rotate")]=n}Object(S.Bb)(function(){var e;r.isUnmounted||r.setState((e={},C()(e,"".concat(T,"1").concat(I),F),C()(e,"".concat(T,"2").concat(I),F),C()(e,"".concat(T,"3").concat(I),F),e)),Object(S.Bb)(function(){r.isUnmounted||r.setState(t)},10),Object(S.Bb)(function(){var e;r.isUnmounted||r.setState((e={},C()(e,"".concat(T,"1").concat(I),G),C()(e,"".concat(T,"2").concat(I),G),C()(e,"".concat(T,"3").concat(I),G),e))},150),Object(S.Bb)(function(){var e;r.isUnmounted||r.setState((e={},C()(e,"".concat(T,"1").concat(I),R),C()(e,"".concat(T,"2").concat(I),R),C()(e,"".concat(T,"3").concat(I),R),e))},500)},520)}),C()(m()(r),"randomNumber",function(e,t){return Math.floor(Math.random()*(t-e+1))+e}),r.state=(t={},C()(t,q+I,R),C()(t,q+N+I,R),C()(t,w+I,R),C()(t,w+N+I,R),C()(t,D+I,R),C()(t,D+N+I,"show"),C()(t,j+I,R),C()(t,A+I,R),C()(t,T+1+I,R),C()(t,T+2+I,R),C()(t,T+3+I,R),t),r}return u()(a,[{key:"componentDidUpdate",value:function(){var e=this;this.state[j+I]===M&&Object(S.Bb)(function(){e.isUnmounted||e.setState(C()({},j+I,F))},100),this.state[j+I]===F&&Object(S.Bb)(function(){e.isUnmounted||e.setState(C()({},j+I,_))},250),this.state[j+I]===_&&Object(S.Bb)(function(){e.isUnmounted||e.setState(C()({},j+I,G))},100),this.state[j+I]===G&&Object(S.Bb)(function(){e.isUnmounted||e.setState(C()({},j+I,R))},150)}},{key:"componentDidMount",value:function(){var e=this;this.isUnmounted=!1,this.animationFrame(),this.timerId=Object(S.yb)(function(){e.animationFrame()},1800)}},{key:"componentWillUnmount",value:function(){Object(S.h)(this.timerId),this.isUnmounted=!0}},{key:"render",value:function(){var t=this,e="".concat(P," ").concat(this.props.className||"");return k.a.createElement("div",{style:this.props.style,className:e},k.a.createElement(W,{pose:this.state[j+I],key:"container-".concat(this.props.uid),className:"".concat(P,"-spinner is").concat(this.props.size,"px")},k.a.createElement("div",{key:"".concat(q+N,"-").concat(this.props.uid),className:"wrapper ".concat(this.state[q+N+I])},k.a.createElement(H,{className:"".concat(P,"-icon ").concat(P,"-icon-").concat(q),pose:this.state[q+I],key:"".concat(q,"-").concat(this.props.uid),onPoseComplete:function(e){e===x&&t.setState(C()({},q+I,R))}})),k.a.createElement("div",{key:"".concat(w+N,"-").concat(this.props.uid),className:"wrapper ".concat(this.state[w+N+I])},k.a.createElement(H,{className:"".concat(P,"-icon ").concat(P,"-icon-").concat(w),pose:this.state[w+I],key:"".concat(w,"-").concat(this.props.uid),onPoseComplete:function(e){e===x&&t.setState(C()({},w+I,R))}})),k.a.createElement("div",{key:"".concat(D+N,"-").concat(this.props.uid),className:"wrapper ".concat(this.state[D+N+I])},k.a.createElement(H,{className:"".concat(P,"-icon ").concat(P,"-icon-").concat(D),pose:this.state[D+I],key:"".concat(D,"-").concat(this.props.uid),onPoseComplete:function(e){e===x&&t.setState(C()({},D+I,R))}}))),k.a.createElement("div",{className:"splash"},k.a.createElement("div",{className:T+N,style:{transform:"rotate(".concat(this.state["".concat(T+1,"-rotate")],"deg)")}},k.a.createElement(z,{className:T,pose:this.state[T+1+I],key:"".concat(T+1,"-").concat(this.props.uid),y:this.state["".concat(T+1,"-y")],rotate:this.state["".concat(T+1,"-rotate")]})),k.a.createElement("div",{className:T+N,style:{transform:"rotate(".concat(this.state["".concat(T+2,"-rotate")],"deg)")}},k.a.createElement(z,{className:T,pose:this.state[T+2+I],key:"".concat(T+2,"-").concat(this.props.uid),y:this.state["".concat(T+2,"-y")],rotate:this.state["".concat(T+2,"-rotate")]})),k.a.createElement("div",{className:T+N,style:{transform:"rotate(".concat(this.state["".concat(T+3,"-rotate")],"deg)")}},k.a.createElement(z,{className:T,pose:this.state[T+3+I],key:"".concat(T+3,"-").concat(this.props.uid),y:this.state["".concat(T+3,"-y")],rotate:this.state["".concat(T+3,"-rotate")]})),k.a.createElement(Y,{className:A,pose:this.state[A+I],key:"".concat(A,"-").concat(this.props.uid),onPoseComplete:function(e){e===_&&t.setState(C()({},A+I,R))}})))}}]),a}(k.a.Component),W=O.a.div((r={},C()(r,R,{scaleY:1,scaleX:1,originY:1,originX:.5,transition:{type:"spring",damping:50,stiffness:200,duration:1e3}}),C()(r,M,{scaleY:.75,transition:{type:"spring",damping:50,stiffness:200,duration:500}}),C()(r,F,{scaleY:1,scaleX:.9,y:"-74px",transition:{type:"spring",damping:50,stiffness:200,duration:500}}),C()(r,_,{scaleX:1.2,y:0,transition:{type:"spring",damping:50,stiffness:200,duration:750}}),C()(r,G,{scaleY:.65,scaleX:1,transition:{type:"spring",damping:0,duration:500,stiffness:150}}),r)),H=O.a.div((a={},C()(a,R,{rotate:0,transition:{duration:10}}),C()(a,x,{rotate:360,transition:{duration:350}}),a)),z=O.a.div((o={},C()(o,R,{opacity:0,scaleY:1,y:0,transition:{duration:0}}),C()(o,F,{opacity:1,transition:{duration:0}}),C()(o,_,{scaleY:1.5,y:function(e){var t=e.y;return"".concat(t,"px")},transition:{type:"spring",damping:80,stiffness:200,duration:500}}),C()(o,G,{opacity:0,transition:{duration:250}}),o)),Y=O.a.div((i={},C()(i,R,{opacity:1,scaleX:1,transition:{duration:250}}),C()(i,F,{scaleX:.5,transition:{duration:500}}),C()(i,_,{scaleX:1.25,transition:{duration:250}}),i));function K(e){var t=e.children,n=e.isLoading,r=e.isScrollSpinner,a=k.a.createElement(B,{size:V.$initialSpinnerSize,uid:"7"});return k.a.createElement(k.a.Fragment,null,n&&!r&&k.a.createElement("div",{className:"UploadSpinner-initial"},a),k.a.createElement("div",{className:"UploadSpinner-contentWrapper"},t),n&&r&&k.a.createElement("div",{className:"UploadSpinner-scroll"},a))}B.__docgenInfo={description:"",methods:[{name:"animationFrame",docblock:null,modifiers:[],params:[],returns:null},{name:"nextItem",docblock:null,modifiers:[],params:[],returns:null},{name:"bounce",docblock:null,modifiers:[],params:[],returns:null},{name:"bounceAnim",docblock:null,modifiers:[],params:[{name:"activeItem",type:null}],returns:null},{name:"splash",docblock:null,modifiers:[],params:[],returns:null},{name:"randomNumber",docblock:null,modifiers:[],params:[{name:"min",type:null},{name:"max",type:null}],returns:null}],displayName:"UploadSpinner",props:{size:{type:{name:"number"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},style:{type:{name:"object"},required:!1,description:""},uid:{type:{name:"string"},required:!0,description:""}}},K.__docgenInfo={description:"",methods:[],displayName:"UploadSpinnerWrapper",props:{children:{type:{name:"object"},required:!0,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},isScrollSpinner:{type:{name:"bool"},required:!1,description:""}}}},"6IHV":function(e,t,n){},"6tpS":function(e,t,n){"use strict";var r=n("q1tI"),p=n.n(r),a=(n("17x9"),n("/MKj")),o=n("ANjH"),f=n("O39/"),h=n("/y0k"),g=n("G5ih"),i=n("E9Wd"),c=n("fdoY"),s=n("uGFe"),y=n("pNV7"),b=n("ooTa"),l=n("dZW6"),v=n("Zbpd"),u=n("lwsE"),d=n.n(u),m=n("W8MJ"),C=n.n(m),E=n("PJYZ"),k=n.n(E),O=n("7W2i"),S=n.n(O),P=n("a1gu"),N=n.n(P),I=n("Nsbk"),j=n.n(I),q=n("lSNA"),w=n.n(q),D=n("TSYQ"),T=n.n(D),A=(n("XKKw"),n("ME7n")),R=n.n(A),x=n("BeWG"),M=n.n(x),F=n("FtJD"),_=n.n(F),G=n("LUYa"),L=n.n(G),V=n("Oggj"),U=n.n(V),B=n("91Vr"),W=n.n(B);function H(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=j()(r);if(a){var n=j()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return N()(this,e)}}var z=function(e){S()(n,e);var t=H(n);function n(e){var i;return d()(this,n),i=t.call(this,e),w()(k()(i),"handleExpand",function(){return i.setState({isExpanded:!0})}),w()(k()(i),"shareFacebook",function(){var e=i.props,t=e.shareToFacebookAction,n=e.title,r=e.postId,a=e.tags;t(Object(b.a)(),n,r,a,f.k)}),w()(k()(i),"shareTwitter",function(){var e=i.props,t=e.shareToTwitterAction,n=e.title,r=e.postId,a=e.tags;t(Object(b.a)(),n,r,a,f.k)}),w()(k()(i),"shareReddit",function(){var e=i.props,t=e.shareToRedditAction,n=e.title,r=e.postId,a=e.tags;t(Object(b.a)(),n,r,a,f.k)}),w()(k()(i),"sharePinterest",function(){var e=i.props,t=e.isPinterestEnable,n=e.shareToPinterestAction,r=e.title,a=e.postId,o=e.tags;t&&n(Object(b.a)(),r,a,o,f.k)}),w()(k()(i),"shareTumblr",function(){var e=i.props,t=e.shareToTumblrAction,n=e.title,r=e.postId,a=e.tags;t(Object(b.a)(),n,r,a,f.k)}),w()(k()(i),"emailClick",function(){var e=i.props,t=e.shareToEmailAction,n=e.title,r=e.postId,a=e.tags;t(Object(b.a)(),n,r,a,f.k)}),i.state={isExpanded:!1},i}return C()(n,[{key:"render",value:function(){var e=this.state.isExpanded,t=this.props.isPinterestEnable;return p.a.createElement("div",{className:"SocialShare"},p.a.createElement("div",{className:"SocialShare-row isExpanded"},p.a.createElement("img",{src:R.a,onClick:this.shareFacebook}),p.a.createElement("img",{src:M.a,onClick:this.shareTwitter}),p.a.createElement("img",{src:_.a,onClick:this.shareReddit}),p.a.createElement("img",{src:L.a,onClick:this.emailClick})),p.a.createElement("div",{className:T()("SocialShare-row",{isExpanded:e})},e?p.a.createElement(p.a.Fragment,null,p.a.createElement("img",{className:T()({disabled:!t}),src:U.a,onClick:this.sharePinterest}),p.a.createElement("img",{src:W.a,onClick:this.shareTumblr})):p.a.createElement("button",{type:"button",className:"SocialShare-moreOptions",onClick:this.handleExpand},Object(g.b)("uploadShareMoreOptions"),p.a.createElement(y.W,{name:y.f}))))}}]),n}(p.a.Component);z.defaultProps={isPinterestEnable:!0},z.__docgenInfo={description:"",methods:[{name:"handleExpand",docblock:null,modifiers:[],params:[],returns:null},{name:"shareFacebook",docblock:null,modifiers:[],params:[],returns:null},{name:"shareTwitter",docblock:null,modifiers:[],params:[],returns:null},{name:"shareReddit",docblock:null,modifiers:[],params:[],returns:null},{name:"sharePinterest",docblock:null,modifiers:[],params:[],returns:null},{name:"shareTumblr",docblock:null,modifiers:[],params:[],returns:null},{name:"emailClick",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SocialShare",props:{isPinterestEnable:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!1,description:""},tags:{type:{name:"array"},required:!1,description:""},shareToFacebookAction:{type:{name:"func"},required:!0,description:""},shareToTwitterAction:{type:{name:"func"},required:!0,description:""},shareToRedditAction:{type:{name:"func"},required:!0,description:""},shareToPinterestAction:{type:{name:"func"},required:!0,description:""},shareToTumblrAction:{type:{name:"func"},required:!0,description:""},shareToEmailAction:{type:{name:"func"},required:!0,description:""}}};var Y=Object(a.b)(null,{shareToFacebookAction:c.Pb,shareToTwitterAction:c.Tb,shareToRedditAction:c.Rb,shareToPinterestAction:c.Qb,shareToTumblrAction:c.Sb,shareToEmailAction:c.Ob})(z);n("5ggk");function K(e){var t=e.runNewUpload,n=e.doneUpload,r=e.isLoggedIn,a=e.renderInput,o=e.clipboardCopy,i=e.copyLinkAction,c=e.isCopySuccess,s=e.title,l=e.postId,u=e.tags,d=e.albumFirstImg,m=e.hasImage;return p.a.createElement(v.a,{className:"HiddenPostConfirmDialog",name:h.v,head:Object(g.b)("hiddenPostDialogHead")},p.a.createElement("div",{className:"HiddenPostConfirmDialog-link"},p.a.createElement("div",{className:"HiddenPostConfirmDialog-link--head"},Object(g.b)("shareOptionsDialogShareLink")),p.a.createElement("div",{className:"HiddenPostConfirmDialog-copyLink"},a({className:"HiddenPostConfirmDialog-copyLink--input",text:Object(b.a)()}),p.a.createElement("button",{type:"button",className:"HiddenPostConfirmDialog-copyLink--button",onClick:function(){o(),i(Object(b.a)(),s,l,u,f.k)}},Object(g.b)("embedDialogCopy".concat(c?"Done":"")),c&&p.a.createElement(y.W,{name:y.e})))),p.a.createElement(Y,{title:s,postId:l,tags:u,imgSrc:d?d.get("link"):"",isPinterestEnable:m}),r&&p.a.createElement(X,{runNew:t,done:n}),r||p.a.createElement(J,null))}function J(){var e=Object(g.b)("hiddenPostDialogRegister");return p.a.createElement("div",{className:"HiddenPostConfirmDialog-notLoggedLinks"},p.a.createElement("a",{href:i.O},e.login),e.or,p.a.createElement("a",{href:i.N},e.register),e.save)}function X(e){var t=e.runNew,n=e.done;return p.a.createElement("div",{className:"HiddenPostConfirmDialog-confirm"},p.a.createElement("button",{type:"button",className:"HiddenPostConfirmDialog-confirm--again",onClick:t},Object(g.b)("hiddenPostDialogNewPost")),p.a.createElement("button",{type:"button",className:"HiddenPostConfirmDialog-confirm--done",onClick:n},Object(g.b)("hiddenPostDialogBackHome")))}K.__docgenInfo={description:"",methods:[],displayName:"HiddenPostConfirmDialog",props:{isLoggedIn:{type:{name:"bool"},required:!1,description:""},runNewUpload:{type:{name:"func"},required:!0,description:""},doneUpload:{type:{name:"func"},required:!0,description:""},isCopySuccess:{type:{name:"bool"},required:!0,description:""},renderInput:{type:{name:"func"},required:!0,description:""},clipboardCopy:{type:{name:"func"},required:!0,description:""},copyLinkAction:{type:{name:"func"},required:!0,description:""},title:{type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!1,description:""},tags:{type:{name:"array"},required:!1,description:""},albumFirstImg:{type:{name:"object"},required:!1,description:""},hasImage:{type:{name:"bool"},required:!1,description:""}}};t.a=Object(o.d)(l.a,Object(a.b)(function(e){var t=e.upload,n=e.user,r=e.ui,a=t.get("queue").reduce(function(e,t){return e||!t.get("isVideo")&&t.get("status")===s.X},!1);return{title:t.getIn(["post","title"]),postId:t.getIn(["album","id"]),tags:t.getIn(["post","tags"]).keySeq().toArray(),albumFirstImg:t.get("queue").first(),isLoggedIn:n.get("isLoggedIn"),isCopySuccess:r.clipboardCopy.get("isSuccess"),hasImage:a}},{runNewUpload:s.zc,doneUpload:s.Lb,copyLinkAction:c.Y}))(K)},"7TkL":function(e,t,n){},"7Yk7":function(e,t,n){},"7tbW":function(e,t,n){var r=n("LGYb");e.exports=function(e){return e&&e.length?r(e):[]}},"7znt":function(e,t,n){},"91Vr":function(e,t,n){e.exports=n.p+"desktop-assets/tumblr_share.3b6b3e2231ffeafd3a443b2a501ad175.svg"},"94Yu":function(e,t,n){"use strict";function r(e){var t=e.onClose,n=Object(b.useState)(3),r=_()(n,2),a=r[0],o=r[1],i=Object(b.useRef)(a);return i.current=a,Object(b.useEffect)(function(){var e=Object(D.yb)(function(){1===i.current&&Object(D.h)(e),o(function(e){return e-1})},1e3);return function(){return Object(D.h)(e)}},[]),v.a.createElement("div",{className:"SctuCloseButton",onClick:0===a?t:function(){}},v.a.createElement("span",{className:"SctuCloseButton-text"},Object(L.b)("sctuClose",a),0===a?v.a.createElement(G.hb,{name:G.g,width:"24",height:"24",viewBox:"0 0 32 32",className:"SctuCloseButton-x"}):" 00:0".concat(a)))}var a=n("lwsE"),i=n.n(a),o=n("W8MJ"),c=n.n(o),s=n("PJYZ"),l=n.n(s),u=n("7W2i"),d=n.n(u),m=n("a1gu"),p=n.n(m),f=n("Nsbk"),h=n.n(f),g=n("lSNA"),y=n.n(g),b=n("q1tI"),v=n.n(b),C=(n("17x9"),n("/MKj")),E=n("ANjH"),k=n("Ty5D"),O=n("JPcv"),S=n("sEfC"),P=n.n(S),N=n("TSYQ"),I=n.n(N),j=n("9Jdl"),q=n("yFeA"),w=n("pV1z"),D=n("GB65"),T=n("ErBw"),A=n("enaV"),R=n("/PhX"),x=n("+qLk"),M=n("bWDY"),F=n("J4zp"),_=n.n(F),G=n("BWa0"),L=n("G5ih");n("jAEK");r.__docgenInfo={description:"",methods:[],displayName:"SctuCloseButton",props:{onClose:{type:{name:"func"},required:!0,description:""}}};var V=r;n("qMU6");function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach(function(e){y()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function W(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h()(r);if(a){var n=h()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p()(this,e)}}var H=function(e){d()(n,e);var t=W(n);function n(e){var o;return i()(this,n),o=t.call(this,e),y()(l()(o),"receiveMessage",function(e){if(e&&e.data&&"string"==typeof e.data){var t=e.data.match(/disableRefreshForSession:(\S+);?/);t&&t[1]?o.setState({refreshState:j.i}):(t=e.data.match(/disableTimedRefresh:(\S+);?/))&&t[1]&&o.setState({refreshState:j.j})}}),y()(l()(o),"resizeHandler",P()(function(){var e=o.props.updateSCTUHeightAction;o.sctuWrapper.current&&e(o.getRefHeight())},100)),y()(l()(o),"callback",function(){(0,o.props.sctuLoadedAction)()}),y()(l()(o),"onloadCallback",function(){var e=o.state,t=e.show,n=e.isValid;n!==t&&o.updateVisibility(n)}),y()(l()(o),"onClose",function(){var e=o.props,t=e.onStatusChange,n=e.updateSCTUHeightAction,r=e.closeSCTUAction,a=o.state.insertionId;o.setState({closed:!0},function(){t(),n(0)}),a&&r(a)}),y()(l()(o),"updateVisibility",function(e){var t=o.props,n=t.onStatusChange,r=t.updateSCTUHeightAction;o.setState({show:e},function(){n(),r(o.getRefHeight())})}),y()(l()(o),"loadCustomCreative",function(e){e.withCloseButton&&o.setState({withCloseButton:!0}),e.insertionId&&o.setState({insertionId:e.insertionId}),o.setState({isValid:!0,isFootliner:!!e.isFootliner}),o.updateVisibility(!0)}),y()(l()(o),"getRefHeight",function(){return o.sctuWrapper.current?o.sctuWrapper.current.offsetHeight:0}),o.state={isValid:!1,show:!1,withCloseButton:!1,closed:!1,insertionId:"",refreshState:j.j,isFootliner:!1},o.sctuWrapper=v.a.createRef(),o.componentKey="sctu",Object(D.xb)("loadCustomCreative",o.loadCustomCreative),Object(D.c)("message",o.receiveMessage),Object(D.c)("resize",o.resizeHandler),o}return c()(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchClosedSCTUsAction)()}},{key:"componentWillUnmount",value:function(){Object(D.nb)("message",this.receiveMessage),Object(D.nb)("resize",this.resizeHandler)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.adsEnabled,a=n.onStatusChange,o=n.updateSCTUHeightAction;e.adsEnabled&&!r&&this.setState({closed:!0},function(){a(),o(t.getRefHeight())})}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.pathname,a=n.adsEnabled,o=n.path,i=n.streamIsWhitelisted,c=n.postAdConfig,s=this.state,l=s.show,u=s.withCloseButton,d=s.closed;return i!==e.streamIsWhitelisted||(o!==e.path||(a!==e.adsEnabled||(r!==e.pathname||(c!==e.postAdConfig||(l!==t.show||(u!==t.withCloseButton||d!==t.closed))))))}},{key:"shouldHide",value:function(){var e=this.props,t=e.adsEnabled,n=e.streamIsWhitelisted,r=e.match,a=e.postAdConfig,o=this.state.closed;return!(t&&!o)||(!(!r.params.galleryId||a)||Object(A.e)(Object(D.w)())===x.C&&!n)}},{key:"getSlotTargeting",value:function(){var e=this.props,t=e.sctusClosed,n=e.slotTargeting;return 0<t.size?B(B({},n),{},{HLClose:t.toJS()}):n}},{key:"getKey",value:function(){var e=this.props.pathname;return this.state.refreshState===j.i||(this.componentKey="".concat("sctu").concat(e)),this.componentKey}},{key:"render",value:function(){var t=this;if(this.shouldHide())return null;var e=this.props,n=e.adsEnabled,r=e.path,a=e.postAdConfig,o=e.coverFixed,i=this.state,c=i.show,s=i.withCloseButton,l=i.isFootliner,u=I()({"Ad-SCTU":!0,"Ad-SCTU-footliner":l||o});return v.a.createElement("div",{className:u,ref:this.sctuWrapper,key:this.getKey(),style:{display:c?"block":"none"}},v.a.createElement(w.a,{path:r,postAdConfig:a,forceSafe:!a},function(e){return v.a.createElement(v.a.Fragment,null,v.a.createElement(q.a,{adsEnabled:n,path:e,dimensions:j.F,callback:t.callback,onloadCallback:t.onloadCallback,slotTargeting:t.getSlotTargeting()}),s&&v.a.createElement(V,{onClose:t.onClose}))}))}}]),n}(b.Component);H.defaultProps={sctusClosed:Object(O.List)(),slotTargeting:{},coverFixed:!1},H.__docgenInfo={description:"",methods:[{name:"receiveMessage",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"callback",docblock:null,modifiers:[],params:[],returns:null},{name:"onloadCallback",docblock:null,modifiers:[],params:[],returns:null},{name:"shouldHide",docblock:null,modifiers:[],params:[],returns:null},{name:"onClose",docblock:null,modifiers:[],params:[],returns:null},{name:"updateVisibility",docblock:null,modifiers:[],params:[{name:"show",type:null}],returns:null},{name:"loadCustomCreative",docblock:null,modifiers:[],params:[{name:"config",type:null}],returns:null},{name:"getRefHeight",docblock:null,modifiers:[],params:[],returns:null},{name:"getSlotTargeting",docblock:null,modifiers:[],params:[],returns:null},{name:"getKey",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Sctu",props:{sctusClosed:{defaultValue:{value:"List()",computed:!0},type:{name:"instanceOf",value:"List"},required:!1,description:""},slotTargeting:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},coverFixed:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},path:{type:{name:"number"},required:!0,description:""},onStatusChange:{type:{name:"func"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},streamIsWhitelisted:{type:{name:"bool"},required:!1,description:""},closeSCTUAction:{type:{name:"func"},required:!0,description:""},fetchClosedSCTUsAction:{type:{name:"func"},required:!0,description:""},sctuLoadedAction:{type:{name:"func"},required:!0,description:""},pathname:{type:{name:"string"},required:!1,description:""},updateSCTUHeightAction:{type:{name:"func"},required:!0,description:""},postAdConfig:{type:{name:"object"},required:!1,description:""},match:{type:{name:"object"},required:!0,description:""},location:{type:{name:"object"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""}}};t.a=Object(E.d)(Object(C.b)(function(e){var t=e.ad,n=e.user,r=e.gallery,a=e.history,o=e.postsData,i=e.ui,c=Object(M.d)(t,n);return t.getIn(["transformation","enabled"])&&(c=!1),{adsEnabled:c,streamIsWhitelisted:r.get("streamIsWhitelisted"),sctusClosed:t.get("sctusClosed"),pathname:a.getIn(["location","pathname"]),postAdConfig:o.getIn(["currentPost","adConfig"]),coverFixed:i.cover.get("fixed")}},{closeSCTUAction:T.v,fetchClosedSCTUsAction:T.w,sctuLoadedAction:T.D,updateSCTUHeightAction:R.N}),k.h)(H)},"98ov":function(e,t,n){var r=n("VhX2"),a=n("P/G1");e.exports=function(e){return r(a(e))}},"9DFJ":function(e,t,n){},"9JWB":function(e,t,n){},"9UQG":function(e,t,n){"use strict";var r=n("q1tI"),p=n.n(r),a=n("17x9"),o=n.n(a),i=n("pVnL"),c=n.n(i);var s={primaryColor:"#8935c7",primaryGradient:"linear-gradient(to right, rgba(255, 88, 182, 1), rgba(255, 88, 182, 0))",secondaryGradient:"linear-gradient(to right, rgba(255, 88, 182, 0.4), rgba(137, 53, 199, 0))",buttonGradient:"linear-gradient(to top, rgba(254, 106, 255, 0.62), #db53dc)",buttonShadow:"rgba(119, 43, 120, 0.7) 6px 12px 32px 1px"},l={primaryColor:"#3149c9",primaryGradient:"linear-gradient(to right, rgba(6, 158, 94, 1), rgba(6, 158, 94, 0))",secondaryGradient:"linear-gradient(to right, rgba(6, 158, 182, 0.4), rgba(49, 73, 201, 0))",buttonGradient:"linear-gradient(to top, rgba(139, 173, 255, 0.62), #2f6dfc)",buttonShadow:"rgba(24, 54, 155, 0.7) 6px 12px 32px 1px"};var u=n("lwsE"),d=n.n(u),m=n("W8MJ"),f=n.n(m),h=n("7W2i"),g=n.n(h),y=n("a1gu"),b=n.n(y),v=n("Nsbk"),C=n.n(v),E=n("pNV7");function k(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=C()(r);if(a){var n=C()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b()(this,e)}}var O=function(e){g()(n,e);var t=k(n);function n(){return d()(this,n),t.apply(this,arguments)}return f()(n,[{key:"componentDidMount",value:function(){(0,this.props.handleOnMount)()}},{key:"render",value:function(){var e=this.props,t=e.headline,n=e.subhead,r=e.actionButtonText,a=e.onClose,o=e.primaryColor,i=e.primaryGradient,c=e.secondaryGradient,s=e.bgImageSrc,l=e.buttonGradient,u=e.buttonShadow,d=e.url;return p.a.createElement("div",{className:"BannerTop3"},p.a.createElement("div",{style:{backgroundColor:o},className:"BannerTop3-layer"},p.a.createElement("div",{style:{backgroundImage:i},className:"BannerTop3-layer"})),p.a.createElement("div",{className:"BannerTop3-content BannerTop3-layer"},p.a.createElement("div",{style:{backgroundImage:c,zIndex:2},className:"BannerTop3-layer"}),p.a.createElement("div",{className:"BannerTop3-spacer--first"}),p.a.createElement("div",{className:"BannerTop3-description"},p.a.createElement("div",{className:"BannerTop3-headline BannerTop3-textOverflow"},t),p.a.createElement("div",{className:"BannerTop3-subhead"},n),s&&p.a.createElement("img",{src:s})),p.a.createElement("div",{className:"BannerTop3-spacer"}),p.a.createElement("a",{href:d,target:"_blank",style:{backgroundImage:l,boxShadow:u},className:"BannerTop3-buttonCTA"},p.a.createElement("span",null,r)),p.a.createElement("div",{className:"BannerTop3-spacer--last"}),p.a.createElement("div",{className:"BannerTop3-buttonClose",onClick:a},p.a.createElement(E.W,{name:E.h,width:13}))))}}]),n}(p.a.Component);O.__docgenInfo={description:"",methods:[],displayName:"Default",props:{headline:{type:{name:"string"},required:!0,description:""},subhead:{type:{name:"string"},required:!0,description:""},actionButtonText:{type:{name:"string"},required:!0,description:""},onClose:{type:{name:"func"},required:!0,description:""},bgImageSrc:{type:{name:"string"},required:!1,description:""},url:{type:{name:"string"},required:!0,description:""},handleOnMount:{type:{name:"func"},required:!0,description:""},primaryColor:{type:{name:"string"},required:!0,description:""},primaryGradient:{type:{name:"string"},required:!0,description:""},secondaryGradient:{type:{name:"string"},required:!0,description:""},buttonGradient:{type:{name:"string"},required:!0,description:""},buttonShadow:{type:{name:"string"},required:!0,description:""}}};var S=n("PJYZ"),P=n.n(S),N=n("lSNA"),I=n.n(N),j=n("AoHe");function q(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=C()(r);if(a){var n=C()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b()(this,e)}}var w=function(e){g()(o,e);var a=q(o);function o(){var n;d()(this,o);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=a.call.apply(a,[this].concat(t)),I()(P()(n),"onBannerClose",function(e){var t=n.props.onClose;e.stopPropagation(),e.preventDefault(),t()}),n}return f()(o,[{key:"componentDidMount",value:function(){(0,this.props.handleOnMount)()}},{key:"render",value:function(){var e=this.props,t=e.headline,n=e.subhead,r=e.actionButtonText,a=e.onClick,o=e.backgroundColor,i=e.bgImageSrc,c=e.url,s=e.customClass,l=void 0===s?"masthead":s,u=this.props.styles,d=Object(j.h)(t),m={};return d&&(m.backgroundImage='url("'.concat(t,'")')),u=u?u.toJSON():{backgroundColor:o},p.a.createElement("div",{className:"BannerTop3 ".concat(l)},p.a.createElement("a",{href:c,target:"_blank",onClick:a},p.a.createElement("div",{style:u,className:"BannerTop3-content BannerTop3-layer"},p.a.createElement("div",{style:{backgroundImage:'url("'.concat(i,'")')},className:"masthead-image"}),p.a.createElement("div",{style:m,className:"BannerTop3-description"},p.a.createElement("div",{className:"BannerTop3-headline BannerTop3-textOverflow"},!d&&t),p.a.createElement("div",{className:"BannerTop3-subhead"},n)),!Object(j.h)(r)&&p.a.createElement("div",{className:"BannerTop3-buttonCTA"},r),Object(j.h)(r)&&p.a.createElement("div",{className:"BannerTop3-buttonCTA-image",style:{backgroundImage:'url("'.concat(r,'")')}}),p.a.createElement("div",{className:"BannerTop3-buttonClose",onClick:this.onBannerClose},p.a.createElement(E.W,{name:E.i,width:20})))))}}]),o}(p.a.Component);w.__docgenInfo={description:"",methods:[{name:"onBannerClose",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"Masthead",props:{headline:{type:{name:"string"},required:!0,description:""},subhead:{type:{name:"string"},required:!0,description:""},actionButtonText:{type:{name:"string"},required:!0,description:""},onClose:{type:{name:"func"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},url:{type:{name:"string"},required:!0,description:""},backgroundColor:{type:{name:"string"},required:!0,description:""},styles:{type:{name:"object"},required:!1,description:""},bgImageSrc:{type:{name:"string"},required:!1,description:""},customClass:{type:{name:"string"},required:!0,description:""},handleOnMount:{type:{name:"func"},required:!0,description:""}}};var D=n("JPcv"),T=n("moYt"),A=n.n(T),R=n("/MKj"),x=n("cr+I"),M=n.n(x),F=n("WFr8"),_=n("+qLk"),G=n("PLrP"),L=n("enaV"),V=n("GB65");function U(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=C()(r);if(a){var n=C()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b()(this,e)}}function B(e){var t=e.ctas,n=e.ctasClosed,r=e.city,a=e.region,o=e.metroCode,i=e.countryCode,c=e.hasPaid,s=(new Date).getTime()/1e3;return t.filter(function(e){return e.get("startTime")<s&&e.get("endTime")>s&&!n.includes(e.get("localStorageName"))&&function(e,t,n,r,a){var o=e.get("targeting");if(!o||!o.size)return!0;if(!t)return!1;var i={region:r,city:n,metroCode:a};return 0<o.filter(function(n,e){return A()(e)===t&&0===["region","city","metroCode"].filter(function(t){var e=n.get(t);return e&&e.size&&!e.filter(function(e){return e===i[t]}).size}).length}).size}(e,i,r,a,o)&&!(e.get("promoted")&&c)})}n("rbYx");function W(e){return-1!==e.customClass.indexOf("masthead")?p.a.createElement(w,e):p.a.createElement(function(n){function e(e){var t="blue"===e.theme?l:s;return p.a.createElement(n,c()({},e,t))}return e.displayName="WithThemeStyle(".concat(function(e){return e.displayName||e.name||"Component"}(n),")"),e}(O),e)}W.defaultProps={customClass:""},W.__docgenInfo={description:"",methods:[],displayName:"BannerTop",props:{customClass:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""}}};var H,z,Y;t.a=(z=W,(Y=function(e){g()(n,e);var t=U(n);function n(e){var a;return d()(this,n),a=t.call(this,e),I()(P()(a),"isSfw",function(e){if(!e.get("sfw"))return!0;var t=a.state.sfw,n=a.props.currentPostInView;return!(!t||!n)&&(!!n.getIn(["adConfig","showsAds"])||(a.setState({sfw:!1}),!1))}),I()(P()(a),"getForceCTAName",function(){var e=a.props.queryString,t=M.a.parse(e).masthead;return t?(a.setState({forceCTA:t}),t):a.state.forceCTA}),I()(P()(a),"getForceCTAs",function(){var t=a.getForceCTAName();return t?a.props.ctas.filter(function(e){return e.get("localStorageName")===t}):Object(D.List)()}),I()(P()(a),"getActiveCTA",function(){var e=a.getForceCTAs(),t=a.props,n=t.ctas,r=t.ctaClosed;if(0===e.size&&(e=n.filter(function(e){return a.isSfw(e)})),0<e.size&&!r)return e.get(Math.floor(a.random*e.size))}),I()(P()(a),"shouldHide",function(){if(Object(V.w)()&&Object(L.e)(Object(V.w)())===_.C)return!0;var e=a.props.currentPostInView;return e&&e.get("is_ad")}),I()(P()(a),"handleCtaClose",function(e){return function(){(0,a.props.closeCTA)(e.get("localStorageName"),e.get("endTime"),e.get("promoted"))}}),I()(P()(a),"handleCtaClick",function(e){return function(){(0,a.props.clickedCTA)(e.get("localStorageName"),e.get("promoted"))}}),I()(P()(a),"handleImgLoad",function(e){var t=a.props.setCTASize,n=e.nativeEvent.srcElement;t(n.width,n.height)}),I()(P()(a),"onRender",function(){var e=a.props,t=e.onStatusChange,n=e.viewedCTA,r=a.getActiveCTA();t(!0),n(r.get("localStorageName"),r.get("endTime"),r.get("promoted"),r.get("oncePerSession"))}),a.state={sfw:!0,forceCTA:""},a.random=Math.random(),a}return f()(n,[{key:"isCurrentPostChanged",value:function(e){var t=this.props,n=t.currentPostInView,r=t.isMobile;return!(n||!e.currentPostInView)||!(!n||!e.currentPostInView)&&(!r&&n.get("id")!==e.currentPostInView.get("id")||(n.get("is_ad")!==e.currentPostInView.get("is_ad")||!n.getIn(["adConfig","showsAds"])!=!e.currentPostInView.getIn(["adConfig","showsAds"])))}},{key:"componentDidMount",value:function(){if(this.props.ctaClosed||this.shouldHide())return null}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.ctaClosed,r=t.ctas;return n!==e.ctaClosed||this.isCurrentPostChanged(e)||r.size!==e.ctas.size}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.ctaClosed,r=t.onStatusChange,a=t.isMobile,o=t.closeCTASilently,i=t.currentPostInView;n!==e.ctaClosed&&r(n);var c=this.getActiveCTA();c&&(a||n||!(!i&&e.currentPostInView||i&&e.currentPostInView&&i.get("id")!==e.currentPostInView.get("id"))||o(c.get("localStorageName"),c.get("endTime"),c.get("promoted")))}},{key:"render",value:function(){if(this.props.ctaClosed||this.shouldHide())return null;var e=this.getActiveCTA();if(!e)return null;var t=e.get("backgroundImages"),n=t.get(Math.floor(Math.random()*t.size));return p.a.createElement(p.a.Fragment,null,p.a.createElement(z,{theme:e.get("theme")||"",headline:e.get("headline"),subhead:e.get("subhead"),actionButtonText:e.get("actionButtonText"),onClose:this.handleCtaClose(e),onClick:this.handleCtaClick(e),onImageLoad:this.handleImgLoad,url:e.get("url"),bgImageSrc:n,customClass:e.get("customClass"),backgroundColor:e.get("backgroundColor"),styles:e.get("styles"),handleOnMount:this.onRender}),e.get("pixels",[]).map(function(e){return p.a.createElement("img",{src:e,style:{display:"none"}})}))}}]),n}(p.a.Component)).displayName="WithCTA(".concat((H=z).displayName||H.name||"Component",")"),Y.contextTypes={router:o.a.object},Y.defaultProps={onStatusChange:function(){}},Object(R.b)(function(e){var t=e.config,n=e.agent,r=e.posts,a=e.postsData,o=e.user;return{ctas:B({ctas:t.get("ctas"),ctasClosed:t.get("ctasClosed"),city:n.get("city"),region:n.get("region"),metroCode:n.get("metroCode"),countryCode:n.get("countryCode"),hasPaid:o.get("hasPaid")||o.getIn(["subscription","isSubscribed"])}),ctaClosed:t.get("ctaClosed"),currentPostInView:r.get("posts").get(a.get("currentPostInView"))||a.get("currentPost"),isMobile:n.get(G.b)}},{closeCTA:F.f,closeCTASilently:F.g,setCTASize:F.i,clickedCTA:F.e,viewedCTA:F.j})(Y))},"9uSn":function(e,t,n){"use strict";n.d(t,"a",function(){return I});var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("TSYQ")),C=n.n(v),E=n("GB65"),k=n("AoHe"),O=n("xypG");n("NXH/");function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function P(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var N="center",I=function(e){u()(r,e);var n=P(r);function r(e){var t;return a()(this,r),t=n.call(this,e),g()(s()(t),"handleOnMouseEnter",function(){t.setState(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({show:!0},t.getTooltipPlacement()))}),g()(s()(t),"handleOnMouseLeave",function(){t.setState({isLoading:!0,show:!1,yPosition:"top",xPosition:N})}),g()(s()(t),"handleMediaLoad",function(){t.state.isLoading&&t.setState({isLoading:!1},function(){t.setState(t.getTooltipPlacement())})}),t.state={show:!1,yPosition:"top",xPosition:N,isLoading:!0},t}return i()(r,[{key:"getTooltipPlacement",value:function(){var e=this.props.popupRef,t="top",n=N,r=this.tooltip.getBoundingClientRect().top,a=this.tooltiptext.getBoundingClientRect().left,o=this.tooltiptext.getBoundingClientRect().right,i=Object(E.v)(),c=Object(E.u)();if(e&&e.current){var s=e.current;r-=s.getBoundingClientRect().top,a-=s.getBoundingClientRect().left,i=s.getBoundingClientRect().right,c=s.getBoundingClientRect().height}return r<c/2&&(t="bottom"),a<0?n="right":i<o&&(n="left"),{yPosition:t,xPosition:n}}},{key:"getMediaComponentFromSrc",value:function(){var e=this.props.src;if(!e)return"";var t=Object(k.j)(this.props.src),n=C()({hide:this.state.isLoading}),r=b.a.createElement("img",{className:n,onLoad:this.handleMediaLoad,src:e});return t&&(e=this.props.src,".gifv"===t[0]&&(e=e.replace(".gifv",".mp4")),r=b.a.createElement("video",{src:e,className:n,onCanPlay:this.handleMediaLoad,muted:!0,loop:!0,autoPlay:!0})),b.a.createElement("div",null,this.state.isLoading&&b.a.createElement(O.a,{size:20}),r)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.className,a=n.children,o=n.text,i=n.src,c=n.onClick,s=C()((e={Tooltip:!0},g()(e,"Tooltip-".concat(this.state.yPosition),!0),g()(e,"Tooltip-".concat(this.state.xPosition),!0),g()(e,"inline",this.props.inline),g()(e,"inlineBlock",!this.props.inline),g()(e,r,r),e));return b.a.createElement("div",{className:s,ref:function(e){t.tooltip=e},onMouseEnter:this.handleOnMouseEnter,onMouseLeave:this.handleOnMouseLeave,onClick:c},a,b.a.createElement("span",{className:"Tooltip-text",ref:function(e){t.tooltiptext=e}},o,this.state.show&&i&&this.getMediaComponentFromSrc()))}}]),r}(y.Component);I.defaultProps={inline:!1,onClick:function(){}},I.__docgenInfo={description:"",methods:[{name:"getTooltipPlacement",docblock:null,modifiers:[],params:[],returns:null},{name:"handleOnMouseEnter",docblock:null,modifiers:[],params:[],returns:null},{name:"handleOnMouseLeave",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMediaLoad",docblock:null,modifiers:[],params:[],returns:null},{name:"getMediaComponentFromSrc",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Tooltip",props:{inline:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},children:{type:{name:"node"},required:!0,description:""},text:{type:{name:"union",value:[{name:"string"},{name:"object"}]},required:!1,description:""},src:{type:{name:"string"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},popupRef:{type:{name:"object"},required:!1,description:""}}}},A8WO:function(e,t,n){},B0tv:function(e,t,n){},"BFB+":function(e,t,n){},BeWG:function(e,t,n){e.exports=n.p+"desktop-assets/twitter_share.5aa6c8c9669a31f6a684cb6fb6998597.svg"},CG6i:function(e,t,n){"use strict";n.d(t,"a",function(){return N});var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("TSYQ")),C=n.n(v),E=n("F8bk"),k=n("oHla"),O=n("GB65"),S=n("gmqy");function P(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var N=function(e){u()(r,e);var n=P(r);function r(e){var l;a()(this,r),l=n.call(this,e),g()(s()(l),"element",null),g()(s()(l),"placeholderElement",null),g()(s()(l),"onContextMenu",function(){var e=l.props.originalSrc;l.setState({originalLink:e})}),g()(s()(l),"onClick",function(e){var t=l.props,n=t.zoom,r=t.originalSrc;"IMG"===e.target.tagName&&l.isZoomable()&&n&&n({show:!0,src:r})}),g()(s()(l),"onThumbnailError",function(e){var t=l.props,n=t.onError,r=t.originalSrc;if(l.state.thumbnailLink!==r)return l.setState({thumbnailLink:r});n(e)}),g()(s()(l),"renderThumbnail",function(){var e=l.props,t=e.onLoad,n=e.width,r=e.height,a=e.maxHeight,o=e.hash,i=e.title,c=e.index,s=l.state.thumbnailLink;return b.a.createElement("div",{className:"imageContainer"},b.a.createElement(E.a,{hash:o,title:i,indexForComment:c}),b.a.createElement("img",{ref:function(e){l.element=e},src:s,width:n,height:r,style:{maxHeight:a},onLoad:t,onError:l.onThumbnailError,loading:"lazy"}))}),g()(s()(l),"renderWithOriginalImage",function(){var e=l.state.originalLink,t=C()({imageContainer:!0,zoomable:l.isZoomable()});return b.a.createElement("div",{className:t,onContextMenu:l.onContextMenu,onClick:l.onClick},b.a.createElement("img",{ref:function(e){l.placeholderElement=e},className:"image-placeholder",src:e}),l.renderThumbnail())}),g()(s()(l),"isZoomable",function(){var e=l.props,t=e.height,n=e.maxHeight;return n&&n<t});var t=Object(k.b)(Object(O.R)())?e.originalSrc:e.thumbSrc;return l.state={originalLink:t,thumbnailLink:t},l}return i()(r,[{key:"componentWillUnmount",value:function(){this.element&&this.element.removeAttribute("src"),this.placeholderElement&&this.placeholderElement.removeAttribute("src")}},{key:"render",value:function(){return this.props.withOriginalImage?this.renderWithOriginalImage():this.renderThumbnail()}}]),r}(b.a.Component);N.__docgenInfo={description:"",methods:[{name:"onContextMenu",docblock:null,modifiers:[],params:[],returns:null},{name:"onClick",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onThumbnailError",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"renderThumbnail",docblock:null,modifiers:[],params:[],returns:null},{name:"renderWithOriginalImage",docblock:null,modifiers:[],params:[],returns:null},{name:"isZoomable",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostImageComponent",props:{hash:{type:{name:"string"},required:!1,description:""},thumbSrc:{type:{name:"string"},required:!1,description:""},originalSrc:{type:{name:"string"},required:!1,description:""},height:{type:{name:"number"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""},onLoad:{type:{name:"func"},required:!1,description:""},onError:{type:{name:"func"},required:!1,description:""},withOriginalImage:{type:{name:"bool"},required:!1,description:""},maxHeight:{type:{name:"number"},required:!1,description:""},zoom:{type:{name:"func"},required:!1,description:""},isDeleted:{type:{name:"bool"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},index:{type:{name:"number"},required:!1,description:""}}},t.b=Object(S.a)(N)},CVa3:function(e,t,n){},CZoQ:function(e,t){e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},Cz84:function(e,t,n){},D0BC:function(e,t,n){var o=n("vlbB"),i=n("mv/X"),c=n("ZCgT"),s=parseFloat,l=Math.min,u=Math.random;e.exports=function(e,t,n){if(n&&"boolean"!=typeof n&&i(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=c(e),void 0===t?(t=e,e=0):t=c(t)),t<e){var r=e;e=t,t=r}if(n||e%1||t%1){var a=u();return l(e+a*(t-e+s("1e-"+((a+"").length-1))),t)}return o(e,t)}},D4vR:function(e,t,n){},DT9I:function(e,t,n){e.exports=n.p+"desktop-assets/s3.8d7432b17023313078fbeb8fa946386d.svg"},DfB6:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),o=n.n(a),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("G5ih")),C=n("/MKj"),E=n("BWa0"),k=n("uwpD"),O=n("dRit"),S=n("GB65"),P=n("pVnL"),N=n.n(P),I=n("QILm"),j=n.n(I);function q(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var w=function(e){u()(n,e);var t=q(n);function n(e){var r;return i()(this,n),r=t.call(this,e),g()(s()(r),"getContainer",function(e){r.container=e}),g()(s()(r),"handle",function(e){if("touchend"===e.type&&(r.isTouch=!0),"click"!==e.type||!r.isTouch){var t=r.props.onClickOutside,n=r.container;n&&!n.contains(e.target)&&t(e)}}),r.isTouch=!1,r}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=(e.onClickOutside,j()(e,["children","onClickOutside"]));return b.a.createElement("div",N()({},n,{ref:this.getContainer}),t)}},{key:"componentDidMount",value:function(){Object(S.a)("touchend",this.handle,!0),Object(S.a)("click",this.handle,!0)}},{key:"componentWillUnmount",value:function(){Object(S.jb)("touchend",this.handle,!0),Object(S.jb)("click",this.handle,!0)}}]),n}(y.Component);w.__docgenInfo={description:"",methods:[{name:"getContainer",docblock:null,modifiers:[],params:[{name:"ref",type:null}],returns:null},{name:"handle",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"ClickOutside",props:{onClickOutside:{type:{name:"func"},required:!0,description:""},children:{type:{name:"node"},required:!1,description:""}}};var D=n("TSYQ"),T=n.n(D),A=n("JPcv"),R=n("sEfC"),x=n.n(R),M=n("E9Wd");function F(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var _=function(e){u()(a,e);var r=F(a);function a(){var c;i()(this,a);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c=r.call.apply(r,[this].concat(t)),g()(s()(c),"onSelect",function(e){(0,c.props.onCategorySelection)(e)}),g()(s()(c),"renderReactionGifCategories",function(e,t){var n=c.props.getColorByPostIndex,r=e.preview,a={backgroundImage:"linear-gradient(".concat(n(t),", #2e3035)")},o=e.shortname,i="gifpicker-collectionBackground".concat(e.is_promoted?" promotedCollection":"");return b.a.createElement("div",{key:"".concat(t).concat(r).concat(o),className:"gifpicker-collection",onClick:function(){c.onSelect(o),c.resetCollection()}},b.a.createElement("video",{style:a,className:i,autoPlay:!0,preload:"none",loop:!0,playsInline:!0},b.a.createElement("source",{type:"video/mp4",src:"".concat(M.W,"/").concat(r,"_lq.mp4")})),b.a.createElement("div",null,b.a.createElement("h2",{className:"gifpicker-collectionName"},e.name,e.is_promoted&&e.subtitle&&b.a.createElement("span",{className:"gifpicker-collectionSubtitle"},e.subtitle))))}),c}return o()(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchReactionCollections,n=e.resetReactionGifSearchCollections;t(),n()}},{key:"resetCollection",value:function(){this.props.reactionGifCollections}},{key:"render",value:function(){var e=this.props.reactionGifCollections;return b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:"gifpicker-body-container"},b.a.createElement("div",{className:"gifpicker-body Scrollbar--gray"},e.map(this.renderReactionGifCategories))))}}]),a}(b.a.Component);_.__docgenInfo={description:"",methods:[{name:"onSelect",docblock:null,modifiers:[],params:[{name:"queryString",type:null}],returns:null},{name:"renderReactionGifCategories",docblock:null,modifiers:[],params:[{name:"reactionGifObject",type:null},{name:"index",type:null}],returns:null},{name:"resetCollection",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ReactionGIFCategories",props:{fetchReactionCollections:{type:{name:"func"},required:!0,description:""},reactionGifCollections:{type:{name:"object"},required:!0,description:""},getColorByPostIndex:{type:{name:"func"},required:!0,description:""},renderReactionGifCategories:{type:{name:"func"},required:!1,description:""},reactionGifObject:{type:{name:"object"},required:!1,description:""},position:{type:{name:"string"},required:!1,description:""},resetCollection:{type:{name:"func"},required:!1,description:""},onCategorySelection:{type:{name:"func"},required:!0,description:""},resetReactionGifSearchCollections:{type:{name:"func"},required:!1,description:""}}};var G=Object(C.b)(function(e){return{reactionGifCollections:e.comments.get("reactionGifCollections")}},{fetchReactionCollections:k.e,resetReactionGifSearchCollections:k.h})(_),L=n("DzJC"),V=n.n(L),U=n("Uz4u"),B=n.n(U);function W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function z(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Y=function(e){u()(n,e);var t=z(n);function n(e){var p;return i()(this,n),p=t.call(this,e),g()(s()(p),"showCategoryCollection",function(){var e=p.props,t=e.fetchReactionGifSearchFull,n=e.currentlyShowing,r=e.reactionGifSearchFullpageNum;!0===p.state.isFullyLoaded&&null!=n?(p.setState({showingCategory:!1}),t(n,r)):p.setState({showingCategory:!0})}),g()(s()(p),"handleScrollCollection",function(){var e=p.state.showingCategory,t=p.props,n=t.currentlyShowing,r=t.reactionGifRequestPending,a=t.reactionGifSearchFullpageNum;if(""!==n&&!1===e){var o=p.GifPickerBodyCollection.current,i=o.scrollTop,c=o.scrollHeight,s=c-i;p.setState({scrollDistance:i}),s<1e3&&1e3<=c&&!1===r&&p.showCategoryCollection(n,a)}}),g()(s()(p),"selectGif",function(e){(0,p.props.handleGifSelection)(e)}),g()(s()(p),"renderSelectableGifs",function(e,t){var n=p.state.scrollDistance,r=p.props,a=r.reactionGifSearchFullpageNum,o=r.getColorByPostIndex,i=e.id,c=e.height,s=e.runningGifHeight,l={height:"".concat(c,"px")},u={backgroundImage:"linear-gradient(".concat(o(t),", #2e3035)"),height:"".concat(c,"px")},d="".concat(M.W,"/").concat(i,"_lq.mp4"),m="".concat(M.W,"/").concat(i,".gif");return(n<450?0:n-450)<=s&&s<n+343+450?b.a.createElement("div",{key:"".concat(t+i+a+!0),className:"gifpicker-image",style:l,onClick:function(){p.selectGif(m)}},b.a.createElement("video",{style:u,className:"gifpicker-collectionBackground",autoPlay:!0,preload:"none",loop:!0,playsInline:!0},b.a.createElement("source",{type:"video/mp4",src:d}))):b.a.createElement("div",{key:"".concat(t+i+a+!1," "),className:"gifpicker-image",style:l},b.a.createElement("video",{style:u,className:"gifpicker-collectionBackground",preload:"none",loop:!0,playsInline:!0},b.a.createElement("source",{type:"video/mp4"})))}),g()(s()(p),"resetCollection",function(){var e=p.props,t=e.handleReset,n=e.resetReactionGifSearchCollections;t(),n(),p.setState({column1:[],column2:[],column1Height:0,column2Height:0})}),p.handleScrollCollection=V()(p.handleScrollCollection.bind(s()(p)),35),p.GifPickerBodyCollection=b.a.createRef(),p.state={showingCategory:!1,scrollDistance:0,isFullyLoaded:!0,column1:[],column2:[],column1Height:0,column2Height:0},p}return o()(n,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchReactionGifSearchFull)(e.currentlyShowing,e.reactionGifSearchFullpageNum)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.gifsFromCategory,r=t.currentlyShowing,a=t.reactionGifSearchFullpageNum,o=t.fetchReactionGifSearchFull,i=this.state,c=i.column1Height,s=i.column2Height,l=this.state,u=l.column1,d=l.column2;if(n.size!==e.gifsFromCategory.size){for(var m=u.slice(0),p=d.slice(0),f=m.length+p.length!==0?m.length+p.length:0;f<n.size;f++){var h=H({},n.get(f)),g=141.5/h.width;h.height*=g,c<=s?(h.runningGifHeight=c+h.height+7,c=h.runningGifHeight,m.push(h)):(h.runningGifHeight=s+h.height+7,s=h.runningGifHeight,p.push(h))}this.setState({column1:m,column2:p,column1Height:c,column2Height:s})}r!==e.currentlyShowing&&(this.setState({column1:[],column2:[],column1Height:0,column2Height:0}),o(r,a))}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentlyShowing,r=t.reactionGifRequestPending,a=this.state,o=a.column1,i=a.column2;return o.length||i.length||r?b.a.createElement("div",{className:"gifpicker-body-container"},b.a.createElement("div",{className:"gifpicker-collectionHeader"},b.a.createElement("div",{className:"gifpicker-backButton",onClick:function(){e.resetCollection()},"aria-label":"Go back to categories"},b.a.createElement(E.hb,{className:"icon fill",name:E.c,width:"21",height:"15",viewBox:"0 0 21 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"})),b.a.createElement("h1",{className:"gifpicker-collectionHeaderText"},n)),b.a.createElement("div",{className:"gifpicker-body gifpicker-body-collection Scrollbar--gray",ref:this.GifPickerBodyCollection,onScroll:this.handleScrollCollection},b.a.createElement("div",null,o.map(this.renderSelectableGifs)),b.a.createElement("div",null,i.map(this.renderSelectableGifs)))):b.a.createElement("div",{className:"gifpicker-error"},b.a.createElement("div",{className:"gifpicker-error-image"},b.a.createElement("img",{src:B.a})),b.a.createElement("div",{className:"gifpicker-error-message"},b.a.createElement("h2",null,Object(v.b)("reactionGifEmptySearch1")),b.a.createElement("br",null),b.a.createElement("h3",null,Object(v.b)("reactionGifEmptySearch2"))))}}]),n}(b.a.Component);Y.__docgenInfo={description:"",methods:[{name:"showCategoryCollection",docblock:null,modifiers:[],params:[],returns:null},{name:"handleScrollCollection",docblock:null,modifiers:[],params:[],returns:null},{name:"selectGif",docblock:null,modifiers:[],params:[{name:"videoShareURL",type:null}],returns:null},{name:"renderSelectableGifs",docblock:null,modifiers:[],params:[{name:"column",type:null},{name:"index",type:null}],returns:null},{name:"resetCollection",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ReactionGIFCollections",props:{handleReset:{type:{name:"func"},required:!0,description:""},handleGifSelection:{type:{name:"func"},required:!0,description:""},getColorByPostIndex:{type:{name:"func"},required:!0,description:""},fetchReactionGifSearchFull:{type:{name:"func"},required:!0,description:""},currentlyShowing:{type:{name:"string"},required:!1,description:""},resetReactionGifSearchCollections:{type:{name:"func"},required:!1,description:""},reactionGifSearchFull:{type:{name:"object"},required:!1,description:""},reactionGifRequestPending:{type:{name:"bool"},required:!1,description:""},reactionGifSearchFullpageNum:{type:{name:"number"},required:!1,description:""},gifsFromCategory:{type:{name:"object"},required:!0,description:""}}};var K=Object(C.b)(function(e){return{reactionGifCollections:e.comments.get("reactionGifCollections"),reactionGifRequestPending:e.comments.get("reactionGifRequestPending"),reactionGifSearchFullpageNum:e.comments.get("reactionGifSearchFullpageNum"),gifsFromCategory:e.comments.get("gifsFromCategory")}},{fetchReactionGifSearchFull:k.f,resetReactionGifSearchCollections:k.h})(Y);n("/b2Y");function J(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var X=function(e){u()(n,e);var t=J(n);function n(e){var o;return i()(this,n),o=t.call(this,e),g()(s()(o),"preventPost",function(e){e.stopPropagation(),e.preventDefault()}),g()(s()(o),"submitHandler",function(){o.debounceSubmitHandler.cancel();var e=o.props,t=e.resetReactionGifSearchCollections,n=e.searchString;t(),o.setState({currentlyShowing:n})}),g()(s()(o),"inputChangeHandler",function(e){(0,o.props.setReactionGifSearchString)(e.target.value),o.preventPost(e),o.debounceSubmitHandler()}),g()(s()(o),"onCategorySelection",function(e){o.setState({currentlyShowing:e})}),g()(s()(o),"handleReset",function(){var e=o.props,t=e.fetchReactionCollections,n=e.resetReactionGifSearchCollections,r=e.setReactionGifSearchString,a=o.state.currentlyShowing;n(),t(),a&&(o.setState({currentlyShowing:""}),r(""))}),g()(s()(o),"handleGifSelection",function(e){(0,o.props.selectGIF)(e,o.state.currentlyShowing)}),g()(s()(o),"handleKeyDown",function(e){[O.a].includes(e.key)&&(o.preventPost(e),o.submitHandler())}),o.debounceSubmitHandler=x()(o.submitHandler,1e3),o.state={currentlyShowing:""},o}return o()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchReactionCollections,n=e.searchString;t(),""!==n&&this.submitHandler()}},{key:"componentWillUnmount",value:function(){(0,this.props.setReactionGifSearchString)("")}},{key:"getColorByPostIndex",value:function(e){var t=0<arguments.length&&void 0!==e?e:0,n=["#ffdd00","#1bb76e","#227efa","#4a58fb","#6432f9","#ec4081","#4366d0","#7b85f7","#fc6369","#f14768","#ff51ba","#2ccaff","#43d0bd","#20bee8","#ffd300","#ff7d00"];return isNaN(t)&&(t=0),n[t%n.length]}},{key:"render",value:function(){var e,t,n=this,r=this.props,a=r.position,o=r.placeholder,i=r.searchString,c=r.isPromoted,s=r.promotedConfig,l=this.state.currentlyShowing,u=T()(["gifpicker",{"gifpicker--down":"bottom"===a,"gifpicker--promoted":c}]),d="gifpicker-nano".concat(l&&"-collection");if(c){var m="#".concat(s.get("header_text_color","ffffff"));e={"--gifpicker-triangle-color":"#".concat(s.get("header_gradiant_top","353aab"))},t={background:"linear-gradient(to bottom, #".concat(s.get("header_gradiant_top","474a51"),", #").concat(s.get("header_gradiant_bottom","1f2b59"),")"),color:m,fill:m}}return b.a.createElement("div",{className:u,style:e},b.a.createElement("div",{className:"gifpicker-header",style:t},b.a.createElement("div",{className:"gifpicker-header-content"},c?b.a.createElement(b.a.Fragment,null,b.a.createElement("p",{className:"gifpicker-header-content-title"},s.get("header_title")),b.a.createElement("p",{className:"gifpicker-header-content-subtitle"},s.get("header_subtitle"))):b.a.createElement("p",{className:"gifpicker-header-content-title"},Object(v.b)("reactionGIF")),b.a.createElement("div",{className:"gifpicker-searchbar"},b.a.createElement("input",{placeholder:o,className:"gifpicker-searchbar-textInput",type:"text",value:i,onChange:this.inputChangeHandler,onSubmit:this.submitHandler,onKeyDown:this.handleKeyDown}),b.a.createElement("div",{className:"ReactionGIFSearch-Icon"},b.a.createElement(E.hb,{name:E.C,width:"21",height:"20",viewBox:"0 0 21 20",onClick:function(e){n.preventPost(e),n.submitHandler()}})))),c&&b.a.createElement("img",{className:"gifpicker-header-asset",src:"//i.imgur.com/".concat(s.get("header_image"),".png")})),l?b.a.createElement(K,{currentlyShowing:l,getColorByPostIndex:this.getColorByPostIndex,handleReset:this.handleReset,handleGifSelection:this.handleGifSelection}):b.a.createElement(G,{onCategorySelection:this.onCategorySelection,getColorByPostIndex:this.getColorByPostIndex}),b.a.createElement("div",{className:d}))}}]),n}(b.a.Component);X.defaultProps={placeholder:Object(v.b)("reactionGifSearchPlaceholder")};X.__docgenInfo={description:"",methods:[{name:"getColorByPostIndex",docblock:null,modifiers:[],params:[{name:"itemIndex",type:null}],returns:null},{name:"preventPost",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"submitHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"inputChangeHandler",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onCategorySelection",docblock:null,modifiers:[],params:[{name:"queryString",type:null}],returns:null},{name:"handleReset",docblock:null,modifiers:[],params:[],returns:null},{name:"handleGifSelection",docblock:null,modifiers:[],params:[{name:"GifURL",type:null}],returns:null},{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"ReactionGIF",props:{placeholder:{defaultValue:{value:"copy('reactionGifSearchPlaceholder')",computed:!0},type:{name:"string"},required:!1,description:""},fetchReactionCollections:{type:{name:"func"},required:!0,description:""},position:{type:{name:"string"},required:!1,description:""},currentlyShowing:{type:{name:"string"},required:!1,description:""},searchString:{type:{name:"string"},required:!1,description:""},value:{type:{name:"string"},required:!1,description:""},resetReactionGifSearchCollections:{type:{name:"func"},required:!1,description:""},onCategorySelection:{type:{name:"func"},required:!1,description:""},selectGIF:{type:{name:"func"},required:!0,description:""},setReactionGifSearchString:{type:{name:"func"},required:!0,description:""},promotedConfig:{type:{name:"object"},required:!1,description:""},isPromoted:{type:{name:"bool"},required:!1,description:""}}};var Q=Object(C.b)(function(e){var t=e.comments,n=e.config;return{reactionGifCollections:t.get("reactionGifCollections"),promotedConfig:n.get("sponsoredReactionGifsDefinition",new A.Map),isPromoted:!!n.getIn(["sponsoredReactionGifsDefinition","is_active"]),searchString:t.get("reactionGifSearchString")}},{fetchReactionCollections:k.e,resetReactionGifSearchCollections:k.h,setReactionGifSearchString:k.i})(X);n("Cz84");function Z(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var $=function(e){u()(n,e);var t=Z(n);function n(e){var l;return i()(this,n),l=t.call(this,e),g()(s()(l),"handleKeyDown",function(e){var t=l.props.setReactionGifPopupVisibility;[O.d,O.c].includes(e.key)&&t(!1)}),g()(s()(l),"gifToggle",function(){var e=l.ReactionGIF.current.getBoundingClientRect().top,t=l.state.gifSaved,n=l.props,r=n.reactionGifSelectedAnalytics,a=n.isPromoted,o=n.disabled,i=n.setReactionGifPopupVisibility,c=n.isGIFOpen;if(!o){var s=!0;if(e<500&&(s=!1),c||l.setState({gifSaved:!1}),c&&!t){r(null,"Cancelled",a)}l.setState({gifOpenUp:s}),i(!c)}}),g()(s()(l),"onSelect",function(e,t){var n=l.props,r=n.onSelect,a=n.reactionGifSelectedAnalytics,o=n.isPromoted,i=n.setReactionGifPopupVisibility;l.setState({gifSaved:!0}),i(!1);a(t,"Saved",o),r(e)}),l.ReactionGIF=b.a.createRef(),l.state={gifOpenUp:!0,gifSaved:!1},l}return o()(n,[{key:"componentDidMount",value:function(){Object(S.c)("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){Object(S.nb)("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.state.gifOpenUp,t=this.props,n=t.isGIFOpen,r=t.className,a=t.disabled,o=t.title;return b.a.createElement("div",{className:r,ref:this.ReactionGIF,disabled:a},b.a.createElement(E.hb,{className:"icon fill",name:E.b,id:"GIFButton",onClick:this.gifToggle,"aria-label":o,title:o,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),n?b.a.createElement(w,{onClickOutside:this.gifToggle},b.a.createElement(Q,{position:e?"top":"bottom",selectGIF:this.onSelect})):"")}}]),n}(b.a.PureComponent);$.defaultProps={className:"ReactionGIF",title:Object(v.b)("gifOnHover")},$.__docgenInfo={description:"",methods:[{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"gifToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"onSelect",docblock:null,modifiers:[],params:[{name:"GifURL",type:null},{name:"category",type:null}],returns:null}],displayName:"ReactionGIFButton",props:{className:{defaultValue:{value:"'ReactionGIF'",computed:!1},type:{name:"string"},required:!1,description:""},title:{defaultValue:{value:"copy('gifOnHover')",computed:!0},type:{name:"string"},required:!1,description:""},onSelect:{type:{name:"func"},required:!0,description:""},reactionGifSelectedAnalytics:{type:{name:"func"},required:!0,description:""},isPromoted:{type:{name:"bool"},required:!1,description:""},disabled:{type:{name:"bool"},required:!1,description:""},isGIFOpen:{type:{name:"bool"},required:!1,description:""},setReactionGifPopupVisibility:{type:{name:"func"},required:!0,description:""}}};t.a=Object(C.b)(function(e){return{isPromoted:!!e.config.getIn(["sponsoredReactionGifsDefinition","is_active"])}},{reactionGifSelectedAnalytics:k.g})($)},Dk6w:function(e,t,n){},DzJC:function(e,t,n){var o=n("sEfC"),i=n("GoyQ");e.exports=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),o(e,t,{leading:r,maxWait:t,trailing:a})}},"Ek/P":function(e,t,n){},F8bk:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("PJYZ"),s=n.n(o),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=n("P5Jw"),C=n("/MKj"),E=(n("17x9"),n("fdoY")),k=n("/PhX"),O=n("O39/"),S=n("9rNq"),P=n("E9Wd"),N=n("G5ih"),I=n("BWa0"),j=n("GB65");n("co09");function q(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var w=function(e){u()(o,e);var r=q(o);function o(){var a;i()(this,o);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a=r.call.apply(r,[this].concat(t)),g()(s()(a),"link",function(){var e=a.props,t=e.copyLinkAction,n=e.title,r=e.hash;t("".concat(P.V,"/").concat(r),n,r,[],O.l)}),g()(s()(a),"download",function(){var e=a.props,t=e.hash,n=e.title;Object(j.db)("".concat(P.V,"/download/").concat(t,"/").concat(encodeURIComponent(n)||""))}),g()(s()(a),"comment",function(){var o=a.props.indexForComment;document.getElementsByClassName("Comment-create-textarea").forEach(function(e,t){var n=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value").set,r="";""!==e.value&&(r=" "),n.call(e,e.value+"".concat(r,"#").concat(o+1));var a=new Event("input",{bubbles:!0});e.dispatchEvent(a),0===t&&e.scrollIntoView({behavior:"smooth",block:"center"})})}),a}return c()(o,[{key:"render",value:function(){var e=this.props,t=e.hash,n=e.isLoggedIn,r=e.indexForComment,a=e.commentsDisabled;return b.a.createElement(S.a,{className:"Dropdown--btn Dropdown--media",dropdownIcon:b.a.createElement(I.hb,{name:I.l,width:"32",height:"32"})},b.a.createElement(v.CopyToClipboard,{text:"".concat(P.V,"/").concat(t),onCopy:this.link},b.a.createElement("button",{type:"button"},b.a.createElement(I.hb,{className:"icon stroke",name:I.u,width:"32",height:"32"}),b.a.createElement("span",{className:"label"},Object(N.b)("copyLink")))),b.a.createElement("button",{type:"button",onClick:this.download},b.a.createElement(I.hb,{className:"icon stroke",name:I.i,width:"32",height:"32"}),b.a.createElement("span",{className:"label"},Object(N.b)("download"))),n&&Number.isInteger(r)&&!a&&b.a.createElement(b.a.Fragment,null,b.a.createElement("button",{type:"button",onClick:this.comment},b.a.createElement(I.hb,{className:"icon stroke",name:I.f,width:"32",height:"32",title:Object(N.b)("mediaMenuComment"),fillColor:null}),b.a.createElement("span",{className:"label"},Object(N.b)("mediaMenuComment")))))}}]),o}(b.a.Component),D={copyLinkAction:E.Y,openDialogAction:k.I};w.__docgenInfo={description:"",methods:[{name:"link",docblock:null,modifiers:[],params:[],returns:null},{name:"download",docblock:null,modifiers:[],params:[],returns:null},{name:"comment",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostMediaDropdown",props:{copyLinkAction:{type:{name:"func"},required:!0,description:""},openDialogAction:{type:{name:"func"},required:!0,description:""},hash:{type:{name:"string"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},indexForComment:{type:{name:"number"},required:!1,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},commentsDisabled:{type:{name:"bool"},required:!1,description:""}}},t.a=Object(C.b)(function(e){var t=e.user,n=e.postsData;return{isLoggedIn:t.get("isLoggedIn"),commentsDisabled:n.getIn(["currentPost","commentsDisabled"])}},D)(w)},FtJD:function(e,t,n){e.exports=n.p+"desktop-assets/reddit_share.bac72f151cd0b4d1e59d7e34f6da8065.svg"},FuWu:function(e,t,n){},FwDa:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("PJYZ"),s=n.n(o),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("sEfC"),E=n.n(C),k=n("A1Ak"),O=n("G5ih"),S=n("ErBw"),P=n("GB65"),N=n("/iGR"),I=n("55Ip"),j=n("7oyi"),q=n("wAdX"),w=n("pNV7"),D=n("/wi3");n("DBuX");function T(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var A=function(e){u()(o,e);var r=T(o);function o(){var a;i()(this,o);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a=r.call.apply(r,[this].concat(t)),g()(s()(a),"handleCloseWithAnalytics",function(e){var t=a.props,n=t.whitelistedClosedAction,r=t.closeAdblockDialogAction;n(e,"Popup"),r()}),g()(s()(a),"handleClose",function(){a.handleCloseWithAnalytics("No Thanks")}),g()(s()(a),"onWhitelisted",function(){a.handleCloseWithAnalytics("Whitelisted"),Object(P.ib)()}),a}return c()(o,[{key:"render",value:function(){return b.a.createElement(q.a,{className:"AdblockDialog",name:S.b,onClose:this.handleClose,isModal:!1},b.a.createElement("div",{className:"AdblockDialog-content"},b.a.createElement(w.W,{name:w.G,className:"Footer-whitelist-baby",width:140}),b.a.createElement("h2",null,Object(O.b)("WhitelistDialogTitle")),Object(O.b)("WhitelistDialogDescription")),b.a.createElement("div",{className:"AdblockDialog-footer"},b.a.createElement(I.a,{to:"/emerald?source=adBlockRecoverUpload"},Object(O.b)("popOverSupportImgur")),b.a.createElement(j.a,{className:"AdblockDialog-footer-whitelisted",onClick:this.onWhitelisted,label:Object(O.b)("WhitelistDialogWhitelisted")})),b.a.createElement(D.b,{onClick:this.handleClose}))}}]),o}(b.a.Component);A.__docgenInfo={description:"",methods:[{name:"handleCloseWithAnalytics",docblock:null,modifiers:[],params:[{name:"way",type:null}],returns:null},{name:"handleClose",docblock:null,modifiers:[],params:[],returns:null},{name:"onWhitelisted",docblock:null,modifiers:[],params:[],returns:null}],displayName:"AdblockDialog2",props:{whitelistedClosedAction:{type:{name:"func"},required:!0,description:""},closeAdblockDialogAction:{type:{name:"func"},required:!0,description:""}}};var R=Object(v.b)(null,{whitelistedClosedAction:S.K,closeAdblockDialogAction:S.t})(A),x=n("9rNq");n("1p8+");function M(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var F=function(e){u()(r,e);var n=M(r);function r(e){var t;return i()(this,r),t=n.call(this,e),g()(s()(t),"_container",null),t.updateFooterItems=E()(t.updateFooterItems.bind(s()(t)),250),t.state={childrenDisplay:[],childrenRest:[],footerItems:k.e.map(function(e){return{title:Object(O.b)("".concat(e,"Footer")),href:k.a[e].href}})},t}return c()(r,[{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.width,a=n.showWhitelistDialog,o=n.closedWhitelistDialog,i=n.whitelistedDisplayedAction,c=n.openAdblockDialogAction,s=this.state.footerItems;e.width===r&&t.footerItems.length===s.length||this.updateFooterItems(r),e.showWhitelistDialog||e.closedWhitelistDialog||!a||o||(i(),c())}},{key:"componentDidMount",value:function(){var e=this.props.width;this.updateFooterItems(e)}},{key:"updateFooterItems",value:function(e){var t=this.state.footerItems,n=function(e,o,t){var n=Array.from(e).map(function(e,t){var n=e.getBoundingClientRect(),r=n.left,a=n.width;return!t||r+a<o-275});return{childrenRest:t.filter(function(e,t){return!n[t]}),childrenDisplay:t.filter(function(e,t){return n[t]})}}(this.measure.children,e,t),r=n.childrenRest,a=n.childrenDisplay,o=this.state.childrenRest;this.footerUpdated=r.length!==o.length||a.length!==o.length,this.setState({childrenRest:r,childrenDisplay:a})}},{key:"renderDropdown",value:function(){var e=this.state.childrenRest,t=void 0===e?[]:e;return t.length?b.a.createElement(x.d,{className:"center",placeholder:" ",dropdownIcon:b.a.createElement("img",{src:w.a[w.u],className:"Dropdown-icon icon-points"})},t.map(function(e,t){return b.a.createElement("div",{key:"footer-dropdown-".concat(t),className:"Dropdown-option"},e.href?b.a.createElement("a",{href:e.href},e.title):b.a.createElement("div",{className:"Footer-optionText"},e.title))})):null}},{key:"render",value:function(){var t=this,e=this.state,n=e.childrenDisplay,r=void 0===n?[]:n,a=e.footerItems,o=this.props,i=o.isFooterVisible,c=o.showWhitelistDialog,s=o.closedWhitelistDialog;return b.a.createElement("div",{className:"Footer-wrapper".concat(i?"":" down")},c&&!s&&b.a.createElement(R,null),b.a.createElement("div",{className:"Footer"},b.a.createElement("ul",{ref:function(e){t.menu=e},className:"Footer-navbar"},r.map(function(e,t){return b.a.createElement("li",{key:"footer-item-".concat(t)},e.href?b.a.createElement("a",{href:e.href},e.title):e.title)})),this.renderDropdown(),b.a.createElement("div",{ref:function(e){t.appBtn=e},className:"Footer-app"},b.a.createElement("a",{href:"".concat(k.a[k.b].href)},Object(O.b)("getAppFooter")))),b.a.createElement("div",{className:"Footer Footer-measure"},b.a.createElement("ul",{ref:function(e){t.measure=e},className:"Footer-navbar Footer-navbar-dimensions"},a.map(function(e,t){return b.a.createElement("li",{key:"footer-item-".concat(t)},e.href?b.a.createElement("a",{href:e.href},e.title):e.title)}))))}}]),r}(b.a.Component);F.defaultProps={width:0},F.__docgenInfo={description:"",methods:[{name:"updateFooterItems",docblock:null,modifiers:[],params:[{name:"width",type:null}],returns:null},{name:"renderDropdown",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Footer",props:{width:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},isFooterVisible:{type:{name:"bool"},required:!1,description:""},closedWhitelistDialog:{type:{name:"bool"},required:!0,description:""},showWhitelistDialog:{type:{name:"bool"},required:!1,description:""},whitelistedDisplayedAction:{type:{name:"func"},required:!0,description:""},openAdblockDialogAction:{type:{name:"func"},required:!0,description:""}}};t.a=Object(v.b)(function(e){var t=e.ui,n=e.display,r=e.user,a=e.postsData;return{isFooterVisible:t.footer.get("isFooterVisible"),closedWhitelistDialog:t.footer.get("closedWhitelistDialog"),width:n.getIn(["viewPort","width"]),showWhitelistDialog:Object(P.X)()&&!Object(N.b)(S.o)&&r.get("isLoaded")&&!r.get("hasPaid")&&(!r.get("isLoggedIn")||r.get("isLoggedIn")&&!r.getIn(["subscription","isSubscribed"]))&&a.getIn(["currentPost","adConfig","showsAds"])}},{whitelistedDisplayedAction:S.L,openAdblockDialogAction:S.y})(F)},"G6+a":function(e,t,n){},GGeJ:function(e,t,n){},HCTt:function(e,t,n){},HWIq:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("q1tI"),c=n.n(r),a=(n("17x9"),n("TSYQ")),s=n.n(a),i=n("Nm7g"),l=n("y/zE");function u(e){var t=e.count,n=e.username;if(!t&&!n)return null;var r=s()({"Accolade-userAvatar":!0,"Accolade-userAvatar--withCount":0<t}),a=s()({"Accolade-accoladeCountValue":!0,"Accolade-accoladeCountValue--plus":!!n}),o=s()({"Accolade-accoladeGiven":!0,"Accolade-accoladeGiven--avatar":!!n});return c.a.createElement("div",{className:o},n&&c.a.createElement(l.a,{className:r,username:n,displayUsername:n}),0<t&&c.a.createElement("div",{className:"Accolade-accoladeCount"},c.a.createElement("div",{className:a},n&&"+ ",Object(i.j)(t))))}u.__docgenInfo={description:"",methods:[],displayName:"AccoladeHead",props:{count:{type:{name:"number"},required:!1,description:""},username:{type:{name:"string"},required:!1,description:""}}};n("Ek/P");function o(e){var t=e.count,n=e.username,r=e.background,a=e.imageUrl,o=e.imageName,i=s()({Accolade:!0,"Accolade-background":r});return c.a.createElement("div",{className:i},c.a.createElement(u,{count:t,username:n}),c.a.createElement("img",{className:"Accolade-accoladeImage",src:a,alt:"".concat(o)}),o&&c.a.createElement("div",{className:"Accolade-accoladeName"},o))}o.defaultProps={count:0,background:!1},o.__docgenInfo={description:"",methods:[],displayName:"Accolade",props:{count:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},background:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},username:{type:{name:"string"},required:!1,description:""},imageUrl:{type:{name:"string"},required:!1,description:""},imageName:{type:{name:"string"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""}}}},HhWI:function(e,t,n){},IVpR:function(e,t,n){},IgJu:function(e,t,n){},JBc3:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("lSNA"),s=n.n(r),a=n("q1tI"),l=n.n(a),o=(n("17x9"),n("TSYQ")),u=n.n(o),d=n("AG5K"),m=n("E9Wd"),p=n("GB65"),f=n("BWa0");n("Ltx0");function i(e){var t=e.customClasses,n=e.isUserLoggedIn,r=e.showTitle,a=e.showSmallVersion,o=e.onClick,i=u()(s()({GiveEmeraldButton:!0,"GiveEmeraldButton-title":r,"GiveEmeraldButton-small":a},t,t)),c=Object(d.a)("giveEmerald");return l.a.createElement("a",{className:i,title:c,href:"".concat(m.N,"?redirect=").concat(encodeURIComponent(Object(p.w)())),onClick:function(e){n&&(e.preventDefault(),e.stopPropagation(),o())}},l.a.createElement(f.hb,{name:f.bb,width:"14",height:"14",viewBox:"0 0 20 20"}),r&&l.a.createElement("span",null,c))}i.defaultProps={showTitle:!1,showSmallVersion:!1,onClick:function(){},customClasses:""},i.__docgenInfo={description:"",methods:[],displayName:"GiveEmeraldButton",props:{showTitle:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},showSmallVersion:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},customClasses:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""}}}},JHKR:function(e,t,n){},KMpf:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o});n("Dhp7"),n("fPgW");function r(e,t){return e-t}function a(e){return e.set("points",r(e.get("ups"),e.get("downs")))}function o(e){var t=e.get("post");return t?e.setIn(["posts","point_count"],r(t.get("upvote_count"),t.get("downvote_count"))):e}},KhJ6:function(e,t,n){"use strict";function r(e,t,n,r){if(n.location.pathname.startsWith("/account/favorites/"))return e.get("username");var a,o=r.params,i=o.username?o.username.toLowerCase():null;return(a=i?t.getIn(["accounts",i]):t.get("accounts").first())?a.get("username"):i}n.d(t,"a",function(){return r})},KwMD:function(e,t){e.exports=function(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}},LGYb:function(e,t,n){var p=n("1hJj"),f=n("jbM+"),h=n("Xt/L"),g=n("xYSL"),y=n("dQpi"),b=n("rEGp");e.exports=function(e,t,n){var r=-1,a=f,o=e.length,i=!0,c=[],s=c;if(n)i=!1,a=h;else if(200<=o){var l=t?null:y(e);if(l)return b(l);i=!1,a=g,s=new p}else s=t?[]:c;e:for(;++r<o;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,i&&d==d){for(var m=s.length;m--;)if(s[m]===d)continue e;t&&s.push(d),c.push(u)}else a(s,d,n)||(s!==c&&s.push(d),c.push(u))}return c}},LUYa:function(e,t,n){e.exports=n.p+"desktop-assets/email_share.9c743f926cc5404880a0ca14688286a8.svg"},LbAz:function(e,t,n){},Ltx0:function(e,t,n){},"Lz/x":function(e,t,n){},ME7n:function(e,t,n){e.exports=n.p+"desktop-assets/facebook_share.420eb32611acbe98ec65f20774888f4e.svg"},MZXA:function(e,t,n){},"NXH/":function(e,t,n){},"O+9w":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("q1tI"),i=n.n(r),c=(n("17x9"),n("E9Wd"));function a(e){var t=e.isPromoted,n=e.isUserLoaded,r=e.itemUsername,a=e.currentUsername,o=e.children;return e.isEnabled&&!t&&n&&r&&a!==r&&!c.E.includes(r)?i.a.createElement("div",null,o):null}a.defaultProps={isEnabled:!0,isUserLoaded:!1,isPromoted:!1},a.__docgenInfo={description:"",methods:[],displayName:"GiveEmeraldButtonSwitch",props:{isEnabled:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},isUserLoaded:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},isPromoted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},currentUsername:{type:{name:"string"},required:!0,description:""},itemUsername:{type:{name:"string"},required:!0,description:""},children:{type:{name:"object"},required:!0,description:""}}}},OQdq:function(e,t,n){},Oggj:function(e,t,n){e.exports=n.p+"desktop-assets/pinterest_share.f588cf418afb580945f9716831475648.svg"},Ojet:function(e,t,n){},"Pom+":function(e,t,n){"use strict";n.d(t,"b",function(){return Ba}),n.d(t,"a",function(){return Wa});var r=n("pVnL"),p=n.n(r),a=n("lwsE"),l=n.n(a),o=n("W8MJ"),u=n.n(o),i=n("PJYZ"),f=n.n(i),c=n("7W2i"),d=n.n(c),s=n("a1gu"),m=n.n(s),h=n("Nsbk"),g=n.n(h),y=n("lSNA"),S=n.n(y),P=n("q1tI"),w=n.n(P),b=n("17x9"),v=n.n(b),C=n("Ty5D"),E=n("mwIZ"),k=n.n(E),N=n("GB65"),O=n("dRit"),I=n("+VfX"),j=n("4TFA"),D=n("E9Wd"),q=n("/0Wm"),T=n("/MKj"),A=n("sWSo"),R=n("N9yH"),x=n("RmMW"),M=n("Bw9V"),F=n("9Jdl"),_=n("+qLk"),G=n("G5ih"),L=n("/PhX"),V=n("pV1z");n("2p6Y");function U(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var B=function(e){d()(o,e);var a=U(o);function o(){var t;l()(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=a.call.apply(a,[this].concat(n)),S()(f()(t),"toggleVisibility",function(){var e=t.props;(0,e.setBottomRecircVisibilityAction)(!e.isBottomRecircVisible)}),t}return u()(o,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.setPosts)(e.posts)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.adsEnabled,r=t.adConfig,a=t.setPosts,o=t.posts;e.adsEnabled===n&&e.adConfig===r||a(o)}},{key:"render",value:function(){var e=this.props,t=e.isBottomRecircVisible,n=e.title,r=e.getRecirc,a=e.posts;return w.a.createElement("div",{className:"BottomRecirc"},w.a.createElement("h2",{className:"BottomRecirc-label",onClick:this.toggleVisibility},0<a.size&&n),w.a.createElement("div",{style:{display:t?"block":"none"}},r()))}}]),o}(w.a.Component),W=Object(T.b)(function(e,t){var n=e.posts,r=e.ui,a=t.op,o=t.treatment;return{posts:n.get("recircPosts"),isBottomRecircVisible:r.gallery.get("isBottomRecircVisible"),title:o===q.f?"More posts from ".concat(a):"More posts you may like"}},function(t,e){var n=e.op,r=e.postHash,a=e.treatment,o=function(){},i="",c="";return a===q.f?(c=_.G,o=x.f,i=n):a===q.g&&(c=_.w,o=M.z,i=r),{setBottomRecircVisibilityAction:function(e){t(Object(L.J)(e))},getRecirc:function(){return w.a.createElement(A.a,{streamSection:c,streamParam:i,recircFetcher:o,navigationTrigger:"Recirc -",navigationDirection:"Post Footer",location:F.c,sendToTop:!0})},setPosts:function(){t(o(i,0,M.g,r))}}})(B);B.__docgenInfo={description:"",methods:[{name:"toggleVisibility",docblock:null,modifiers:[],params:[],returns:null}],displayName:"BottomRecirc",props:{posts:{type:{name:"object"},required:!0,description:""},setBottomRecircVisibilityAction:{type:{name:"func"},required:!0,description:""},isBottomRecircVisible:{type:{name:"bool"},required:!0,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},adConfig:{type:{name:"object"},required:!1,description:""},op:{type:{name:"string"},required:!1,description:""},title:{type:{name:"string"},required:!0,description:""},getRecirc:{type:{name:"func"},required:!0,description:""},postHash:{type:{name:"string"},required:!1,description:""},isInRecircExperimentWithTreatment:{type:{name:"bool"},required:!1,description:""},setPosts:{type:{name:"func"},required:!0,description:""}}};var H=Object(T.b)(function(e){var t=e.posts,n=e.ui;return{posts:t.get("posts"),isBottomRecircVisible:n.gallery.get("isBottomRecircVisible"),title:Object(G.b)("page404LabelPosts")}},function(o,i){return{setBottomRecircVisibilityAction:function(e){o(Object(L.J)(e))},setPosts:function(e){var t=i.adsEnabled,n=i.adConfig,r=[],a=Object(V.b)(n);e.toArray().forEach(function(e){(t&&a||!e.get("isAd"))&&r.push(e.toJS())}),o(Object(R.f)(r))},getRecirc:function(){return w.a.createElement(A.b,{navigationTrigger:"Recirc -",navigationDirection:"Post Footer",location:F.c,sendToTop:!0})}}})(B),z=n("b5GN"),Y=n("wmRA"),K=(n("wZPJ"),n("BWa0"));function J(e){var t=e.href;return w.a.createElement("a",{className:"BetaFeedback badge",href:t,target:"_blank",rel:"noopener noreferrer"},w.a.createElement(K.hb,{className:"badge-icon",name:K.p,width:"32",height:"32"}),w.a.createElement("span",{className:"badge-text"},Object(G.b)("betaFeedback")))}function X(e){var t=e.onPostPageOptOut;return w.a.createElement("a",{href:"/beta/disable?redirect=".concat(encodeURIComponent("".concat(Object(N.w)(),"?nc=1"))),className:"GalleryPage-betaOptOut badge",onClick:function(){t()}},w.a.createElement(K.hb,{className:"badge-icon",name:K.t,width:"32",height:"32"}),w.a.createElement("span",{className:"badge-text"},Object(G.b)("leaveBeta")))}J.__docgenInfo={description:"",methods:[],displayName:"BetaFeedback",props:{href:{type:{name:"string"},required:!0,description:""}}},X.__docgenInfo={description:"",methods:[],displayName:"BetaFeedback",props:{onPostPageOptOut:{type:{name:"func"},required:!0,description:""}}};var Q=n("sEfC"),Z=n.n(Q);function $(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var ee=function(e){d()(n,e);var t=$(n);function n(){return l()(this,n),t.apply(this,arguments)}return u()(n,[{key:"handleScroll",value:function(){(0,this.props.onScroll)(Object(N.B)("pageYOffset"),Object(N.B)("innerHeight"))}},{key:"componentDidMount",value:function(){var e=this.props.debounceTimeout;this.handleScroll(),this.handleScroll=Z()(this.handleScroll.bind(this),e),Object(N.a)("scroll",this.handleScroll),Object(N.a)("resize",this.handleScroll)}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel(),Object(N.jb)("scroll",this.handleScroll),Object(N.jb)("resize",this.handleScroll)}},{key:"render",value:function(){return w.a.createElement("span",null)}}]),n}(P.Component);ee.defaultProps={debounceTimeout:10},ee.__docgenInfo={description:"",methods:[{name:"handleScroll",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Scroll",props:{debounceTimeout:{defaultValue:{value:"10",computed:!1},type:{name:"number"},required:!1,description:""},onScroll:{type:{name:"func"},required:!0,description:""}}};var te=n("/aJl"),ne=n("FwDa"),re=n("xbNk"),ae=n("Y22u");function oe(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var ie=function(e){d()(r,e);var n=oe(r);function r(e){var t;return l()(this,r),t=n.call(this,e),S()(f()(t),"lazyLoadHandler",Z()(function(){var e=t.props.lazyLoadBuffer;Object(ae.c)(t.lazyLoadContainer.current,e)&&(t.setState({lazyLoadedIntoView:!0}),Object(N.nb)("scroll",t.lazyLoadHandler),Object(N.nb)("resize",t.lazyLoadHandler))},200)),t.lazyLoadContainer=w.a.createRef(),t.state={lazyLoadedIntoView:!1},t}return u()(r,[{key:"componentDidMount",value:function(){Object(N.c)("scroll",this.lazyLoadHandler),Object(N.c)("resize",this.lazyLoadHandler),this.lazyLoadHandler()}},{key:"componentWillUnmount",value:function(){Object(N.nb)("scroll",this.lazyLoadHandler),Object(N.nb)("resize",this.lazyLoadHandler)}},{key:"render",value:function(){var e=this.props.children,t=this.state.lazyLoadedIntoView;return w.a.createElement("div",{ref:this.lazyLoadContainer},t?e():"")}}]),r}(P.Component);ie.__docgenInfo={description:"",methods:[],displayName:"LazyLoad",props:{children:{type:{name:"func"},required:!0,description:""},lazyLoadBuffer:{type:{name:"number"},required:!0,description:""}}};var ce=n("yosD"),se=n("XVVZ"),le=n("heTe"),ue=n("6tpS"),de=n("uscc");function me(e){var t=e.children,n=e.experimentTrigger,r=e.experimentName;return Object(P.useEffect)(function(){return n(r),function(){}},[]),null!=t?t:null}me.propTypes={experimentName:v.a.string,experimentTrigger:v.a.func,children:v.a.node};var pe=Object(T.b)(null,{experimentTrigger:de.d})(me),fe=n("w8Sv"),he=n("bWDY"),ge=n("TJpk");function ye(e){var t,n,o=e.post;return w.a.createElement(ge.Helmet,null,w.a.createElement("title",null,function(e){if(o){var t=e.get("title"),n=e.get("media"),r=n.first();if(r&&(r.get("animationType")||r.get("isVideo")))return 1<n.size?Object(G.b)("galleryMetaTitleGifs",t):Object(G.b)("galleryMetaTitleGif",t);var a=e.get("tags");return a.size?Object(G.b)("galleryMetaTitleTag",t,a.first().get("display",a.first().get("tag"))):t}return Object(G.b)("defaultTitle")}(o)),w.a.createElement("link",{rel:"canonical",href:(t=o,n=D.V,o&&(t.get("inGallery")?n+="/gallery/".concat(t.get("id")):t.get("isAlbum")?n+="/a/".concat(t.get("id")):n+="/".concat(t.get("id"))),n)}))}ye.__docgenInfo={description:"",methods:[],displayName:"GalleryMeta",props:{post:{type:{name:"object"},required:!1,description:""}}};var be=n("TSYQ"),ve=n.n(be),Ce=n("iaU+"),Ee=n("94Yu"),ke=n("9UQG"),Oe=n("WSv3");n("7znt");function Se(e){var t=e.isAnnouncement,n=ve()({"promoted-label":!0,"announcement-label":t,"promoted-hover":!t});return w.a.createElement("div",{className:n,onClick:!t&&function(e){e.preventDefault(),Object(N.db)(F.n)},title:Object(G.b)("promotedLabelTitle",t)},Object(G.b)("promotedText",t))}Se.defatulProps={isAnnouncement:!1},Se.__docgenInfo={description:"",methods:[],displayName:"PromotedLabel",props:{isAnnouncement:{type:{name:"bool"},required:!1,description:""}}};var Pe=n("ANjH"),Ne=n("fdoY"),Ie=n("QILm"),je=n.n(Ie),qe=n("55Ip"),we=n("RJ0p");function De(e){var t=e.recircSortType,n=e.postId,r=e.match,a=e.children,o=(e.dispatch,e.staticContext,je()(e,["recircSortType","postId","match","children","dispatch","staticContext"])),i=r.params,c=Object(we.g)(t,i);return w.a.createElement(qe.a,p()({to:"".concat(c).concat(n)},o),a)}De.__docgenInfo={description:"",methods:[],displayName:"PostLink",props:{match:{type:{name:"object"},required:!0,description:""},children:{type:{name:"union",value:[{name:"arrayOf",value:{name:"node"}},{name:"node"}]},required:!0,description:""},recircSortType:{type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},dispatch:{type:{name:"func"},required:!0,description:""},staticContext:{type:{name:"object"},required:!1,description:""},style:{type:{name:"object"},required:!1,description:""}}};var Te=Object(Pe.d)(Object(T.b)(function(e){return{recircSortType:e.postsData.get("recircSortType")}}),C.h)(De);n("D4vR");function Ae(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Re=function(e){d()(n,e);var t=Ae(n);function n(e){var r;return l()(this,n),r=t.call(this,e),S()(f()(r),"clickNext",function(){var e=r.props,t=e.toNext,n=e.match.params;t(j.n.BUTTON,n)}),S()(f()(r),"clickPrev",function(){var e=r.props,t=e.toPrev,n=e.match.params;t(j.n.BUTTON,n)}),r.elm=w.a.createRef(),r}return u()(n,[{key:"setElementPosition",value:function(){var e=this.props,t=e.setPosition,n=e.header,r=parseInt(this.elm.getBoundingClientRect().bottom,10)+Object(N.M)();n&&t(r)}},{key:"componentDidMount",value:function(){this.setElementPosition()}},{key:"componentDidUpdate",value:function(){this.setElementPosition()}},{key:"render",value:function(){var t=this,e=this.props,n=e.prevPost,r=e.nextPost,a=e.transformationStyle,o=e.transformationNextStyle,i=ve()({"Navigation-Container":!0,"first-item":!n,"last-item":!r});return w.a.createElement("div",{ref:function(e){t.elm=e}},(n||r)&&w.a.createElement("div",{className:i},n&&w.a.createElement(Te,{className:"Navigation Navigation-prev",postId:n.get("id"),onClick:this.clickPrev},w.a.createElement("div",{className:"content"},w.a.createElement(K.hb,{name:K.W,width:"16",height:"16",alt:"<"}))),r&&w.a.createElement(Te,{className:"Navigation Navigation-next",postId:r.get("id"),onClick:this.clickNext,style:a},w.a.createElement("div",{className:"content"},w.a.createElement("span",{style:o},Object(G.b)("nextPost")),w.a.createElement(K.hb,{name:K.X,width:"16",height:"16",alt:">"})))))}}]),n}(w.a.Component);Re.defaultProps={header:!1},Re.__docgenInfo={description:"",methods:[{name:"setElementPosition",docblock:null,modifiers:[],params:[],returns:null},{name:"clickNext",docblock:null,modifiers:[],params:[],returns:null},{name:"clickPrev",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PrevNextButtonsComponent",props:{header:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},prevPost:{type:{name:"object"},required:!1,description:""},nextPost:{type:{name:"object"},required:!1,description:""},toNext:{type:{name:"func"},required:!0,description:""},toPrev:{type:{name:"func"},required:!0,description:""},match:{type:{name:"object"},required:!0,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""},transformationNextStyle:{type:{name:"object"},required:!1,description:""},setPosition:{type:{name:"func"},required:!0,description:""},coverHeight:{type:{name:"number"},required:!0,description:""}}};var xe=Object(Pe.d)(Object(T.b)(function(e){var t=e.postsData,n=e.ad,r=e.ui,a={},o={};return n.getIn(["transformation","enabled"])&&(a={background:"linear-gradient(60deg, rgb(".concat(n.getIn(["transformation","primaryColor"]),") 0%, rgb(").concat(n.getIn(["transformation","primaryColor"]),") 45%, rgb(").concat(n.getIn(["transformation","secondaryColor"]),") 100%)"),fontFamily:n.getIn(["transformation","fontFamily"]),fontSize:n.getIn(["transformation","nextFontSize"])},o={verticalAlign:n.getIn(["transformation","nextAlignment"])}),{prevPost:t.get("prevPost"),nextPost:t.get("nextPost"),coverHeight:r.cover.get("height"),transformationStyle:a,transformationNextStyle:o}},{toNext:Ne.fb,toPrev:Ne.gb,setPosition:Ne.Kb}),C.h)(Re);function Me(e){var t=e.className,n=e.username,r=e.label,a=e.children,o=e.onClick;n.toLowerCase()===D.B&&(n=D.D);var i=r||n;return"function"==typeof a?i=a(i):a&&(i=a),w.a.createElement(qe.a,{className:t,to:"/user/".concat(n),title:Object(G.b)("usernameHint",n),onClick:o},i)}Me.__docgenInfo={description:"",methods:[],displayName:"AuthorLinkComponent",props:{className:{type:{name:"string"},required:!1,description:""},username:{type:{name:"string"},required:!0,description:""},label:{type:{name:"string"},required:!1,description:""},children:{type:{name:"union",value:[{name:"func"},{name:"instanceOf",value:"Object"}]},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}};n("nswd");function Fe(e){var t=e.postTitle,n=e.postAuthor,r=e.className,a=e.isPostLoading,o=e.onProfileClick,i=e.transformationTitleStyle,c=e.isAnnouncement,s=e.isAd;return w.a.createElement("div",{className:ve()(S()({CoverPostMeta:!0},r,r))},w.a.createElement("div",{className:"Wrapper"},w.a.createElement("div",{className:"Meta".concat(a?" fadeOut":"")},w.a.createElement("div",{className:"PostTitle",style:i},t),s&&w.a.createElement(Se,{isAnnouncement:c}),n&&w.a.createElement(Me,{className:"author-name",username:n,onClick:function(){return o(n,"Username Byline")}},function(e){return w.a.createElement(w.a.Fragment,null,w.a.createElement("span",{className:"normal"},Object(G.b)("postByLine")," "),e)})),w.a.createElement("div",{className:"Navigation-buttons"},w.a.createElement(xe,null))))}Fe.__docgenInfo={description:"",methods:[],displayName:"CoverPostMetaComponent",props:{className:{type:{name:"string"},required:!1,description:""},postTitle:{type:{name:"string"},required:!1,description:""},postAuthor:{type:{name:"string"},required:!1,description:""},isPostLoading:{type:{name:"bool"},required:!1,description:""},onProfileClick:{type:{name:"func"},required:!0,description:""},transformationTitleStyle:{type:{name:"object"},required:!0,description:""},isAd:{type:{name:"bool"},required:!1,description:""},isAnnouncement:{type:{name:"bool"},required:!1,description:""}}};var _e=Object(T.b)(function(e){var t=e.postsData,n=e.ad,r=t.get("currentPost"),a={};return n.getIn(["transformation","enabled"])&&(a={fontFamily:n.getIn(["transformation","fontFamily"]),fontSize:n.getIn(["transformation","stickyTitleFontSize"])}),{postTitle:r&&r.get("title"),postAuthor:r&&r.get("inGallery")&&r.getIn(["account","username"],""),transformationTitleStyle:a}},{onProfileClick:Oe.cb})(Fe);n("oYpj");function Ge(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Le=function(e){d()(n,e);var t=Ge(n);function n(e){var a;return l()(this,n),a=t.call(this,e),S()(f()(a),"onScroll",function(){var e=a.props,t=e.prevNextPosition,n=e.coverTop,r=Object(N.M)()+Math.abs(n)>=t;r!==a.state.isDisplayPostMeta&&a.setState({isDisplayPostMeta:r})}),a.state={isDisplayPostMeta:!1},a}return u()(n,[{key:"componentDidUpdate",value:function(e){e.prevNextPosition!==this.props.prevNextPosition&&this.onScroll()}},{key:"render",value:function(){var e=this.props,t=e.isPostLoading,n=e.isPostAd,r=e.isAnnouncement,a=ve()({GalleryCover:!0,withPostMeta:this.state.isDisplayPostMeta});return w.a.createElement(Ce.a,{minHeight:0,className:a,backgroundType:I.n,hideNewPostNotification:!0,SCTU:n?void 0:Ee.a,SCTUPath:F.x,SCTUTargeting:{"2019NewPostPage":!0},onScroll:this.onScroll,Banner:ke.a},w.a.createElement(_e,{className:this.state.isDisplayPostMeta?"Display":"",isAd:n,isAnnouncement:r,isPostLoading:t}))}}]),n}(w.a.Component);Le.__docgenInfo={description:"",methods:[{name:"onScroll",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryCoverComponent",props:{prevNextPosition:{type:{name:"number"},required:!0,description:""},isPostLoading:{type:{name:"bool"},required:!1,description:""},isPostAd:{type:{name:"bool"},required:!1,description:""},coverTop:{type:{name:"number"},required:!1,description:""},positionY:{type:{name:"number"},required:!1,description:""},isAnnouncement:{type:{name:"bool"},required:!1,description:""}}};var Ve=Object(T.b)(function(e){var t=e.postsData,n=e.ui;return{prevNextPosition:t.get("prevNextPosition"),isPostLoading:n.spinner.get("retrievePost",{}).loading,isPostAd:t.getIn(["currentPost","isAd"],!1),isAnnouncement:t.getIn(["currentPost","isAnnouncement"],!1),coverTop:n.cover.getIn(["navbar","top"])}})(Le),Ue=n("v1Sp"),Be=n("wAdX"),We=n("7oyi"),He=n("pNV7");n("2X/W");function ze(e){var t=e.closeDialog,n=e.muteUser,r=e.resetMuteUserData,a=e.username,o=e.type,i=e.id;if(!(a&&o&&i))return null;function c(){r(),t()}return w.a.createElement(Be.a,{className:"MuteUserDialog",name:Ue.a,isModal:!1,onClose:r},w.a.createElement("div",{className:"MuteUserDialog-head"},w.a.createElement("span",null,Object(G.b)("muteUserDialogTitle")),w.a.createElement(We.a,{className:"MuteUserDialog-head--close",imageSrc:He.a[He.j],onClick:c})),w.a.createElement("div",{className:"MuteUserDialog-content"},w.a.createElement("div",{className:"MuteUserDialog-content--text"},Object(G.b)("muteUserDialogText")),w.a.createElement("div",{className:"MuteUserDialog-content--buttons"},w.a.createElement(We.a,{className:"MuteUserDialog-content--mute",onClick:function(){n(a,o,i),t()},label:Object(G.b)("muteUserDialogMuteBtn")}),w.a.createElement(We.a,{className:"MuteUserDialog-content--cancel",onClick:c,label:Object(G.b)("muteUserDialogCancelBtn")}))))}ze.__docgenInfo={description:"",methods:[],displayName:"MuteUserDialog",props:{closeDialog:{type:{name:"func"},required:!0,description:""},muteUser:{type:{name:"func"},required:!0,description:""},resetMuteUserData:{type:{name:"func"},required:!0,description:""},username:{type:{name:"string"},required:!1,description:""},type:{type:{name:"string"},required:!1,description:""},id:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""}}};var Ye=Object(T.b)(function(e){var t=e.user;return{username:t.getIn(["muteUserData","username"]),type:t.getIn(["muteUserData","type"]),id:t.getIn(["muteUserData","id"])}},{closeDialog:L.y,muteUser:Oe.O,resetMuteUserData:Oe.S})(ze),Ke=n("2YUA"),Je=n("AG5K"),Xe=n("OX3u"),Qe=n("fPgW"),Ze=n("Nm7g"),$e=n("Dhp7");function et(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var tt=function(e){d()(r,e);var n=et(r);function r(e){var t;return l()(this,r),(t=n.call(this,e)).state={countdown:null},t}return u()(r,[{key:"tick",value:function(){var e=this.props.target;e&&this.setState({countdown:Object($e.n)(e)})}},{key:"componentDidMount",value:function(){var e=this;this.tick();var t=this.props.target;!this.timerID&&t&&(this.timerID=Object(N.yb)(function(){return e.tick()},1e3))}},{key:"componentWillUnmount",value:function(){Object(N.h)(this.timerID),this.timerID=null}},{key:"render",value:function(){var e=this.state.countdown,t=this.props.className;return w.a.createElement("div",{className:t},e)}}]),r}(P.Component);tt.__docgenInfo={description:"",methods:[{name:"tick",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Countdown",props:{target:{type:{name:"string"},required:!0,description:""},className:{type:{name:"string"},required:!1,description:""}}};var nt=n("RIqP"),rt=n.n(nt);function at(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var ot=function(e){d()(n,e);var t=at(n);function n(){return l()(this,n),t.apply(this,arguments)}return u()(n,[{key:"renderInventory",value:function(e,t){var n=t?"active":"dimmed";return w.a.createElement("div",{className:"AccoladeDialog-inventory--".concat(n),key:e},w.a.createElement(K.hb,{name:K.M,width:"18",height:"20",viewBox:"0 -9 32 32"}))}},{key:"render",value:function(){var n=this,e=this.props,t=e.total,r=e.remaining;return t&&0!==r?w.a.createElement("div",{className:"AccoladeDialog-inventory"},w.a.createElement("div",{className:"AccoladeDialog-inventory-badges"},rt()(Array(t)).map(function(e,t){return n.renderInventory(t,t+1<=r)})),w.a.createElement("div",{className:"AccoladeDialog-inventory-message"},Object(Je.a)("accoladesInventoryRemaining",r))):null}}]),n}(P.Component);ot.__docgenInfo={description:"",methods:[{name:"renderInventory",docblock:null,modifiers:[],params:[{name:"key",type:null},{name:"isActive",type:null}],returns:null}],displayName:"Inventory",props:{total:{type:{name:"number"},required:!1,description:""},remaining:{type:{name:"number"},required:!1,description:""}}};var it=n("HWIq");n("neJP");function ct(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var st=n("RUHF");var lt=Object(T.b)(function(e){var t=e.postsData,n=e.user,r=t.getIn(["currentPostMeta","user","accolades"]),a=t.getIn(["currentPostMeta","post","accolades_counts"]);return{isSubscribed:n.getIn(["subscription","isSubscribed"],!1),postId:t.getIn(["currentPost","id"]),initialVote:t.getIn(["currentPost","vote"],Qe.c),accolades:t.getIn(["currentPostMeta","accolades","available"]),total:r&&r.getIn(["total"],0),remaining:r&&r.getIn(["remaining"]),timerReset:r&&r.getIn(["timer_reset"]),userAccoladeId:r&&r.getIn(["accolade_id"]),postAccolades:a?a.toJS():{},isOwner:n.get("username")===t.getIn(["currentPost","account","username"],"").toLowerCase(),currentUsername:n.get("username","")}},function(t){return{close:function(){t(Object(L.y)(Xe.a))},submit:function(e){t(Object(Ne.Zb)(e)),t(Object(L.y)(Xe.a)),e.vote===Qe.b?t(e.userAccoladeId?Object(st.j)(e):Object(st.k)(e)):t(Object(st.l)(e))},onAccoladeDialogOpen:function(e){return t(Object(Ne.X)(e))}}})(function(c,e){var s=1<arguments.length&&void 0!==e?e:{},t=function(e){d()(n,e);var t=ct(n);function n(e){var s;return l()(this,n),s=t.call(this,e),S()(f()(s),"chooseAccolade",function(e,t,n){0===t&&e&&!n||s.setState({currentSelectedAccoladeId:e})}),S()(f()(s),"handleAward",function(){var e=s.props,t=e.submit,n=e.postId,r=e.initialVote,a=e.postAccolades,o=e.accolades,i=e.userAccoladeId,c=s.state.currentSelectedAccoladeId;t({postId:n,vote:Qe.b,initialVote:r,trigger:"Award Accolade",accoladeId:c,userAccoladeId:i,accoladeName:o.find(function(e){return e.get("id")===c}).get("name"),accoladeCount:Object(Ze.n)(a)+1,previousAccoladeName:i?o.find(function(e){return e.get("id")===i}).get("name"):null})}),S()(f()(s),"handleRemove",function(){var e=s.props,t=e.submit,n=e.postId,r=e.initialVote,a=e.userAccoladeId;t({postId:n,vote:Qe.c,initialVote:r,trigger:"Delete Accolade",userAccoladeId:a})}),S()(f()(s),"getCount",function(e){var t=s.props,n=t.postAccolades,r=t.userAccoladeId,a=n&&n[e]?n[e]:0;return a?(e===r&&--a,a):0}),S()(f()(s),"isAccoladeButtonEnabled",function(){var e=s.props,t=e.userAccoladeId,n=e.remaining,r=s.state.currentSelectedAccoladeId;return null!==r&&(!(0===n&&!t)&&(!t||r!==t))}),S()(f()(s),"onOpen",function(){var e=s.props,t=e.onAccoladeDialogOpen,n=e.isOwner,r=e.postAccolades;t({accoladeIds:n&&r&&0<Object.keys(r).length?Object.keys(r):null}),s.chooseAccolade(null)}),s.state={currentSelectedAccoladeId:null},s}return u()(n,[{key:"accoladeData",value:function(e,t){var n=this,r=this.state.currentSelectedAccoladeId,a=this.props,o=a.userAccoladeId,i=a.currentUsername,c=a.remaining,s=e.get("id");return w.a.createElement("div",{key:t,onClick:function(){return n.chooseAccolade(e.get("id"),c,o)}},w.a.createElement(it.a,{count:this.getCount(s),username:s===o?i:"",background:s===r,imageUrl:e.get("image_url"),imageName:e.get("name")}))}},{key:"renderAccolades",value:function(){var n=this,e=this.props.accolades;if(e)return w.a.createElement("div",{className:"AccoladeDialog-accoladesContainer"},e.map(function(e,t){return n.accoladeData(e,t)}))}},{key:"renderDialogTitle",value:function(){var e=this.props,t=e.isSubscribed,n=e.userAccoladeId,r=e.isOwner,a=e.postAccolades,o=e.remaining,i=e.timerReset;if(r){var c=Object(Ze.n)(a);return Object(Je.a)(c?"accoladePostHasAccoladesTitle":"accoladePostNotHasAccoladesTitle",Object(Ze.j)(c))}return t?0===o?w.a.createElement(w.a.Fragment,null,w.a.createElement(tt,{target:i,className:"AccoladeDialog-countdown"}),Object(Je.a)("accoladesInventoryReload")):Object(Je.a)(n?"accoladeGivenTitle":"accoladeGiveTitle"):Object(Je.a)("accoladeJoinTitle")}},{key:"renderDialogButton",value:function(){var e=this.props,t=e.isSubscribed,n=e.userAccoladeId,r=e.remaining;if(!t)return w.a.createElement("a",{className:"AccoladeDialog-link",href:"/".concat(z.f,"?source=").concat(Xe.s)},Object(Je.a)("accoladeJoinEmerald"));if(0===r&&!n)return"";var a=this.isAccoladeButtonEnabled();return w.a.createElement("button",{disabled:!a,type:"button",className:"AccoladeDialog-button-".concat(a?"-active":"-hidden"),onClick:this.handleAward},n?Object(Je.a)("accoladeChange"):Object(Je.a)("accoladeAward"))}},{key:"render",value:function(){var e=this.props,t=e.isSubscribed,n=e.total,r=e.remaining,a=e.userAccoladeId,o=e.isOwner,i=e.close;return w.a.createElement(c,p()({className:"AccoladeDialog",isModal:!1,onClose:i,name:Xe.a,onOpen:this.onOpen},s),w.a.createElement("div",{className:"AccoladeDialog-head"},t&&!o&&0!==r&&w.a.createElement(ot,{total:n,remaining:r}),w.a.createElement(We.b,{className:"AccoladeDialog-head--close",image:w.a.createElement(K.hb,{name:K.g,width:"24",height:"24"}),onClick:i})),w.a.createElement("div",{className:"AccoladeDialog-content"},w.a.createElement("div",{className:"AccoladeDialog-content-title"},this.renderDialogTitle()),this.renderAccolades()),w.a.createElement("div",{className:"AccoladeDialog-footer"},w.a.createElement("a",{className:"AccoladeDialog-LearnMore",href:Xe.c,target:"_blank",rel:"noopener noreferrer"},w.a.createElement(K.hb,{height:"24",name:K.N,width:"24"})),!o&&w.a.createElement("div",{className:"AccoladeDialog-footer-actions"},a&&w.a.createElement("div",{className:"AccoladeDialog-button--remove",onClick:this.handleRemove},Object(Je.a)("accoladeRemove")),this.renderDialogButton())))}}]),n}(P.Component);return t.defaultProps={onAccoladeDialogOpen:function(){}},t}(Be.a)),ut=n("5jHb"),dt=n("93Qx");n("qAYT");function mt(e){var t=e.closeDialog,n=e.deleteComment,r=e.resetDeleteCommentData,a=e.commentId;if(!a||!n)return null;function o(){r(),t()}return w.a.createElement(Be.a,{className:"DeleteCommentDialog",name:ut.f,isModal:!1,onClose:r},w.a.createElement("div",{className:"DeleteCommentDialog-head"},w.a.createElement("span",null,Object(G.b)("DeleteCommentDialogTitle")),w.a.createElement(We.a,{className:"DeleteCommentDialog-head--close",imageSrc:He.a[He.j],onClick:o})),w.a.createElement("div",{className:"DeleteCommentDialog-content"},w.a.createElement("div",{className:"DeleteCommentDialog-content--text"},Object(G.b)("DeleteCommentDialogText")),w.a.createElement("div",{className:"DeleteCommentDialog-content--buttons"},w.a.createElement(We.a,{className:"DeleteCommentDialog-content--cancel",onClick:o,label:Object(G.b)("DeleteCommentDialogKeepBtn")}),w.a.createElement(We.a,{className:"DeleteCommentDialog-content--delete",onClick:function(){n(a),t()},label:Object(G.b)("DeleteCommentDialogDeleteBtn")}))))}mt.__docgenInfo={description:"",methods:[],displayName:"DeleteCommentDialog",props:{closeDialog:{type:{name:"func"},required:!0,description:""},deleteComment:{type:{name:"func"},required:!0,description:""},resetDeleteCommentData:{type:{name:"func"},required:!0,description:""},commentId:{type:{name:"number"},required:!0,description:""}}};var pt=Object(T.b)(function(e){return{commentId:e.comments.get("commentToDeleteId")}},{closeDialog:L.y,deleteComment:dt.s,resetDeleteCommentData:dt.z})(mt),ft=n("if3o"),ht=n("Gk2F");n("IVpR");function gt(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function yt(){return w.a.createElement("svg",{style:{position:"absolute"},width:"0",height:"0",fill:"none",xmlns:"http://www.w3.org/2000/svg"},w.a.createElement("defs",null,w.a.createElement("path",{id:"folder-path0",fillRule:"evenodd",clipRule:"evenodd",d:"M49.5016 28.901C50.277 21.4876 50.2816 15.783 49.5151 8.38824C49.3029 6.34142 47.5376 4.81321 45.4651 4.81322L26.9653 4.81325L24.2944 2.17465C23.7942 1.68042 23.1282 1.36611 22.406 1.3012C18.3753 0.938945 13.6547 0.903928 9.49736 1.19359C7.49418 1.33316 5.94918 2.89066 5.77795 4.79585C4.96489 13.8429 4.9636 19.7981 5.77425 28.8361C5.94902 30.7846 7.54505 32.3306 9.55171 32.4588C20.8619 33.1811 34.4288 33.1804 45.7348 32.4567C47.7079 32.3304 49.2999 30.8296 49.5016 28.901Z",fill:"#43D0BD"}),w.a.createElement("path",{id:"folder-path1",fillRule:"evenodd",clipRule:"evenodd",d:"M49.5016 28.901C50.277 21.4876 50.2816 15.783 49.5151 8.38824C49.3029 6.34142 47.5376 4.81321 45.4651 4.81322L26.9653 4.81325L24.2944 2.17465C23.7942 1.68042 23.1282 1.36611 22.406 1.3012C18.3753 0.938945 13.6547 0.903928 9.49736 1.19359C7.49418 1.33316 5.94918 2.89066 5.77795 4.79585C4.96489 13.8429 4.9636 19.7981 5.77425 28.8361C5.94902 30.7846 7.54505 32.3306 9.55171 32.4588C20.8619 33.1811 34.4288 33.1804 45.7348 32.4567C47.7079 32.3304 49.2999 30.8296 49.5016 28.901Z"}),w.a.createElement("path",{id:"folder-lock-path",fillRule:"evenodd",clipRule:"evenodd",d:"M27 11.0375C24.7909 11.0375 23 12.8954 23 15.1872V16.4018C21.8348 16.829 21 17.9819 21 19.337V22.4493C21 24.1682 22.3431 25.5617 24 25.5617H30C31.6569 25.5617 33 24.1682 33 22.4493V19.337C33 17.9819 32.1652 16.829 31 16.4018V15.1872C31 12.8954 29.2091 11.0375 27 11.0375ZM29 16.2247V15.1872C29 14.0413 28.1046 13.1124 27 13.1124C25.8954 13.1124 25 14.0413 25 15.1872V16.2247H29ZM24 18.2996C23.4477 18.2996 23 18.764 23 19.337V22.4493C23 23.0223 23.4477 23.4868 24 23.4868H30C30.5523 23.4868 31 23.0223 31 22.4493V19.337C31 18.764 30.5523 18.2996 30 18.2996H24Z",fill:"white"}),w.a.createElement("filter",{id:"filter0_d",x:"0.167206",y:"0",width:"54.9194",height:"42",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},w.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),w.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),w.a.createElement("feOffset",{dy:"4"}),w.a.createElement("feGaussianBlur",{stdDeviation:"2.5"}),w.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.24 0"}),w.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),w.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))}function bt(e){var t=e.id,n=e.coverHash,r=e.isPrivate;return w.a.createElement("svg",{width:"45",height:"32",viewBox:"5 1 45 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},w.a.createElement("g",{filter:"url(#filter0_d)"},w.a.createElement("use",{xlinkHref:"#folder-path0"}),n&&!r&&w.a.createElement("use",{xlinkHref:"#folder-path1",fill:"url(#pattern".concat(t,")")})),r&&w.a.createElement("use",{xlinkHref:"#folder-lock-path"}),w.a.createElement("defs",null,w.a.createElement("pattern",{id:"pattern".concat(t),patternContentUnits:"objectBoundingBox",width:"1",height:"1"},w.a.createElement("use",{xlinkHref:"#image".concat(t),transform:""})),w.a.createElement("image",{id:"image".concat(t),width:"1",height:"1",xlinkHref:n&&"".concat(D.W,"/").concat(n,"s.png")})))}function vt(e){var t=e.id,n=void 0===t?ft.a:t,r=e.coverHash,a=e.name,o=e.isPrivate,i=e.isSelected;return w.a.createElement("div",{className:"FavoriteDialog-Folder"},w.a.createElement("div",{className:"FavoriteDialog-FolderIcon"},w.a.createElement(bt,{coverHash:r,id:n,isPrivate:o})),w.a.createElement("div",{className:"FavoriteDialog-FolderLabel".concat(i?" selected":"")},a),w.a.createElement("div",{className:"FavoriteDialog-FolderSelected"},i&&w.a.createElement(K.hb,{name:K.U,width:"16",height:"16"})))}var Ct=function(e){d()(n,e);var t=gt(n);function n(e){var o;return l()(this,n),o=t.call(this,e),S()(f()(o),"handleClose",function(){var e=o.props.closeDialogAction;o.onClose(),e()}),S()(f()(o),"onClose",function(){var e=o.props.resetFavoriteDataAction,t=o.state.selected;Object(N.i)(o.closeTimeOut),e(),t!==ft.a&&o.setState({selected:ft.a}),Object(N.nb)("scroll",o.handleClose)}),S()(f()(o),"handleSelectFolder",function(e){var t=o.props,n=t.addFavoritesToFolderAction,r=t.postId,a=t.isAlbum;n({id:e,faves:["".concat(a?"album":"image","/").concat(r)],disableMessage:!0}),o.setState({selected:e}),Object(N.Bb)(o.handleClose,500)}),S()(f()(o),"onOpen",function(){(0,o.props.fetchFoldersAction)(),o.closeTimeOut=Object(N.Bb)(o.handleClose,1e4),Object(N.c)("scroll",o.handleClose)}),S()(f()(o),"onMouseEnter",function(){Object(N.i)(o.closeTimeOut),Object(N.nb)("scroll",o.handleClose)}),S()(f()(o),"onMouseLeave",function(){Object(N.c)("scroll",o.handleClose)}),o.closeTimeOut=null,o.state={selected:ft.a},o}return u()(n,[{key:"componentWillUnmount",value:function(){this.onClose()}},{key:"render",value:function(){var t=this,e=this.props,n=e.folders,r=e.postId,a=e.coverHeight,o=e.coverTop,i=e.isCoverFixed,c=this.state.selected;if(!r)return null;var s={top:i?81:a-136+81+o};return w.a.createElement(Be.a,{className:"FavoritesFoldersDialog",overlayOpacity:0,name:Y.d,isModal:!1,onClose:this.onClose,onOpen:this.onOpen,styles:s},w.a.createElement("div",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},w.a.createElement("div",{className:"FavoritesFoldersDialog-head"},w.a.createElement("span",null,Object(G.b)("FavoritesFoldersDialogTitle")),w.a.createElement(We.a,{className:"FavoritesFoldersDialog-head--close",imageSrc:He.a[He.j],onClick:this.handleClose})),w.a.createElement("div",{className:"FavoritesFoldersDialog-content"},w.a.createElement(yt,null),w.a.createElement("div",{className:"fadeOut fadeOut-top"}),w.a.createElement("div",{className:"FavoritesFoldersDialog-content--list Scrollbar--gray"},n.map(function(e){return w.a.createElement("button",{onClick:function(){return t.handleSelectFolder(e.id||ft.a)},type:"submit",key:e.id||ft.a},w.a.createElement(vt,p()({},e,{isSelected:c===e.id})))})),w.a.createElement("div",{className:"fadeOut fadeOut-bottom"}))))}}]),n}(w.a.Component);Ct.__docgenInfo={description:"",methods:[{name:"handleClose",docblock:null,modifiers:[],params:[],returns:null},{name:"onClose",docblock:null,modifiers:[],params:[],returns:null},{name:"handleSelectFolder",docblock:null,modifiers:[],params:[{name:"id",type:null}],returns:null},{name:"onOpen",docblock:null,modifiers:[],params:[],returns:null},{name:"onMouseEnter",docblock:null,modifiers:[],params:[],returns:null},{name:"onMouseLeave",docblock:null,modifiers:[],params:[],returns:null}],displayName:"FavoritesFoldersDialog",props:{fetchFoldersAction:{type:{name:"func"},required:!0,description:""},closeDialogAction:{type:{name:"func"},required:!0,description:""},resetFavoriteDataAction:{type:{name:"func"},required:!0,description:""},addFavoritesToFolderAction:{type:{name:"func"},required:!0,description:""},folders:{type:{name:"array"},required:!1,description:""},postId:{type:{name:"string"},required:!1,description:""},isAlbum:{type:{name:"bool"},required:!1,description:""},isCoverFixed:{type:{name:"bool"},required:!1,description:""},coverHeight:{type:{name:"number"},required:!1,description:""},coverTop:{type:{name:"number"},required:!1,description:""}}};var Et=Object(T.b)(function(e){var t=e.favorites,n=e.postsData,r=e.ui;return{folders:t.get("folders").toList().toJS(),postId:n.getIn(["favoriteData","postId"]),isAlbum:n.getIn(["favoriteData","isAlbum"]),coverHeight:r.cover.get("height"),coverTop:r.cover.get("top"),isCoverFixed:r.cover.get("fixed")}},{fetchFoldersAction:ht.q,closeDialogAction:L.y,resetFavoriteDataAction:Ne.wb,addFavoritesToFolderAction:ht.k})(Ct),kt=n("T7zL");n("mky3");function Ot(e){var t=e.title,n=e.createAd,r=new Date(n);return w.a.createElement("div",{className:"TitleDate"},w.a.createElement("div",{className:"Title"},t),w.a.createElement("div",{className:"Date"},Object(G.b)("statisticsDialogUploaded")," ",Object($e.o)(r)))}function St(e){var t=e.views,n=e.comments,r=e.bandwidth,a=e.favorites,o=[{title:Object(G.b)("statisticsDialogViews"),value:Object(Ze.j)(t),icon:w.a.createElement(K.hb,{name:K.fb,width:"16",height:"16"})},{title:Object(G.b)("statisticsDialogBandwidth"),value:Object(Ze.g)(r),icon:w.a.createElement(K.hb,{name:K.S,width:"16",height:"16"})},{title:Object(G.b)("statisticsDialogComments"),value:Object(Ze.j)(n),icon:w.a.createElement(K.hb,{name:K.T,width:"16",height:"16"})},{title:Object(G.b)("statisticsDialogFavorites"),value:Object(Ze.j)(a),icon:w.a.createElement(K.hb,{name:K.cb,width:"16",height:"16"})}];return w.a.createElement("div",{className:"StatisticsData"},o.map(function(e,t){return w.a.createElement("div",{className:"item ".concat(0<t%2?"right":"left"," ").concat(t<2&&"top"),key:t},w.a.createElement("div",{className:"title-icon"},w.a.createElement("div",{className:"title"},e.title),w.a.createElement("div",{className:"icon"},e.icon)),w.a.createElement("div",{className:"value"},e.value))}))}function Pt(e){var t=e.closeDialog,n=e.meta,r=e.title,a=e.createdAtDate,o=e.coverImage,i=e.mediaSize;if(!n||!n.size)return null;var c={backgroundImage:"url(".concat(o,")")};return w.a.createElement(Be.a,{className:"StatisticsDialog",name:Y.D,isModal:!1},w.a.createElement("div",{className:"StatisticsDialog-head"},w.a.createElement("span",null,Object(G.b)("statisticsDialogTitle")),w.a.createElement(We.a,{className:"StatisticsDialog-head--close",imageSrc:He.a[He.j],onClick:function(){return t()}})),w.a.createElement("div",{className:"StatisticsDialog-content"},w.a.createElement("div",{className:"Background",style:c},w.a.createElement("div",{className:"Background-Overlay"})),w.a.createElement("div",{className:"StatisticsDialog-content-container"},w.a.createElement(Ot,{createAd:a,title:r}),w.a.createElement(kt.a,{points:n.get("point_count"),ups:n.get("upvote_count"),downs:n.get("downvote_count")}),w.a.createElement(St,{views:n.get("view_count"),comments:n.get("comment_count"),bandwidth:n.get("view_count")*i,favorites:n.get("favorite_count")}))))}Pt.__docgenInfo={description:"",methods:[],displayName:"StatisticsDialog",props:{closeDialog:{type:{name:"func"},required:!0,description:""},meta:{type:{name:"object"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},createdAtDate:{type:{name:"string"},required:!1,description:""},coverImage:{type:{name:"string"},required:!1,description:""},mediaSize:{type:{name:"number"},required:!1,description:""}}};var Nt=Object(T.b)(function(e){var t=e.postsData;return{meta:t.getIn(["currentPostMeta","post"]),title:t.getIn(["currentPost","title"]),createdAtDate:t.getIn(["currentPost","createdAt"]),coverImage:t.getIn(["currentPost","src","coverImage"]),mediaSize:t.getIn(["currentPost","media"],[]).reduce(function(e,t){return e+parseInt(t.get("size"),10)},0)}},{closeDialog:L.y})(Pt),It=n("yFeA");n("4KxA");function jt(e){var t=e.viewPortWidth,n=e.post,r=e.streamSection,a=e.streamSort;return Object(N.X)()||t<768||n.get("isAd")?null:w.a.createElement("div",{className:"BottomAd-container"},w.a.createElement(V.a,{path:F.s,postAdConfig:n.get("adConfig")},function(e){return w.a.createElement(It.a,{adsEnabled:!0,path:e,refresh:!0,slotTargeting:Object(we.h)(n,r,a),shouldLazyLoad:!0})}))}jt.__docgenInfo={description:"",methods:[],displayName:"BottomAd",props:{post:{type:{name:"object"},required:!0,description:""},viewPortWidth:{type:{name:"number"},required:!0,description:""},streamSection:{type:{name:"string"},required:!0,description:""},streamSort:{type:{name:"string"},required:!0,description:""}}};var qt=Object(T.b)(function(e){var t=e.display,n=e.gallery;return{viewPortWidth:t.getIn(["viewPort","width"]),streamSection:n.get("streamSection"),streamSort:n.get("streamSort")}})(jt),wt=n("KMpf"),Dt=(n("a/1F"),n("xypG")),Tt=n("Rzka"),At=n("IlJ3"),Rt=n("Ogr3"),xt=n("y/zE"),Mt=n("O+9w"),Ft=n("JBc3"),_t=n("129X"),Gt=n("Ot+t"),Lt=n("QlZ4"),Vt=n("2OyZ"),Ut=n("flVz"),Bt=n("9rNq"),Wt=n("p5w4");function Ht(e){var t,n=e.onReport,r=e.onClick,a=e.isReported,o=e.isLoggedIn,i=e.ElementType,c=e.reportType,s=e.id,l=e.isMature,u=e.className,d=je()(e,["onReport","onClick","isReported","isLoggedIn","ElementType","reportType","id","isMature","className"]),m=ve()((t={},S()(t,u,u),S()(t,"disabled",a),t));return w.a.createElement(i,p()({className:m,onClick:function(e){if(e.preventDefault(),e.stopPropagation(),r&&r(e),a)return!1;n(c,s,l,o)}},d),w.a.createElement(K.hb,{className:"icon fill",name:K.B,width:"32",height:"32",fillColor:"#B4B9C2"}),w.a.createElement("span",{className:"label"},Object(G.b)(a?"reported":"report")))}Ht.defaultProps={ElementType:"button"};Ht.__docgenInfo={description:"",methods:[],displayName:"ReportDropDownOption",props:{ElementType:{defaultValue:{value:"'button'",computed:!1},type:{name:"string"},required:!1,description:""},onReport:{type:{name:"func"},required:!0,description:""},onClick:{type:{name:"func"},required:!1,description:""},isReported:{type:{name:"bool"},required:!1,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},isMature:{type:{name:"bool"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},reportType:{type:{name:"enum",value:[{value:"import { DIALOG_NAME, REPORT_TYPE_COMMENT, REPORT_TYPE_POST } from 'components/Report';",computed:!0},{value:"import { DIALOG_NAME, REPORT_TYPE_COMMENT, REPORT_TYPE_POST } from 'components/Report';",computed:!0}]},required:!0,description:""},id:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""}}};var zt=Object(T.b)(function(e,t){var n=e.user,r=e.report,a=t.reportType,o=t.id;return{isLoggedIn:!!n.get("isLoggedIn"),isReported:a===re.c&&!!r.get("reportedPosts",{})[o]||a===re.b&&!!r.get("reportedComments",{})[o]}},function(a){return{onReport:function(e,t,n,r){a(Object(Wt.h)({type:e,id:t,isMature:n})),r&&a(Object(L.I)({name:re.a}))}}})(Ht);n("HCTt");function Yt(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Kt=function(e){d()(a,e);var r=Yt(a);function a(){var c;l()(this,a);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c=r.call.apply(r,[this].concat(t)),S()(f()(c),"download",function(){var e=c.props,t=e.isAlbum,n=e.postId,r=e.postTitle;t?Object(N.db)("".concat(D.V,"/a/").concat(n,"/zip")):Object(N.db)("".concat(D.V,"/download/").concat(n,"/").concat(encodeURIComponent(r)))}),S()(f()(c),"removeFromPublic",function(){(0,c.props.openDialog)({name:Y.C})}),S()(f()(c),"navigateToEditPage",function(){var e=c.props,t=e.history,n=e.postId,r=e.isAlbum,a=e.isEditBeta,o=Object(we.e)(n,r);if(a)return t.push(o);Object(N.db)(o)}),S()(f()(c),"embed",function(){var e=c.props,t=e.postId,n=e.postTitle,r=e.isAlbum,a=e.setEmbedData,o=e.openDialog,i=e.postTags;o({name:Vt.a}),a(t,n,Vt.b,r,i)}),c}return u()(a,[{key:"render",value:function(){var e=this.props,t=e.postId,n=e.isMature,r=e.hideReport,a=e.isOwner;return w.a.createElement("div",{className:"Gallery-Options"},w.a.createElement(re.d,{type:re.c}),w.a.createElement(Bt.a,{className:"Gallery-OptionsMenu Dropdown--btn",dropdownIcon:w.a.createElement(K.hb,{name:K.l,width:"32",height:"32"})},w.a.createElement("button",{type:"button",onClick:this.embed},w.a.createElement(K.hb,{className:"icon stroke",name:K.n,width:"32",height:"32"}),w.a.createElement("span",{className:"label"},Object(G.b)("embed"))),w.a.createElement("button",{type:"button",onClick:this.download},w.a.createElement(K.hb,{className:"icon stroke",name:K.i,width:"32",height:"32"}),w.a.createElement("span",{className:"label"},Object(G.b)("download"))),!r&&w.a.createElement(zt,{reportType:re.c,id:t,isMature:n}),a&&w.a.createElement(w.a.Fragment,null,w.a.createElement("button",{type:"button",onClick:this.navigateToEditPage},w.a.createElement(K.hb,{className:"icon stroke",name:K.k,width:"32",height:"32"}),w.a.createElement("span",{className:"label"},Object(G.b)("editPost"))),w.a.createElement("button",{type:"button",onClick:this.removeFromPublic},w.a.createElement(K.hb,{className:"icon stroke",name:K.s,width:"32",height:"32"}),w.a.createElement("span",{className:"label"},Object(G.b)("removeFromPublic"))))))}}]),a}(w.a.Component),Jt={openDialog:L.I,setEmbedData:Ut.h};Kt.__docgenInfo={description:"",methods:[{name:"download",docblock:null,modifiers:[],params:[],returns:null},{name:"removeFromPublic",docblock:null,modifiers:[],params:[],returns:null},{name:"navigateToEditPage",docblock:null,modifiers:[],params:[],returns:null},{name:"embed",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryOptions",props:{postId:{type:{name:"string"},required:!0,description:""},postTitle:{type:{name:"string"},required:!0,description:""},isMature:{type:{name:"bool"},required:!0,description:""},hideReport:{type:{name:"bool"},required:!0,description:""},isAlbum:{type:{name:"bool"},required:!0,description:""},isOwner:{type:{name:"bool"},required:!0,description:""},onRemoveFromPublic:{type:{name:"func"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},isEditBeta:{type:{name:"bool"},required:!1,description:""},setEmbedData:{type:{name:"func"},required:!0,description:""},openDialog:{type:{name:"func"},required:!0,description:""},postTags:{type:{name:"array"},required:!1,description:""}}};var Xt=Object(Pe.d)(Object(T.b)(function(e){var t=e.postsData,n=e.user,r=!t.getIn(["currentPost","inGallery"]),a=n.get("username")===t.getIn(["currentPost","account","username"],"").toLowerCase();return r||(t.getIn(["currentPost","isAd"])||a)&&(r=!0),{postTitle:t.getIn(["currentPost","title"]),postId:t.getIn(["currentPost","id"]),isMature:!!t.getIn(["currentPost","isMature"]),hideReport:r,isAlbum:t.getIn(["currentPost","isAlbum"]),isOwner:a,isEditBeta:!!n.getIn(["flags","desktopEditPageBeta"]),postTags:t.getIn(["currentPost","tags"]).map(function(e){return e.get("tag")}).toJS()}},Jt),C.h,Object(Lt.a)(Gt.a,Gt.h))(Kt);n("SeDK");function Qt(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Zt="SURVEY_TOAST_ID",$t=function(e){d()(n,e);var t=Qt(n);function n(e){var i;return l()(this,n),i=t.call(this,e),S()(f()(i),"setElementPosition",function(){(0,i.props.setByLInePosition)(parseInt(i.elm.getBoundingClientRect().top+Object(N.M)(),10))}),S()(f()(i),"onProfileClick",function(e){(0,i.props.onProfileClick)(i.getUsername(),e)}),S()(f()(i),"onUserProfileClick",function(){return i.onProfileClick("Username Byline")}),S()(f()(i),"onAvatarProfileClick",function(){return i.onProfileClick("Avatar Byline")}),S()(f()(i),"onGiveEmerald",function(){var e=i.props,t=e.giveEmeraldData,n=e.username,r=e.postId;t({recipientUsername:n,recipientId:e.accountId,source:Xe.m,postId:r})}),S()(f()(i),"getUserAvatar",function(){var e=i.props,t=e.avatar,n=e.isPromoted,r=e.isAnnouncement,a=i.isImgurAccount(),o=i.getUsername();return n?w.a.createElement(_t.a,{className:r?"Gallery-Byline-announcement":""},w.a.createElement(Me,{className:"author-link",username:o,onClick:i.onAvatarProfileClick},function(){return w.a.createElement(xt.a,{src:t,username:o,displayUsername:o,className:"uScaleTransition Avatar".concat(a?" Avatar--imgur":"")})}),w.a.createElement(_t.b,null,w.a.createElement(Se,{isAnnouncement:r}))):w.a.createElement(Me,{className:"author-link",username:o,onClick:i.onAvatarProfileClick},w.a.createElement(xt.a,{src:t,username:o,displayUsername:o,className:"uScaleTransition Avatar".concat(a?" Avatar--imgur":"")}))}),i.elm=w.a.createRef(),i}return u()(n,[{key:"getUsername",value:function(){var e=this.props.username;return e.toLowerCase()===D.B?D.D:e}},{key:"isImgurAccount",value:function(){return this.getUsername()===D.D}},{key:"componentDidMount",value:function(){var e=this.props.currentPostViewingSummaryAnalytics;this.setElementPosition(),e(),this.maybeShowSurveyToast(),this.maybeFireOpViewAnalytics()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.postId,r=t.currentPostViewingSummaryAnalytics,a=t.deleteToastAction,o=t.currentUserId;this.setElementPosition(),e.postId!==n?(r(),a(Zt),this.maybeShowSurveyToast(),this.maybeFireOpViewAnalytics()):o!==e.currentUserId&&(a(Zt),this.maybeShowSurveyToast(),this.maybeFireOpViewAnalytics())}},{key:"getSurveyLocalStorageKey",value:function(e){return"post_survey_".concat(e)}},{key:"setSurveyLocalStorageClosed",value:function(e){var t=new Date;return Tt.a.save(this.getSurveyLocalStorageKey(e),!0,t.setDate(t.getDate()+2))}},{key:"maybeShowSurveyToast",value:function(){var e=this,t=this.props,n=t.inGallery,r=t.currentUserId,a=t.accountId,o=t.currentUsername,i=t.postId,c=t.score,s=t.minutesOld,l=t.currentUserReputation,u=t.upsertInfoToastAction,d=t.deleteToastAction,m=t.clickedSurveyAnalyticsAction;n&&r===a&&15<s&&s<2880&&l<2e4&&!Tt.a.get(this.getSurveyLocalStorageKey(i),!1)&&u({id:Zt,description:Object(G.b)("surveyGreatPost"),onClick:function(){Object(N.B)("open")("https://docs.google.com/forms/d/e/1FAIpQLSfEuKh6LYDCbyvO61O5Ru3wWxc1iiB__BDjepgu1rsOaBdmcA/viewform?usp=pp_url&entry.163278917="+Object(N.G)()+"&entry.683401281="+o),m("OP",i,o,c,s),d(Zt),e.setSurveyLocalStorageClosed(i)},onClose:function(){d(Zt),e.setSurveyLocalStorageClosed(i)},timeout:0})}},{key:"maybeFireOpViewAnalytics",value:function(){var e=this.props,t=e.currentUserId,n=e.accountId,r=e.postId,a=e.score,o=e.minutesOld,i=e.currentUserReputation,c=e.commentCount,s=e.inGallery,l=e.viewedByOpAnalyticsAction;s&&t===n&&l(r,a,o,c,i)}},{key:"render",value:function(){var t=this,e=this.props,n=e.createdAt,r=e.isPromoted,a=e.views,o=e.platform,i=e.inGallery,c=e.children,s=e.isUserLoggedIn,l=e.isUserLoaded,u=e.currentUsername,d=new Date(n),m=this.getUsername(),p=ve()({"Info-Wrapper":!0,"hidden-post":!i});return w.a.createElement("div",{className:"Gallery-Byline",ref:function(e){t.elm=e}},m&&this.getUserAvatar(),w.a.createElement("div",{className:p},m&&w.a.createElement("div",{className:"Info"},w.a.createElement(Me,{className:"author-name".concat(r?" author-name-promoted":""),username:m,onClick:this.onUserProfileClick},function(e){return r?w.a.createElement(w.a.Fragment,null,w.a.createElement("span",{className:"normal"},Object(G.b)("postByLine")," "),e):e}),w.a.createElement(Mt.a,{currentUsername:u,itemUsername:m,isUserLoaded:l,isPromoted:r,isEnabled:D.v},w.a.createElement(Ft.a,{isUserLoggedIn:s,showSmallVersion:!0,showTitle:!0,onClick:this.onGiveEmerald}))),!r&&w.a.createElement("div",{className:"Meta"},w.a.createElement("span",null,Object(Ze.j)(a)," ","Views"),w.a.createElement("span",{className:"delimiter"},""),w.a.createElement("span",{title:d},Object($e.o)(d)),o&&o.toLowerCase()!==D.H&&w.a.createElement(w.a.Fragment,null,w.a.createElement("span",{className:"delimiter"},""),w.a.createElement("span",null,"via"," ",w.a.createElement("a",{className:"platform bold",href:"/apps"},Object(Ze.e)(o)))))),w.a.createElement(Xt,null),c)}}]),n}(w.a.Component);$t.defaultProps={isPromoted:!1,handleFollow:function(e){return Object(N.j)('Follow "'.concat(e,'"?'))}};$t.__docgenInfo={description:"",methods:[{name:"getUsername",docblock:null,modifiers:[],params:[],returns:null},{name:"isImgurAccount",docblock:null,modifiers:[],params:[],returns:null},{name:"getSurveyLocalStorageKey",docblock:null,modifiers:[],params:[{name:"postId",type:null}],returns:null},{name:"setSurveyLocalStorageClosed",docblock:null,modifiers:[],params:[{name:"postId",type:null}],returns:null},{name:"maybeShowSurveyToast",docblock:null,modifiers:[],params:[],returns:null},{name:"maybeFireOpViewAnalytics",docblock:null,modifiers:[],params:[],returns:null},{name:"setElementPosition",docblock:null,modifiers:[],params:[],returns:null},{name:"onProfileClick",docblock:null,modifiers:[],params:[{name:"location",type:null}],returns:null},{name:"onUserProfileClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onAvatarProfileClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onGiveEmerald",docblock:null,modifiers:[],params:[],returns:null},{name:"getUserAvatar",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryByline",props:{isPromoted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},handleFollow:{defaultValue:{value:'(username) => confirm(`Follow "${username}"?`)',computed:!1},type:{name:"func"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},username:{type:{name:"string"},required:!0,description:""},avatar:{type:{name:"string"},required:!0,description:""},accountId:{type:{name:"number"},required:!0,description:""},createdAt:{type:{name:"string"},required:!0,description:""},views:{type:{name:"number"},required:!0,description:""},platform:{type:{name:"string"},required:!1,description:""},isAnnouncement:{type:{name:"bool"},required:!1,description:""},setByLInePosition:{type:{name:"func"},required:!0,description:""},currentPostViewingSummaryAnalytics:{type:{name:"func"},required:!0,description:""},prevPost:{type:{name:"object"},required:!1,description:""},nextPost:{type:{name:"object"},required:!1,description:""},onProfileClick:{type:{name:"func"},required:!0,description:""},inGallery:{type:{name:"bool"},required:!1,description:""},children:{type:{name:"array"},required:!1,description:""},giveEmeraldData:{type:{name:"func"},required:!0,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""},isUserLoaded:{type:{name:"bool"},required:!0,description:""},currentUsername:{type:{name:"string"},required:!0,description:""},upsertInfoToastAction:{type:{name:"func"},required:!0,description:""},deleteToastAction:{type:{name:"func"},required:!0,description:""},clickedSurveyAnalyticsAction:{type:{name:"func"},required:!0,description:""},currentUserId:{type:{name:"number"},required:!1,description:""},score:{type:{name:"number"},required:!0,description:""},minutesOld:{type:{name:"number"},required:!0,description:""},currentUserReputation:{type:{name:"number"},required:!0,description:""},commentCount:{type:{name:"number"},required:!0,description:""},viewedByOpAnalyticsAction:{type:{name:"func"},required:!0,description:""}}};var en=Object(T.b)(function(e){var t=e.postsData,n=e.user;return{prevPost:t.get("prevPost"),nextPost:t.get("nextPost"),inGallery:t.getIn(["currentPost","inGallery"]),isUserLoggedIn:n.get("isLoggedIn"),isUserLoaded:n.get("isLoaded"),currentUsername:n.get("username")||"",currentUserId:n.get("id"),currentUserReputation:n.get("reputation")}},{currentPostViewingSummaryAnalytics:Ne.Z,setByLInePosition:Ne.Hb,onProfileClick:Oe.cb,giveEmeraldData:st.r,upsertInfoToastAction:Rt.e,deleteToastAction:Rt.c,clickedSurveyAnalyticsAction:At.i,viewedByOpAnalyticsAction:Ne.Yb})($t);n("XF+e");function tn(e){var t=e.accolades,n=e.onClick;return w.a.createElement("div",{className:"AccoladesBadge"},t.map(function(e,t){return w.a.createElement("div",{key:t,className:ve()(S()({"AccoladesBadge-item":!0},"AccoladesBadge-item-".concat(t),!0)),onClick:n,title:"This post has been awarded the ".concat(e.get("name")," Accolade")},w.a.createElement(it.a,{imageUrl:e.get("image_url"),imageName:e.get("name"),background:0<t}))}))}tn.__docgenInfo={description:"",methods:[],displayName:"AccoladesBadge",props:{accolades:{type:{name:"object"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}};var nn=n("Et25");function rn(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var an=function(e){d()(n,e);var t=rn(n);function n(){return l()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.accolades,n=e.openDialogAction;return t&&0!==t.size?w.a.createElement("div",{className:"Gallery-AccoladesBadge"},w.a.createElement(tn,{accolades:t,onClick:function(){n({name:Xe.a,eventSource:j.a.CLICKED_BADGE})}})):null}}]),n}(w.a.Component);an.__docgenInfo={description:"",methods:[],displayName:"GalleryAccoladesBadge",props:{accolades:{type:{name:"object"},required:!1,description:""},openDialogAction:{type:{name:"func"},required:!0,description:""}}};var on=Object(T.b)(function(e){var t=e.postsData;return{accolades:Object(nn.c)(t.getIn(["currentPostMeta","accolades","available"]),t.getIn(["currentPostMeta","post","accolades_counts"]))}},{openDialogAction:L.I})(an);n("OQdq");function cn(e){var t=e.post,n=e.transformationTitleStyle,r={postId:t.get("id"),username:t.getIn(["account","username"],""),avatar:t.getIn(["account","avatar_url"]),accountId:t.getIn(["account","id"],0),createdAt:t.get("createdAt"),views:t.get("views"),platform:t.get("platform"),isPromoted:t.get("isAd"),score:t.get("score",0),minutesOld:Object($e.m)(t.get("createdAt")),commentCount:t.get("commentCount"),isAnnouncement:t.get("isAnnouncement")},a=t.get("title"),o=!a||!a.length;return w.a.createElement("div",{className:"Gallery-Header"},w.a.createElement("div",{style:n,className:"Gallery-Title".concat(80<t.get("title").length?" long":"")},!o&&w.a.createElement("div",{className:"row"},w.a.createElement("span",null,t.get("title")),w.a.createElement(xe,{header:!0}))),w.a.createElement(en,r,o&&w.a.createElement(xe,{header:!0})),w.a.createElement(on,null))}cn.__docgenInfo={description:"",methods:[],displayName:"GalleryHeader",props:{post:{type:{name:"object"},required:!0,description:""},transformationTitleStyle:{type:{name:"object"},required:!1,description:""}}};var sn=n("FP0a"),ln=n.n(sn),un=n("26Ob"),dn=n("1coQ"),mn=n("CG6i"),pn=n("cG8M"),fn=n("aYmD"),hn="a",gn="iframe",yn={hashtag:hn,mention:hn,url:hn,iframe:gn},bn={hashtag:function(e){return"/t/".concat(e.get("tag"))},mention:function(e){return"/user/".concat(e.get("username"))},url:function(e){return e.get("url")},iframe:function(e){return e.get("attributes").reduce(function(e,t,n){return e+="".concat(n,'="').concat(t,'" ')},"")}};var vn=n("ej/z");n("nFdL");function Cn(e){var t=e.message,n=e.onClick;return w.a.createElement("div",{className:"loadMoreContainer"},w.a.createElement("button",{type:"button",className:"loadMore",onClick:n},w.a.createElement("div",{className:"BgHover"}),w.a.createElement("div",{className:"text"},w.a.createElement("span",null,t)," ",w.a.createElement(K.hb,{name:K.V,width:"18",height:"18",alt:""}))))}Cn.__docgenInfo={description:"",methods:[],displayName:"LoadMoreButton",props:{message:{type:{name:"string"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""}}};n("0pwo");function En(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var kn=1,On=2;function Sn(e){var t=e.post;return w.a.createElement("div",{className:"Gallery-ContentWrapper"},w.a.createElement(Nn,{media:t.get("media"),postMeta:t.get("meta"),postId:t.get("id")}))}var Pn=function(e){d()(n,e);var t=En(n);function n(e){var a;return l()(this,n),a=t.call(this,e),S()(f()(a),"loadMore",function(){var e=a.props,t=e.onLoadMore,n=e.resetMediaHeightForPostAction,r=e.postId;a.state.isExtended||(n(r),a.setState({isExtended:!0,renderMode:kn},t))}),S()(f()(a),"onKeyboardInteraction",function(e){return e.target&&["INPUT","TEXTAREA"].includes(e.target.tagName)||"9"===e.key&&a.loadMore(),e}),S()(f()(a),"onResize",function(){var e=a.props;(0,e.resetMediaHeightForPostAction)(e.postId)}),S()(f()(a),"renderLoadMore",function(e){return w.a.createElement(Cn,{message:Object(G.b)("loadMoreImages",e),onClick:a.loadMore})}),a.state={isExtended:!1,renderMode:kn},a}return u()(n,[{key:"componentDidMount",value:function(){Object(N.c)("keydown",this.onKeyboardInteraction),Object(N.c)("resize",this.onResize)}},{key:"componentDidUpdate",value:function(e){var t=this.props.postId,n=this.state.renderMode;e.postId!==t&&this.setState({isExtended:!1}),n===kn&&this.setState({renderMode:On})}},{key:"componentWillUnmount",value:function(){Object(N.nb)("keydown",this.onKeyboardInteraction),Object(N.nb)("resize",this.onResize)}},{key:"render",value:function(){var e=this.props,t=e.media,n=e.postMeta,r=e.onMainContentReady,a=e.maxWidth,o=e.zoom,i=e.isWebPSupported,c=e.postId,s=e.setMediaHeightForPostAction,l=this.state,u=l.isExtended,d=l.renderMode,m=t;u||d!==On||(m=m.slice(0,Y.c));var p=m.map(function(e){if(e.get("renderHeight"))return e.get("renderHeight");var t=0;return t=a>=e.get("width")?e.get("height"):a*e.get("height")/e.get("width"),e.get("isVideo")&&t>window.innerHeight&&(t*=.8),Math.ceil(t)}),f=m.map(function(e,t){return w.a.createElement(In,{maxWidth:a,key:e.get("id"),mediaItem:e,postMeta:n,onMediaReady:0===t?r:void 0,index:t,zoom:o,isWebPSupported:i,postId:c,setMediaHeightForPostAction:s,renderMode:d,mediaHeight:p.get(t)})});return d===kn?w.a.createElement(w.a.Fragment,null,f,!u&&t.size>Y.c&&this.renderLoadMore(t.size-Y.c)):w.a.createElement(w.a.Fragment,null,w.a.createElement(ln.a,{elementHeight:p.toJS(),useWindowAsScrollContainer:!0},f),!u&&t.size>Y.c&&this.renderLoadMore(t.size-Y.c))}}]),n}(w.a.Component),Nn=Object(T.b)(function(e){var t=e.ui,n=e.agent;return{maxWidth:t.gallery.get("contentWrapperWidth"),isWebPSupported:n.get(fn.s)}},{onLoadMore:Ne.lb,onMainContentReady:Ne.mb,zoom:un.b,setMediaHeightForPostAction:Ne.Jb,resetMediaHeightForPostAction:Ne.xb})(Pn),In=function(e){d()(n,e);var t=En(n);function n(e){var o;return l()(this,n),o=t.call(this,e),S()(f()(o),"setHeight",function(){var e=o.props,t=e.setMediaHeightForPostAction,n=e.postId,r=e.mediaItem,a=e.index;r.get("renderHeight")!==o.mediaContainer.current.offsetHeight&&t(n,a,o.mediaContainer.current.offsetHeight)}),o.mediaContainer=w.a.createRef(),o}return u()(n,[{key:"componentDidMount",value:function(){this.setHeight()}},{key:"componentDidUpdate",value:function(){this.setHeight()}},{key:"render",value:function(){var e=this.props,t=e.mediaItem,n=e.onMediaReady,r=e.index,a=e.maxWidth,o=e.zoom,i=e.isWebPSupported,c=e.renderMode,s=e.mediaHeight,l=t.toJS(),u=l.id,d=l.isVideo,m=l.meta,p=l.src,f=l.animationType,h=l.url,g=l.width,y=l.height,b=Object(vn.a)(a,g,y),v=ve()({"Gallery-Content--media":!0,"Gallery-Content--unconstrained":!Object(vn.b)(g,y)}),C=p.coverImage;return i&&f===Y.o&&(C=p.webPImage),w.a.createElement("div",{ref:this.mediaContainer,className:"Gallery-Content--mediaContainer"},w.a.createElement("div",{className:v},c===kn&&w.a.createElement("div",{style:{height:s}}),c!==kn&&(d?w.a.createElement(pn.a,{src:p,animationType:f,playVideo:p.playVideo,handleCanPlay:n,onError:n,controls:!0,hash:u,isFirst:0===r,width:g,height:y,maxHeight:b,title:m.title,index:r}):w.a.createElement(mn.a,{hash:u,thumbSrc:C,originalSrc:h,onLoad:n,onError:n,withOriginalImage:!0,width:g,height:y,maxHeight:b,zoom:o,title:m.title,index:r}))),m.description&&w.a.createElement(jn,{description:t.getIn(["meta","description"]),textAnnotations:t.getIn(["meta","text_annotations"])}))}}]),n}(w.a.Component);function jn(e){var t,n=e.description,r=e.textAnnotations;return t=r?w.a.createElement("div",{dangerouslySetInnerHTML:function(e,t){var n=e.split("");return{__html:t.filter(function(e,t){return t in yn}).reduce(function(r,e,a){return e.forEach(function(e){var t=e.get("indices").get(0),n=e.get("indices").get(1)-1;switch(yn[a]){case hn:return r[t]="<".concat(hn,' target="_blank" href="').concat(bn[a](e),'">').concat(r[t]),void(r[n]="".concat(r[n],"</").concat(hn,">"));case gn:r[t]="<".concat(gn," ").concat(bn[a](e),"></").concat(gn,">")}}),r},n).join("")}}(n,r)}):w.a.createElement(dn.a,null,n),w.a.createElement("div",{className:"Gallery-Content--descr"},t)}Pn.defaultProps={onMediaReady:function(){}},Sn.__docgenInfo={description:"",methods:[],displayName:"GalleryPostContent",props:{post:{type:{name:"object"},required:!0,description:""}}},Pn.__docgenInfo={description:"",methods:[{name:"loadMore",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyboardInteraction",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"onResize",docblock:null,modifiers:[],params:[],returns:null},{name:"renderLoadMore",docblock:null,modifiers:[],params:[{name:"count",optional:!1,type:null}],returns:null}],displayName:"PostDefaultView",props:{onMediaReady:{defaultValue:{value:"() => {}",computed:!1},required:!1},media:{type:{name:"object"},required:!0,description:""},postMeta:{type:{name:"object"},required:!0,description:""},postId:{type:{name:"string"},required:!0,description:""},onLoadMore:{type:{name:"func"},required:!0,description:""},onMainContentReady:{type:{name:"func"},required:!0,description:""},maxWidth:{type:{name:"number"},required:!1,description:""},zoom:{type:{name:"func"},required:!1,description:""},isWebPSupported:{type:{name:"bool"},required:!1,description:""},setMediaHeightForPostAction:{type:{name:"func"},required:!0,description:""},resetMediaHeightForPostAction:{type:{name:"func"},required:!0,description:""}}},In.__docgenInfo={description:"",methods:[{name:"setHeight",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostDefaultViewMedia",props:{mediaItem:{type:{name:"object"},required:!0,description:""},postMeta:{type:{name:"object"},required:!0,description:""},onMediaReady:{type:{name:"func"},required:!1,description:""},index:{type:{name:"number"},required:!1,description:""},maxWidth:{type:{name:"number"},required:!1,description:""},zoom:{type:{name:"func"},required:!1,description:""},isWebPSupported:{type:{name:"bool"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},setMediaHeightForPostAction:{type:{name:"func"},required:!0,description:""},renderMode:{type:{name:"number"},required:!0,description:""},mediaHeight:{type:{name:"number"},required:!1,description:""}}},jn.__docgenInfo={description:"",methods:[],displayName:"PostDefaultViewDescription",props:{description:{type:{name:"string"},required:!0,description:""},textAnnotations:{type:{name:"object"},required:!1,description:""}}};n("yzGh");function qn(e){var t=e.backgroundHash,n=e.children,r=e.tagLink,a=e.onClick,o="linear-gradient(0deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url(".concat(D.W,"/").concat(t,"_d.jpg?maxwidth=200&fidelity=grand)");return w.a.createElement(qe.b,{className:"TagPill",to:r,style:{background:o},onClick:a},n)}function wn(e){var t=e.tags,n=e.onTagInteracted,r=e.isMainContentReady;return w.a.createElement("div",{className:"Gallery-Content--tags"},r&&t.map(function(e){var t=e.get("tag").replace(" ","_");return w.a.createElement(qn,{key:t,backgroundHash:e.get("background_id"),tagLink:"/t/".concat(t),onClick:function(){return n(t)}},e.get("display")||e.get("tag"))}))}qn.defaultProps={onClick:function(){}};wn.__docgenInfo={description:"",methods:[],displayName:"GalleryTags",props:{tags:{type:{name:"object"},required:!0,description:""},onTagInteracted:{type:{name:"func"},required:!0,description:""},isMainContentReady:{type:{name:"bool"},required:!(qn.__docgenInfo={description:"",methods:[],displayName:"TagPill",props:{onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},backgroundHash:{type:{name:"string"},required:!1,description:""},tagLink:{type:{name:"string"},required:!1,description:""},children:{type:{name:"union",value:[{name:"array"},{name:"string"}]},required:!1,description:""}}}),description:""}}};var Dn=Object(T.b)(function(e){return{isMainContentReady:!!e.postsData.get("isMainContentReady")}},{onTagInteracted:Ne.pb})(wn),Tn=n("wKGW");n("5e9/");function An(e){var t=e.title,n=e.icon,r=e.stat,a=e.text,o=e.link,i=w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"OPStats-title"},t),w.a.createElement("div",{className:"OPStats-icon"},n),r&&w.a.createElement("div",{className:"OPStats-stat"},Object(Ze.i)(r)),w.a.createElement("div",{className:"OPStats-text"},a));return o?w.a.createElement(qe.a,{to:{pathname:o},target:"_blank",className:"OPStats-card"},i):w.a.createElement("div",{className:"OPStats-card"},i)}function Rn(e){var t=e.score,n=e.seed,r="",a="",o="";return o=t<=5?(r="https://blog.imgur.com/2015/05/20/how-to-reach-the-front-page/",a=Object(G.b)("opStatsTipsNoobLabel"),Object(G.b)("opStatsTipsNoobText",n)):(a=Object(G.b)("opStatsTipsMasterLabel"),Object(G.b)("opStatsTipsMasterText",n)),w.a.createElement(An,{title:a,icon:w.a.createElement(K.hb,{name:K.I,width:"29",height:"29"}),text:o,link:r})}function xn(e){var t=e.tags,n=e.hash,r=e.isAlbum,a=e.score,o=e.seed,i=t.get(o%t.size),c="",s=!1;return 0===t.size?(c="/".concat(r?"a/":"").concat(n),s=!0):i&&5<=a&&(c="/t/".concat(i),s=!0),s?w.a.createElement(An,{title:Object(G.b)("opStatsTagsLabel",t.size),icon:w.a.createElement(K.hb,{name:K.H,width:"29",height:"29"}),text:Object(G.b)("opStatsTagsText",t.size,i,o),link:c}):null}function Mn(e){var t=e.post,n=e.postMeta,r=e.isFavoritedByOP;if(!t||!n)return null;var a=Object($e.m)(t.get("createdAt")),o=new Date(t.get("createdAt")).getTime(),i=r?1:0,c=0<n.get("favorite_count")-i,s=null;return s=a<15?w.a.createElement(An,{title:Object(G.b)("opStatsTipsNewLabel"),icon:w.a.createElement(K.hb,{name:K.I,width:"29",height:"29"}),text:Object(G.b)("opStatsTipsNewText")}):w.a.createElement(w.a.Fragment,null,0<n.get("view_count")&&w.a.createElement(An,{title:Object(G.b)("opStatsViewsLabel"),icon:w.a.createElement(K.hb,{name:K.z,width:"29",height:"29"}),stat:n.get("view_count"),text:Object(G.b)("opStatsViewsText",o)}),w.a.createElement(Rn,{score:n.get("point_count"),seed:o}),1<n.get("upvote_count")&&w.a.createElement(An,{title:Object(G.b)("opStatsUpvotesLabel"),icon:w.a.createElement(K.hb,{name:K.K,width:"29",height:"29",fillColor:Tn.$darkMintGreen,strokeColor:Tn.$darkMintGreen}),stat:n.get("upvote_count"),text:Object(G.b)("opStatsUpvotesText",o)}),c&&w.a.createElement(An,{title:Object(G.b)("opStatsFavoritesLabel"),icon:w.a.createElement(K.hb,{name:K.r,width:"29",height:"29",fillColor:Tn.$tealish,strokeColor:Tn.$tealish}),stat:n.get("favorite_count"),text:Object(G.b)("opStatsFavoritesText",n.get("favorite_count"),o)}),0<n.get("comment_count")&&w.a.createElement(An,{title:Object(G.b)("opStatsCommentsLabel"),icon:w.a.createElement(K.hb,{name:K.f,width:"29",height:"29",fillColor:Tn.$lavender,strokeColor:Tn.$lavender}),stat:n.get("comment_count"),text:Object(G.b)("opStatsCommentsText",o)}),w.a.createElement(xn,{tags:t.get("tags").map(function(e){return e.get("tag")}),hash:t.get("id"),isAlbum:t.get("isAlbum"),score:n.get("point_count"),seed:o}),t.get("inMostViral")&&w.a.createElement(An,{title:Object(G.b)("opStatsViralLabel"),icon:w.a.createElement(K.hb,{name:K.L,width:"29",height:"29"}),text:Object(G.b)("opStatsViralText",o)})),w.a.createElement("div",null,w.a.createElement("h3",{className:"OPStats-header"},Object(G.b)("opStatsTitle")),w.a.createElement("div",{className:"OPStats"},s))}Mn.__docgenInfo={description:"",methods:[],displayName:"OPStats",props:{post:{type:{name:"object"},required:!0,description:""},postMeta:{type:{name:"object"},required:!0,description:""},isFavoritedByOP:{type:{name:"bool"},required:!1,description:""}}};var Fn=Object(T.b)(function(e){var t=e.postsData;return{post:t.get("currentPost"),postMeta:t.getIn(["currentPostMeta","post"]),isFavoritedByOP:t.getIn(["currentPostMeta","user","favorite"],!1)}},{})(Mn);An.__docgenInfo={description:"",methods:[],displayName:"StatCard",props:{title:{type:{name:"string"},required:!0,description:""},icon:{type:{name:"element"},required:!0,description:""},stat:{type:{name:"number"},required:!1,description:""},text:{type:{name:"node"},required:!0,description:""},link:{type:{name:"string"},required:!1,description:""}}},xn.__docgenInfo={description:"",methods:[],displayName:"TagCard",props:{tags:{type:{name:"object"},required:!0,description:""},hash:{type:{name:"string"},required:!0,description:""},isAlbum:{type:{name:"bool"},required:!(Rn.__docgenInfo={description:"",methods:[],displayName:"TipsAndTricksCard",props:{score:{type:{name:"number"},required:!0,description:""},seed:{type:{name:"number"},required:!0,description:""}}}),description:""},score:{type:{name:"number"},required:!0,description:""},seed:{type:{name:"number"},required:!0,description:""}}};n("y/VL");function _n(e){var t=e.post,n=e.transformationTitleStyle,r=e.isOwner,a=t.get("tags");return w.a.createElement("div",{className:"Gallery-Content"},w.a.createElement(cn,{post:t,transformationTitleStyle:n}),w.a.createElement(Sn,{post:t}),a&&!!a.size&&w.a.createElement(Dn,{tags:a}),r&&w.a.createElement(Fn,null))}_n.__docgenInfo={description:"",methods:[],displayName:"GalleryContent",props:{post:{type:{name:"object"},required:!1,description:""},transformationTitleStyle:{type:{name:"object"},required:!1,description:""},isOwner:{type:{name:"bool"},required:!1,description:""}}};var Gn=n("DzJC"),Ln=n.n(Gn),Vn=n("KmZl"),Un=n("A9fp"),Bn=n("fcmQ");n("wT/c");function Wn(e){var t=e.key,n=e.postId,r=e.cover,a=e.title,o=e.gallerySize,i=e.isPromoted,c=e.onMouseEnter,s=e.onMouseLeave,l=e.onClick,u=e.isActive,d=e.isAnnouncement;return w.a.createElement(Te,{className:"SidebarPost".concat(u?" active":""),onMouseEnter:c,onMouseLeave:s,onClick:function(){l(i,o,t)},postId:n},w.a.createElement("div",{className:"hover-bg"}),w.a.createElement("div",{className:"Thumbnail"},1<o&&w.a.createElement("span",{className:"counter"},o),w.a.createElement("img",{src:r,loading:"lazy",width:64,height:64})),w.a.createElement("div",{className:"description"},i&&w.a.createElement(Se,{isAnnouncement:d}),w.a.createElement("span",{className:"label"},Object(Ze.p)(a,Y.A))))}function Hn(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}Wn.__docgenInfo={description:"",methods:[],displayName:"SidebarPost",props:{key:{type:{name:"string"},required:!0,description:""},postId:{type:{name:"string"},required:!0,description:""},cover:{type:{name:"string"},required:!1,description:""},gallerySize:{type:{name:"number"},required:!1,description:""},title:{type:{name:"string"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},isPromoted:{type:{name:"bool"},required:!1,description:""},onMouseEnter:{type:{name:"func"},required:!1,description:""},onMouseLeave:{type:{name:"func"},required:!1,description:""},isActive:{type:{name:"bool"},required:!1,description:""},isAnnouncement:{type:{name:"bool"},required:!1,description:""}}};var zn=function(e){d()(r,e);var n=Hn(r);function r(e){var t;return l()(this,r),t=n.call(this,e),S()(f()(t),"handleAdUpdate",function(){(0,t.props.handleAdUpdate)(t.container.current.clientHeight)}),t.callback=t.callback.bind(f()(t)),t.state={show:!1},t.container=w.a.createRef(),t.mutationObserver=new MutationObserver(t.handleAdUpdate.bind(f()(t))),t.resizeObserver=new ResizeObserver(t.handleAdUpdate.bind(f()(t))),t}return u()(r,[{key:"componentDidMount",value:function(){this.mutationObserver.observe(this.container.current,{childList:!0,subtree:!0,attributes:!0}),this.resizeObserver.observe(this.container.current)}},{key:"componentDidUpdate",value:function(){this.handleAdUpdate()}},{key:"componentWillUnmount",value:function(){this.mutationObserver.disconnect(),this.resizeObserver.disconnect()}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.classNames,a=n.postId,o=n.adsEnabled,i=n.forceSafe;return this.state.show!==t.show||r!==e.classNames||a!==e.postId||o!==e.adsEnabled||i!==e.forceSafe}},{key:"callback",value:function(){this.setState({show:!0})}},{key:"render",value:function(){var t=this,e=this.props,n=e.classNames,r=e.forceSafe;return w.a.createElement("div",{ref:this.container,className:n,style:{display:this.state.show?"flex":"none"}},w.a.createElement(V.a,{key:this.props.postId,path:this.props.slotPath,postAdConfig:this.props.postAdConfig,forceSafe:r,callback:this.callback},function(e){return w.a.createElement(It.a,{adsEnabled:t.props.adsEnabled,path:e,refresh:!0,slotTargeting:t.props.slotTargeting,callback:t.callback})}))}}]),r}(w.a.Component);zn.defaultProps={handleAdUpdate:function(){}},zn.__docgenInfo={description:"",methods:[{name:"callback",docblock:null,modifiers:[],params:[],returns:null},{name:"handleAdUpdate",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SidebarAd",props:{handleAdUpdate:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},slotPath:{type:{name:"number"},required:!1,description:""},postAdConfig:{type:{name:"object"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},slotTargeting:{type:{name:"object"},required:!1,description:""},classNames:{type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},forceSafe:{type:{name:"bool"},required:!1,description:""}}};var Yn=n("enaV"),Kn=n("vuO0"),Jn=n("ukqn");function Xn(e){var t=e.isIncludeIcon,n=e.copy;return w.a.createElement(w.a.Fragment,null,t&&w.a.createElement("span",{role:"img","aria-label":"fire",className:"emoji"},""),n)}function Qn(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}Xn.__docgenInfo={description:"",methods:[],displayName:"TitleComponent",props:{isIncludeIcon:{type:{name:"bool"},required:!1,description:""},copy:{type:{name:"any"},required:!0,description:""}}};function Zn(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var $n=n("KhJ6"),er=n("lQn5");function tr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function nr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function rr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function ar(s){return function(e){d()(n,e);var t=rr(n);function n(e){var c;return l()(this,n),c=t.call(this,e),S()(f()(c),"recognizeRenderComponent",function(){var e=c.props,t=e.streamSection,n=e.match.params,r=e.history,a=e.setRecircSortType,o=e.searchQuery;if(n.tagName)c.setState({Component:function(o){var e=function(e){d()(r,e);var t=Zn(r);function r(e){var n;return l()(this,r),n=t.call(this,e),S()(f()(n),"TitleComponent",function(){var e=n.state.sort,t=n.props.streamDisplayName;return w.a.createElement(Xn,{copy:Object(G.b)("recircTitleTag".concat(e),Object(Ze.q)(t,24)),isIncludeIcon:e===_.A})}),n.state={Component:null,sort:_.A},n}return u()(r,[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.posts,r=e.streamSort,a=e.history;this.setState({Component:Object(Kn.a)(!(n&&n.size&&"PUSH"===a.action),!1,!1)(function(e){return w.a.createElement(o,p()({Title:t.TitleComponent},e))}),sort:_.O[_.C].includes(r)?r:_.A})}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this.state.Component;if(!e)return null;var t=this.props,n=t.match.params.tagName,r=t.setInitialGalleryState;return w.a.createElement(e,{setGalleryParams:function(){return r(Object(Yn.d)(n))}})}}]),r}(w.a.Component);e.displayName="WithSidebarTagHOC(".concat(Object(Jn.b)(o),")");return Object(Pe.d)(Object(T.b)(function(e){var t=e.posts,n=e.gallery;return{posts:t.get("posts"),streamSort:n.get("streamSort"),streamDisplayName:n.get("streamDisplayName")}},{setInitialGalleryState:M.S}),C.h)(e)}(s)}),a(Y.B.TAG);else if((n.username||Object(N.w)().startsWith("/account/favorites/"))&&n.galleryId)c.setState({Component:function(c){var e=function(e){d()(r,e);var n=tr(r);function r(e){var t;return l()(this,r),t=n.call(this,e),S()(f()(t),"getCopyTitle",function(){return w.a.createElement(w.a.Fragment,null,w.a.createElement("span",null,t.props.username||t.props.match.params.username),Object(G.b)("recircTitleFavorites"))}),S()(f()(t),"TitleComponent",function(){return w.a.createElement(Xn,{copy:t.getCopyTitle(),isIncludeIcon:!1})}),t.state={Component:null},t}return u()(r,[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.posts,r=e.match.params,a=e.history,o=e.isFoldersFetched,i=e.isOwner;o||(i?this.props.fetchFolders():this.props.fetchPublicFolders(r.username)),this.setState({Component:Object(er.a)(!(n&&n.size&&"PUSH"===a.action))(function(e){return w.a.createElement(c,p()({Title:t.TitleComponent},e))})})}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this.state.Component;if(!e)return null;var t=this.props,n=t.username,r=t.isOwner,a=t.isLoggedIn;return w.a.createElement(e,{username:n,isOwner:r,isLoggedIn:a})}}]),r}(w.a.Component);e.displayName="WithSidebarFavoriteHOC(".concat(Object(Jn.b)(c),")");return Object(Pe.d)(C.h,Object(T.b)(function(e,t){var n=e.posts,r=e.favorites,a=e.account,o=e.user,i=t.match,c=t.history,s=Object($n.a)(o,a,c,i);return{posts:n.get("posts"),username:s,isOwner:o.get("username")===s,isFoldersFetched:r.get("isFoldersFetched"),isLoggedIn:!!o.get("isLoggedIn")}},{fetchPublicFolders:ht.s,fetchFolders:ht.q}))(e)}(s)}),a(Y.B.FAVORITE);else if(o&&"POP"===r.action)c.setState({Component:function(a){var e=function(e){d()(r,e);var n=nr(r);function r(e){var t;return l()(this,r),t=n.call(this,e),S()(f()(t),"TitleComponent",function(){return w.a.createElement(Xn,{copy:Object(G.b)("recircTitleSearch",Object(Ze.q)(t.props.searchQuery,24)),isIncludeIcon:!1})}),t.state={Component:null},t}return u()(r,[{key:"componentDidMount",value:function(){var t=this;this.setState({Component:Object(Kn.a)(!0,!1,!1)(function(e){return w.a.createElement(a,p()({Title:t.TitleComponent},e))})})}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this,t=this.state.Component;return t?w.a.createElement(t,{setGalleryParams:function(){return e.props.setInitialGalleryState(Object(Yn.c)(e.props.searchQuery))}}):null}}]),r}(w.a.Component);e.displayName="WithSidebarSearchHOC(".concat(Object(Jn.b)(a),")");return Object(Pe.d)(Object(T.b)(function(e){var t=e.posts,n=e.gallery;return{posts:t.get("posts"),searchQuery:n.get("searchQuery")}},{setInitialGalleryState:M.S}),C.h)(e)}(s)}),a(Y.B.SEARCH);else{var i=Y.B.MOST_VIRAL;switch(t){case _.H:i=Y.B.USER_SUB;break;case _.F:i=Y.B.TOP_GALLERY}a(i),c.setState({Component:function(i){var e=function(e){d()(n,e);var t=Qn(n);function n(e){var a;return l()(this,n),a=t.call(this,e),S()(f()(a),"getTitleCopy",function(){var e=a.props,t=e.streamSection,n=e.streamSort,r=e.streamWindow;return t===_.F?Object(G.b)("recircTitle".concat(t).concat(r)):[_.H,_.r,_.t].includes(t)?Object(G.b)("recircTitle".concat(t).concat(n)):Object(G.b)("recircTitle".concat(_.r).concat(_.A))}),S()(f()(a),"TitleComponent",function(){return w.a.createElement(Xn,{copy:a.getTitleCopy(),isIncludeIcon:a.props.streamSort===_.A&&a.props.streamSection!==_.F})}),a.state={Component:null},a}return u()(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.posts,r=e.streamSection,a=e.history,o=!(n&&n.size&&[_.F,_.H,_.r,_.t].includes(r)&&"PUSH"===a.action);this.setState({Component:Object(Kn.a)(o,!1,!1)(function(e){return w.a.createElement(i,p()({Title:t.TitleComponent},e))})})}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this,t=this.state.Component;return t?w.a.createElement(t,{setGalleryParams:function(){return e.props.setInitialGalleryState(Object(Yn.b)())},location:F.c}):null}}]),n}(w.a.Component);e.displayName="WithSidebarHPHOC(".concat(Object(Jn.b)(i),")");return Object(Pe.d)(Object(T.b)(function(e){var t=e.posts,n=e.gallery;return{posts:t.get("posts"),streamSection:n.get("streamSection"),streamSort:n.get("streamSort"),streamWindow:n.get("streamWindow")}},{setInitialGalleryState:M.S}),C.h)(e)}(s)})}}),c.state={Component:null},c}return u()(n,[{key:"componentDidMount",value:function(){this.recognizeRenderComponent()}},{key:"componentDidUpdate",value:function(e){var t=this.props.posts;e.posts.size&&!t.size&&this.recognizeRenderComponent()}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this.state.Component;return e?w.a.createElement(e,null):null}}]),n}(w.a.Component)}var or=n("Ywtv");function ir(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var cr=function(e){d()(r,e);var n=ir(r);function r(e){var t;return l()(this,r),(t=n.call(this,e)).impressionTimer=null,t.iframeRef=null,t.writeIframe=t.writeIframe.bind(f()(t)),t}return u()(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.data,r=t.promotedPostProxyPixelAction;if(n){var a=n.impressionUrl;a&&(this.impressionTimer=Object(N.yb)(function(){e.iframeRef&&Object(ae.c)(e.iframeRef)&&(Object(N.X)()&&Object(Bn.m)(a)?r(a):Object(Bn.c)(a),Object(N.h)(e.impressionTimer))},800))}}},{key:"componentWillUnmount",value:function(){Object(N.h)(this.impressionTimer)}},{key:"writeIframe",value:function(e){if(e){this.iframeRef=e;var t,n,r,a,o=this.props.data,i=e.contentDocument;switch(Object(or.a)(o,"contents.0.data.customData.adType")){case"hash":case"native":n="".concat(D.W,"/").concat(Object(or.a)(o,"contents.0.data.customData.hash"),".jpg"),r=Object(or.a)(o,"contents.0.data.customData.link"),a=Object(or.a)(o,"contents.0.data.customData.title"),t='<a href="'.concat(r,'" rel="nofollow" target="_blank" title="').concat(a,'"><img src="').concat(n,'" title="').concat(a,'" alt="').concat(a,'" border="0" width="300" height="250"></a>');break;case"html":t=Object(or.a)(o,"contents.0.data.customData.html");break;default:t=Object(or.a)(o,"contents.0.body")}i.open(),i.write(t),i.close()}}},{key:"render",value:function(){return this.props.data?w.a.createElement("div",{className:"Top320 MedRec ad-slot"},w.a.createElement("iframe",{ref:this.writeIframe,className:"Gallery-Sidebar-CompanionAd",title:"companion ad",width:"300",height:"250",marginWidth:"0",marginHeight:"0",hspace:"0",vspace:"0",scrolling:"no",frameBorder:"0",seamless:"seamless",sandbox:"allow-same-origin allow-scripts allow-popups allow-popups-to-escape-sandbox"})):null}}]),r}(w.a.Component);cr.__docgenInfo={description:"",methods:[{name:"writeIframe",docblock:"This method in combination with it being a ref is a bit of a hack to allow for writing\ncontent to a src-less iframe that companion ads can execute scripts inside of them which\nis something not allowed by React's dangerouslySetInnerHTML because it uses innerHTML\n@param {node} frame",modifiers:[],params:[{name:"frame",description:null,type:{name:"node"},optional:!1}],returns:null,description:"This method in combination with it being a ref is a bit of a hack to allow for writing\ncontent to a src-less iframe that companion ads can execute scripts inside of them which\nis something not allowed by React's dangerouslySetInnerHTML because it uses innerHTML"}],displayName:"CompanionAd",props:{data:{type:{name:"object"},required:!1,description:""},promotedPostProxyPixelAction:{type:{name:"func"},required:!0,description:""}}};var sr=Object(T.b)(null,{promotedPostProxyPixelAction:Ne.qb})(cr);n("7TkL");function lr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var ur=Vn.$recircElmHeight+Vn.$recircElmMargin;var dr=function(e){d()(n,e);var t=lr(n);function n(e){var a;return l()(this,n),a=t.call(this,e),S()(f()(a),"scrollHandler",Ln()(function(){a.setState({positionY:a.sidebarWrapper.current.getBoundingClientRect().top})},50)),S()(f()(a),"getElementHeights",function(){var e=a.props.postOrder,t=a.state.elementHeights;return e.size===t.length?t:Array(e.size).fill(ur)}),S()(f()(a),"scrollToCurrentPost",function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];if(a.postsComp&&a.postsComp.scrollable&&0<=a.props.postIndex){var t=a.props.postIndex*ur-a.postsComp.scrollable.scrollTop;if(!t)return;if(Math.abs(t)>4*ur)a.postsComp.scrollable.classList[e?"remove":"add"]("without-smoothScroll"),a.postsComp.scrollable.scrollTop=a.props.postIndex*ur;else{a.postsComp.scrollable.classList.add("without-smoothScroll");var n=a.postsComp.scrollable.firstChild;n.addEventListener("transitionend",a.onTransitionEnd),n.style.transform="translate(0, ".concat(-1*t,"px)"),n.classList.add("scroll")}}}),S()(f()(a),"onTransitionEnd",function(e){var t=a.postsComp.scrollable.firstChild;e.target===t&&(a.postsComp.scrollable.scrollTop=a.props.postIndex*ur,t.style.transform="translate(0, 0)",t.classList.remove("scroll"),t.removeEventListener("transitionend",a.onTransitionEnd))}),S()(f()(a),"handlePostClick",function(e,t){(0,a.props.setCurrentPostIndexAction)(t),a.props.postRecircInteractedAnalytics(t+1,e.get("isAd"),e.get("imageCount"),Bn.n[a.props.recircSortType])}),S()(f()(a),"updateElementHeight",function(n,r){a.setState(function(e){var t=e.elementHeights;return t[n]=r,{elementHeights:t}})}),S()(f()(a),"handleTopAdUpdate",function(e){a.setState({topAdClassNames:ve()({Top320:!0,MedRec:250<=e,"ad-slot":!0})})}),S()(f()(a),"receiveMessage",function(e){e&&e.data&&"string"==typeof e.data&&e.data.match(/enablePremiumStickyMode/)&&a.setState({isPremiumStickyMode:!0})}),a.postsComp=w.a.createRef(),a.sidebarWrapper=w.a.createRef(),a.state={elementHeights:[],topAdClassNames:"Top320 ad-slot",positionY:0,isPremiumStickyMode:!1},a}return u()(n,[{key:"componentDidMount",value:function(){Object(N.c)("scroll",this.scrollHandler),Object(N.c)("message",this.receiveMessage)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.posts,r=t.postOrder,a=t.post,o=this.state,i=o.elementHeights,c=o.isPremiumStickyMode;(!e.posts.size&&n.size||e.postIndex!==this.props.postIndex||e.isMainContentReady!==this.props.isMainContentReady)&&this.scrollToCurrentPost(0<=e.postIndex&&e.isMainContentReady),r.size!==i.length&&this.setState({elementHeights:this.getElementHeights()}),a.get("id")!==e.post.get("id")&&c&&this.setState({isPremiumStickyMode:!1})}},{key:"componentWillUnmount",value:function(){(0,this.props.setCurrentPostIndexAction)(-1),Object(N.nb)("scroll",this.scrollHandler),Object(N.nb)("message",this.receiveMessage)}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.state,r=n.positionY,a=n.isPremiumStickyMode,o=n.topAdClassNames,i=this.props,c=i.postOrder,s=i.isLoading,l=i.post,u=i.postIndex,d=i.isMainContentReady,m=i.transformationEnabled,p=l&&l.get("id"),f=e.post&&e.post.get("id");return this.getStickyBreakpoint(t.isPremiumStickyMode)!==this.getStickyBreakpoint(a)||(t.positionY>Vn.$sidebarStickyBreakpoint&&r<=Vn.$sidebarStickyBreakpoint||(t.positionY<=Vn.$sidebarStickyBreakpoint&&r>Vn.$sidebarStickyBreakpoint||(e.postOrder!==c||e.isLoading!==s||p!==f||e.postIndex!==u||e.isMainContentReady!==d||t.topAdClassNames!==o||e.transformationEnabled!==m)))}},{key:"getStickyBreakpoint",value:function(e){var t=Vn.$sidebarStickyBreakpoint;return e&&this.sidebarWrapper.current&&(t-=this.sidebarWrapper.current.offsetHeight-Vn.$sidebarMinimumHeight),t}},{key:"render",value:function(){var r=this,e=this.props,t=e.post,a=e.posts,n=e.postOrder,o=e.moreDataFetch,i=e.isLoading,c=e.adsEnabled,s=e.Title,l=e.isWebPSupported,u=e.recircBarHeightModifier,d=e.transformationEnabled,m=e.streamSection,p=e.streamSort,f=this.state,h=f.topAdClassNames,g=f.positionY,y=f.isPremiumStickyMode,b={},v={},C=this.props.post&&this.props.post.get("id"),E=a.get(C)||this.props.post;E&&(b=E.get("adConfig"),v=Object(we.h)(E,m,p));var k=this.props.isMainContentReady&&t&&0<n.size,O=this.getElementHeights(),S=this.getStickyBreakpoint(y),P=S<g,N=ve()({Top:!0,Sticky:P}),I=ve()({Bottom:!0,Sticky:!P}),j={top:"".concat(Vn.$sidebarStickyOffset-S,"px"),height:"calc(100% - ".concat(Vn.$sidebarStickyOffset-S,"px)")};P&&(j.top="".concat(Vn.$sidebarStickyOffset,"px"),j.height="auto");var q=c&&E&&!E.get("isAd")&&!i&&a&&1<a.size;return w.a.createElement("div",{ref:this.sidebarWrapper,className:"Gallery-Sidebar-Wrapper"},w.a.createElement("div",{className:N,style:j},q&&w.a.createElement(zn,{postId:this.props.post.get("id"),slotPath:F.t,postAdConfig:b,adsEnabled:c,slotTargeting:v,classNames:h,handleAdUpdate:this.handleTopAdUpdate,forceSafe:d}),E&&E.get("isAd")&&w.a.createElement(sr,{data:E.get("adSource",{}).sponsored_companion}),w.a.createElement("h3",null,w.a.createElement(qe.a,{to:"/".concat(z.o)},w.a.createElement(s,null))),w.a.createElement("div",{className:"Gallery-Sidebar-Posts-Wrapper"},k&&w.a.createElement(ln.a,{containerHeight:Vn.$recircBarHeight*u,elementHeight:O,className:"Gallery-Sidebar-posts Scrollbar--gray",onInfiniteLoad:o,isInfiniteLoading:i,infiniteLoadBeginEdgeOffset:200,ref:function(e){r.postsComp=e},loadingSpinnerDelegate:w.a.createElement(Dt.a,{size:30})},n.map(function(e,t){var n=a.get(e.get("postId"));return w.a.createElement(pr,{key:t,setHeight:function(e){return r.updateElementHeight(t,e)},index:t,height:O[t]},w.a.createElement(Wn,{key:t,postId:n.get("id"),cover:function(e,t){var n="".concat(D.W,"/").concat(t);return n+=e?"_d.".concat(Un.d,"?maxwidth=").concat(Un.c,"&shape=thumb"):"b.".concat(Un.b)}(l,n.getIn(["cover","id"])||n.get("id")),title:n.get("title"),gallerySize:n.get("imageCount"),isPromoted:n.get("isAd"),onClick:function(){return r.handlePostClick(n,t)},isActive:n.get("id")===C,isAnnouncement:n.get("isAnnouncement")}))})),k&&w.a.createElement("div",{className:"fade-out"})),w.a.createElement("div",{className:I},q&&w.a.createElement(zn,{postId:this.props.post.get("id"),slotPath:F.z,postAdConfig:b,adsEnabled:c,slotTargeting:v,classNames:"Bottom300 ad-slot",forceSafe:d}))))}}]),n}(w.a.Component);dr.defaultProps={Title:function(){return""}};dr.__docgenInfo={description:"",methods:[{name:"getElementHeights",docblock:null,modifiers:[],params:[],returns:null},{name:"scrollToCurrentPost",docblock:null,modifiers:[],params:[{name:"isSmoothScroll",type:null}],returns:null},{name:"onTransitionEnd",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handlePostClick",docblock:null,modifiers:[],params:[{name:"post",type:null},{name:"index",type:null}],returns:null},{name:"updateElementHeight",docblock:null,modifiers:[],params:[{name:"index",type:null},{name:"height",type:null}],returns:null},{name:"handleTopAdUpdate",docblock:null,modifiers:[],params:[{name:"elementHeight",type:null}],returns:null},{name:"receiveMessage",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getStickyBreakpoint",docblock:null,modifiers:[],params:[{name:"isPremiumStickyMode",type:null}],returns:null}],displayName:"GallerySidebar",props:{Title:{defaultValue:{value:"() => ''",computed:!1},type:{name:"func"},required:!1,description:""},moreDataFetch:{type:{name:"func"},required:!0,description:""},postRecircInteractedAnalytics:{type:{name:"func"},required:!0,description:""},setCurrentPostIndexAction:{type:{name:"func"},required:!0,description:""},posts:{type:{name:"object"},required:!1,description:""},post:{type:{name:"object"},required:!1,description:""},postOrder:{type:{name:"object"},required:!1,description:""},postIndex:{type:{name:"number"},required:!1,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},viewportHeight:{type:{name:"number"},required:!1,description:""},isMainContentReady:{type:{name:"bool"},required:!1,description:""},recircSortType:{type:{name:"string"},required:!1,description:""},isWebPSupported:{type:{name:"bool"},required:!1,description:""},recircBarHeightModifier:{type:{name:"number"},required:!0,description:""},transformationEnabled:{type:{name:"bool"},required:!0,description:""},streamSection:{type:{name:"string"},required:!0,description:""},streamSort:{type:{name:"string"},required:!0,description:""}}};var mr=Object(Pe.d)(function(e){return Object(Pe.d)(C.h,Object(T.b)(function(e){var t=e.posts,n=e.gallery;return{posts:t.get("posts"),streamSection:n.get("streamSection"),searchQuery:n.get("searchQuery")}},{setRecircSortType:Ne.Mb}))(ar(e))},Object(T.b)(function(e){var t=e.postsData,n=e.posts,r=e.ad,a=e.viewportData,o=e.gallery,i=e.user,c=e.agent;return{post:t.get("currentPost"),postIndex:t.get("currentPostIndex"),recircSortType:t.get("recircSortType"),posts:n.get("posts"),postOrder:n.get("postOrder"),adsEnabled:Object(he.d)(r,i),viewportHeight:a.get("containerHeight")||1080,isMainContentReady:t.get("isMainContentReady"),isLoading:o.get("isFetching"),isWebPSupported:c.get(fn.s),recircBarHeightModifier:i.getIn(["subscription","isSubscribed"])||i.get("hasPaid")?2:1,transformationEnabled:r.getIn(["transformation","enabled"]),streamSection:o.get("streamSection"),streamSort:o.get("streamSort")}},{postRecircInteractedAnalytics:Ne.ob,setCurrentPostIndexAction:Ne.Ib}))(dr),pr=function(e){d()(r,e);var n=lr(r);function r(e){var t;return l()(this,r),(t=n.call(this,e)).node=w.a.createRef(),t.state={height:t.props.height},t}return u()(r,[{key:"componentDidUpdate",value:function(){var e=Math.round(this.node.getBoundingClientRect().height);this.state.height!==e&&(this.setState({height:e}),this.props.setHeight(e))}},{key:"render",value:function(){var t=this;return w.a.createElement("div",{ref:function(e){t.node=e},className:"Gallery-Sidebar-PostContainer"},this.props.children)}}]),r}(w.a.Component);pr.__docgenInfo={description:"",methods:[],displayName:"SideBarPostContainer",props:{children:{type:{name:"node"},required:!0,description:""},setHeight:{type:{name:"func"},required:!0,description:""},height:{type:{name:"number"},required:!1,description:""},index:{type:{name:"number"},required:!1,description:""}}};function fr(e){var t=e.accolades,n=e.title,r=e.body,a=e.buttonText,o=e.onButtonClick,i=e.className,c=t.map(function(e){return w.a.createElement("img",{key:e.id,className:"AccoladesTooltip-accoladeIcon",src:e.get("image_url")})}),s=ve()(S()({AccoladesTooltip:!0},i,!0));return w.a.createElement("div",{className:s},c,w.a.createElement("div",{className:"AccoladesTooltip-title"},n),w.a.createElement("div",{className:"AccoladesTooltip-body"},r),w.a.createElement("button",{type:"button",className:"AccoladesTooltip-button",onClick:o},a))}var hr=n("kCKb"),gr=n("lJMb"),yr=n("gGMO"),br=n("pQSO"),vr=n("J4zp"),Cr=n.n(vr);n("xsax");fr.defaultProps={className:"",accolades:[],onButtonClick:function(){}},fr.__docgenInfo={description:"",methods:[],displayName:"AccoladesTooltip",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},accolades:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:""},onButtonClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},title:{type:{name:"string"},required:!0,description:""},body:{type:{name:"string"},required:!0,description:""},buttonText:{type:{name:"string"},required:!0,description:""}}};function Er(e){function t(e){e.animationName==="".concat(i,"-animationend")&&(d(!1),h(!1))}var n,r=e.show,a=e.children,o=e.className,i=e.transitionName,c=Object(P.useRef)(null),s=Object(P.useState)(!1),l=Cr()(s,2),u=l[0],d=l[1],m=Object(P.useState)(!1),p=Cr()(m,2),f=p[0],h=p[1],g=Object(P.useState)(!1),y=Cr()(g,2),b=y[0],v=y[1];Object(P.useEffect)(function(){if(c.current)return c.current.addEventListener("animationend",t,!1),function(){c.current.removeEventListener("animationend",t,!1)}},[c]),Object(P.useLayoutEffect)(function(){r?d(!0):b&&(v(!1),h(!0))},[r]),Object(P.useLayoutEffect)(function(){u&&v(!0)},[u]);var C=ve()((n={Toggler:!0},S()(n,o,!0),S()(n,i,!0),S()(n,"Toggler-showing",u),S()(n,"".concat(i,"-visible"),b),S()(n,"".concat(i,"-hiding"),f),n));return w.a.createElement("div",{ref:c,className:C},a)}n("1O1r");Er.__docgenInfo={description:"",methods:[],displayName:"Toggler",props:{show:{type:{name:"bool"},required:!0,description:""},className:{type:{name:"string"},required:!0,description:""},transitionName:{type:{name:"string"},required:!0,description:""},children:{type:{name:"element"},required:!0,description:""}}};function kr(e){var t=e.showAccolades,n=e.onEmeraldClick,r=e.availableAccolades,a=e.accolades,o=e.currentUsername,i=e.inGallery,c=e.isEmerald;if(!t)return t;var s=Object(P.useState)(null),l=Cr()(s,2),u=l[0],d=l[1],m=Object(P.useState)(!1),p=Cr()(m,2),f=p[0],h=p[1],g=Object(P.useState)(!1),y=Cr()(g,2),b=y[0],v=y[1];function C(){return Object(N.eb)("?source=tooltip")}Object(P.useEffect)(function(){if(!c&&t&&i&&(null!=u&&(Object(N.i)(u),d(null)),f)){var e=Object(N.Bb)(function(){v(!0)},500);return function(){Object(N.i)(e),d(null)}}},[f,i]);var E,k,O=!(b||(E=a)&&0<E.size);return w.a.createElement(w.a.Fragment,null,b&&w.a.createElement("div",{className:"GalleryVote-modal"}),w.a.createElement("div",{onMouseEnter:function(){return h(!0)},onMouseLeave:function(){h(!1),v(!1)},className:ve()({"GalleryVote-accoladesButton":!0,"GalleryVote-accoladesAnimate":O,"GalleryVote-accoladesHighlight":b}),onClick:c?function(){return n(j.a.CLICKED_EMERALD)}:C},w.a.createElement("div",{className:ve()({item:!0,"item-single":!0,btn:!0,"btn-emerald":!0,"btn-emerald-highlight":b})},0===(k=a?Math.min(a.size,3):0)?w.a.createElement(K.hb,{className:"emerald-icon",name:K.o,width:"32",height:"32"}):w.a.createElement(w.a.Fragment,null,a.slice(0,3).map(function(e,t){return w.a.createElement("div",{key:t,className:ve()(S()({"accolade-icon":!0},"accolade-icon-".concat(k,"-").concat(t),!0))},w.a.createElement(it.a,{username:e.get("user_selected")?o:"",imageUrl:e.get("image_url"),imageName:e.get("name")}))}))),w.a.createElement("div",null,w.a.createElement("div",{className:"GalleryVote-accoladesBridge"},w.a.createElement(Er,{show:b,className:"AccoladesButton-toggler",transitionName:"fader-right"},w.a.createElement(fr,{accolades:r,title:Object(Je.a)("accoladesTooltipTitle"),buttonText:Object(Je.a)("accoladesTooltipBtnTxt"),className:"AccoladesButton-accoladesTooltip AccoladesTooltip-engagementTooltip",onButtonClick:C,body:Object(Je.a)("accoladesTooltipBody")}))))))}kr.__docgenInfo={description:"",methods:[],displayName:"AccoladeButton",props:{showAccolades:{type:{name:"bool"},required:!0,description:""},onEmeraldClick:{type:{name:"func"},required:!0,description:""},availableAccolades:{type:{name:"array"},required:!0,description:""},accolades:{type:{name:"object"},required:!0,description:""},currentUsername:{type:{name:"string"},required:!0,description:""},inGallery:{type:{name:"bool"},required:!0,description:""},isEmerald:{type:{name:"bool"},required:!0,description:""}}};n("oSho");function Or(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Sr=function(e){d()(r,e);var n=Or(r);function r(e){var t;return l()(this,r),(t=n.call(this,e)).state={isFade:!1},t.timeout=null,t.tooltipDelay=null,t}return u()(r,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.score,a=n.postId;e.score!==r&&e.postId===a&&(this.setState({isFade:!0}),this.timeout=Object(N.Bb)(function(){t.setState({isFade:!1})},150))}},{key:"render",value:function(){var e=this.props,t=e.vote,n=e.onVote,r=e.score,a=e.isFavorite,o=e.onFavorite,i=e.hidePoints,c=e.upvoteRef,s=e.downvoteRef,l=e.favoriteRef,u=e.showEmerald,d=e.isEmerald,m=e.onEmeraldClick,p=e.transformationStyle,f=e.onPointsClick,h=e.accolades,g=e.inGallery,y=e.currentUsername,b=e.availableAccolades,v=this.state.isFade,C={item:!0,score:!0,"score-upvoted":t===Qe.b,"score-downvoted":t===Qe.a,"score-fade":v},E=u&&g;return w.a.createElement("div",{className:ve()({GalleryVote:!0,"hidden-post":!g})},w.a.createElement(kr,{showAccolades:E,onEmeraldClick:m,accolades:h,availableAccolades:b,currentUsername:y,inGallery:g,isEmerald:d}),w.a.createElement("div",{className:"GalleryVote-controls",style:p},g&&w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"item btn btn-upvote",onClick:function(e){return n(e,t===Qe.b?Qe.c:Qe.b)}},w.a.createElement(yr.b,{selected:t===Qe.b,width:"32",height:"32",title:Object(G.b)("upvoteHint"),setRef:c})),!i&&w.a.createElement("div",{className:ve()(C),onClick:f},w.a.createElement("span",{title:Object(G.b)("scoreHint")},Object(Ze.j)(r))),w.a.createElement("div",{className:"item btn btn-downvote",onClick:function(e){return n(e,t===Qe.a?Qe.c:Qe.a)}},w.a.createElement(yr.a,{selected:t===Qe.a,width:"32",height:"32",title:Object(G.b)("downvoteHint"),setRef:s}))),w.a.createElement("div",{className:"item item-single btn btn-favorite GalleryVote-favorite",onClick:o},w.a.createElement(br.a,{selected:a,width:"32",height:"32",title:Object(G.b)("favoriteHint"),setRef:l}))))}}]),r}(w.a.Component);Sr.defaultProps={vote:Qe.c,onVote:function(){},score:0,isFaforite:!1,onFavorite:function(){},hidePoints:!1,showEmerald:!1,inGallery:!0},Sr.__docgenInfo={description:"",methods:[],displayName:"GalleryVote",props:{vote:{defaultValue:{value:"VETO",computed:!0},type:{name:"enum",value:[{value:"import { UP, DOWN, VETO } from 'constants/vote_type';",computed:!0},{value:"import { UP, DOWN, VETO } from 'constants/vote_type';",computed:!0},{value:"import { UP, DOWN, VETO } from 'constants/vote_type';",computed:!0}]},required:!1,description:""},onVote:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},score:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},isFaforite:{defaultValue:{value:"false",computed:!1},required:!1},onFavorite:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},hidePoints:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},showEmerald:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},inGallery:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},isFavorite:{type:{name:"bool"},required:!1,description:""},onPointsClick:{type:{name:"func"},required:!0,description:""},upvoteRef:{type:{name:"object"},required:!1,description:""},downvoteRef:{type:{name:"object"},required:!1,description:""},favoriteRef:{type:{name:"object"},required:!1,description:""},isEmerald:{type:{name:"bool"},required:!0,description:""},onEmeraldClick:{type:{name:"func"},required:!1,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""},availableAccolades:{type:{name:"array"},required:!1,description:""},accolades:{type:{name:"object"},required:!1,description:""},currentUsername:{type:{name:"string"},required:!1,description:""}}};var Pr=n("P5Jw"),Nr=n("O39/"),Ir=n("ooTa");n("oAby");function jr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var qr=function(e){d()(a,e);var r=jr(a);function a(){var o;l()(this,a);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o=r.call.apply(r,[this].concat(t)),S()(f()(o),"facebook",function(){var e=o.props,t=e.onFacebookShare,n=e.postTitle,r=e.postId,a=e.postTags;t(Object(Ir.a)(),n,r,a,Nr.l)}),S()(f()(o),"twitter",function(){var e=o.props,t=e.onTwitterShare,n=e.postTitle,r=e.postId,a=e.postTags;t(Object(Ir.a)(),n,r,a,Nr.l)}),S()(f()(o),"reddit",function(){var e=o.props,t=e.onRedditShare,n=e.postTitle,r=e.postId,a=e.postTags;t(Object(Ir.a)(),n,r,a,Nr.l)}),S()(f()(o),"email",function(){var e=o.props,t=e.onEmailShare,n=e.postTitle,r=e.postId,a=e.postTags;t(Object(Ir.a)(),n,r,a,Nr.l)}),S()(f()(o),"link",function(){var e=o.props,t=e.onCopyLink,n=e.postTitle,r=e.postId,a=e.postTags;t(Object(Ir.a)(),n,r,a,Nr.l)}),o}return u()(a,[{key:"render",value:function(){return w.a.createElement("div",{className:"Gallery-Share"},w.a.createElement(Bt.a,{className:"item Gallery-ShareMenu Dropdown--horizontal Dropdown--btn",dropdownIcon:w.a.createElement(K.hb,{name:K.D,width:"32",height:"32"})},w.a.createElement("label",null,"Share"),w.a.createElement("button",{type:"button",onClick:this.facebook},w.a.createElement(K.hb,{className:"icon icon-facebook",name:K.E,width:"32",height:"32",title:Object(G.b)("facebook")})),w.a.createElement("button",{type:"button",onClick:this.twitter},w.a.createElement(K.hb,{className:"icon icon-twitter",name:K.G,width:"32",height:"32",title:Object(G.b)("twitter")})),w.a.createElement("button",{type:"button",onClick:this.reddit},w.a.createElement(K.hb,{className:"icon icon-reddit",name:K.F,width:"32",height:"32",title:Object(G.b)("reddit")})),w.a.createElement("button",{type:"button",onClick:this.email},w.a.createElement(K.hb,{className:"icon icon-mail",name:K.m,width:"32",height:"32",title:Object(G.b)("email")})),w.a.createElement(Pr.CopyToClipboard,{text:Object(Ir.a)(),onCopy:this.link},w.a.createElement("button",{type:"button"},w.a.createElement(K.hb,{className:"icon icon-link",name:K.u,width:"32",height:"32",title:Object(G.b)("copyLinkToClipboard")})))))}}]),a}(w.a.Component),wr={onFacebookShare:Ne.Pb,onTwitterShare:Ne.Tb,onRedditShare:Ne.Rb,onEmailShare:Ne.Ob,onCopyLink:Ne.Y};qr.__docgenInfo={description:"",methods:[{name:"facebook",docblock:null,modifiers:[],params:[],returns:null},{name:"twitter",docblock:null,modifiers:[],params:[],returns:null},{name:"reddit",docblock:null,modifiers:[],params:[],returns:null},{name:"email",docblock:null,modifiers:[],params:[],returns:null},{name:"link",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryShare",props:{postTitle:{type:{name:"string"},required:!0,description:""},postId:{type:{name:"string"},required:!0,description:""},postTags:{type:{name:"array"},required:!0,description:""},onFacebookShare:{type:{name:"func"},required:!0,description:""},onTwitterShare:{type:{name:"func"},required:!0,description:""},onRedditShare:{type:{name:"func"},required:!0,description:""},onEmailShare:{type:{name:"func"},required:!0,description:""},onCopyLink:{type:{name:"func"},required:!0,description:""}}};var Dr=Object(T.b)(function(e){var t=e.postsData;return{postTitle:t.getIn(["currentPost","title"]),postId:t.getIn(["currentPost","id"]),postTags:t.getIn(["currentPost","tags"])&&t.getIn(["currentPost","tags"]).map(function(e){return e.get("tag")}).toJS()}},wr)(qr);n("nAF4");function Tr(e){var t=e.commentsCount,n=e.onClick,r=e.transformationStyle;return w.a.createElement("div",{className:"Gallery-CommentsCounter",title:Object(G.b)("commentsCounterHint"),onClick:n,style:r},w.a.createElement("div",{className:"item"},w.a.createElement(K.hb,{name:K.f,width:"32",height:"32",title:"Jump to Comments",fillColor:null})),w.a.createElement("div",{className:"item label"},w.a.createElement("span",null,Object(Ze.j)(t))))}Tr.defaultProps={commentsCount:0,onClick:function(){}},Tr.__docgenInfo={description:"",methods:[],displayName:"GalleryCommentsCounter",props:{commentsCount:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""}}};var Ar=n("ErBw"),Rr=n("/iGR");n("o9hv");function xr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Mr=function(e){d()(r,e);var n=xr(r);function r(e){var c;l()(this,r),c=n.call(this,e),S()(f()(c),"setHovering",function(e){c.setState({hovering:e})}),S()(f()(c),"unhover",function(){c.setHovering(!1),Object(N.jb)("click",c.unhover)}),S()(f()(c),"setTransformation",function(e){var t=c.props,n=t.setAnimatingIn,r=t.setAnimatingOut,a=t.onClick,o=t.font,i=t.transitionEnabledPixels;Object(N.z)("TransformationFont")||Object(N.d)(Object(N.n)("link",{id:"TransformationFont",href:o,rel:"stylesheet"})),e?(n(!0),Object(N.ub)(0,0,"smooth"),i.forEach(function(e){Object(Bn.c)(e)})):r(!0),Object(N.Bb)(function(){a(e,!0)},Vn.$transformationFadeOutTimeMS/2),Object(N.Bb)(function(){e?n(!1):r(!1)},Vn.$transformationFadeOutTimeMS)});var t=!1;return Object(Rr.b)(e.name)||(Object(Rr.c)(e.name,!0,7),t=!0),c.state={hovering:t},c}return u()(r,[{key:"componentDidMount",value:function(){Object(N.a)("click",this.unhover)}},{key:"componentWillUnmount",value:function(){Object(N.jb)("click",this.unhover)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.positionY,r=t.postId;n===e.positionY&&r===e.postId||this.setHovering(!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isTransformed,r=t.exitIcon,a=t.enterIcon,o=t.buttonColor,i=t.tooltipTitle,c=t.tooltipDescription,s=t.tooltipStyle,l=this.state.hovering,u={};return l&&(u.filter="drop-shadow(0 0 3px rgba(".concat(o,", 0.16))")),n?w.a.createElement("img",{src:r,style:u,className:"Transformation",onMouseEnter:function(){return e.setHovering(!0)},onMouseLeave:function(){return e.setHovering(!1)},onClick:function(){return e.setTransformation(!1)},alt:Object(G.b)("exit")}):w.a.createElement("div",{className:"Transformation-wrapper"},w.a.createElement("img",{src:a,style:u,className:"Transformation",onMouseEnter:function(){return e.setHovering(!0)},onMouseLeave:function(){return e.setHovering(!1)},onClick:function(){return e.setTransformation(!0)},alt:Object(G.b)("enter")}),w.a.createElement("div",{className:"Transformation-tooltip".concat(l?" Transformation-tooltip--hovering":""),style:s},w.a.createElement("h2",null,i),w.a.createElement("p",null,c)))}}]),r}(w.a.Component);Mr.__docgenInfo={description:"",methods:[{name:"setHovering",docblock:null,modifiers:[],params:[{name:"hovering",type:null}],returns:null},{name:"unhover",docblock:null,modifiers:[],params:[],returns:null},{name:"setTransformation",docblock:null,modifiers:[],params:[{name:"enabled",type:null}],returns:null}],displayName:"PromotedTransformation",props:{name:{type:{name:"string"},required:!0,description:""},isTransformed:{type:{name:"bool"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},setAnimatingIn:{type:{name:"func"},required:!0,description:""},setAnimatingOut:{type:{name:"func"},required:!0,description:""},enterIcon:{type:{name:"string"},required:!0,description:""},exitIcon:{type:{name:"string"},required:!0,description:""},buttonColor:{type:{name:"string"},required:!0,description:""},tooltipTitle:{type:{name:"string"},required:!0,description:""},tooltipDescription:{type:{name:"string"},required:!0,description:""},tooltipStyle:{type:{name:"object"},required:!0,description:""},positionY:{type:{name:"number"},required:!0,description:""},postId:{type:{name:"string"},required:!0,description:""},font:{type:{name:"string"},required:!0,description:""},transitionEnabledPixels:{type:{name:"arrayOf",value:{name:"string"}},required:!0,description:""}}};var Fr=Object(T.b)(function(e){var t=e.ad,n=e.display,r=e.postsData;return{name:t.getIn(["transformation","name"]),isTransformed:t.getIn(["transformation","enabled"]),font:t.getIn(["transformation","font"]),enterIcon:t.getIn(["transformation","enterIcon"]),exitIcon:t.getIn(["transformation","exitIcon"]),buttonColor:t.getIn(["transformation","buttonColor"]),tooltipTitle:t.getIn(["transformation","tooltipTitle"]),tooltipDescription:t.getIn(["transformation","tooltipDescription"]),tooltipStyle:{backgroundImage:'url("'.concat(t.getIn(["transformation","tooltipBg"]),'")')},positionY:n.get("positionY"),postId:r.getIn(["currentPost","id"],""),transitionEnabledPixels:t.getIn(["transformation","enabledPixels"])}},{onClick:Ar.H,setAnimatingIn:Ar.E,setAnimatingOut:Ar.F})(Mr);n("fbUk");function _r(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Gr=function(e){d()(n,e);var t=_r(n);function n(e){var d;return l()(this,n),d=t.call(this,e),S()(f()(d),"handleVote",function(e,t){var n=d.props,r=n.isUserLoggedOut,a=n.showGalleryPopOverCTAAction,o=n.onVote,i=n.post,c=n.currentPostMeta,s=n.userAccoladeId,l=n.accoladeRevoked;if(r)return t===Qe.b?a(gr.q,d.upvoteRef.current.parentNode):a(gr.h,d.downvoteRef.current.parentNode);if(!s||Object(N.B)("confirm")(Object(Je.a)("accoladesDeleteConfirm",Qe.e[t].toLowerCase()))){var u=e.type&&e.type.includes("key")?"Key Press":j.p;o({postId:i.get("id"),vote:t,initialVote:c.getIn(["user","vote"]),trigger:u}),t!==Qe.b&&s&&l({userAccoladeId:s})}}),S()(f()(d),"handleFavorite",function(e){var t=d.props,n=t.isUserLoggedOut,r=t.showGalleryPopOverCTAAction,a=t.onFavorite,o=t.post,i=t.currentPostMeta,c=t.openDialogAction;if(n)return r(gr.i,d.favoriteRef.current.parentNode);var s=e.type&&e.type.includes("key")?"Key Press":j.p,l=i.getIn(["user","favorite"])||o.get("favorite"),u=Y.t;return o.get("inGallery")||(u=o.get("isAlbum")?Y.s:Y.u),a(o.get("id"),!l,o.get("isAlbum"),s,u),l?void 0:c({name:Y.d})}),S()(f()(d),"handleCommentsCounterClick",function(){var e=d.props,t=e.onScrollToComments,n=e.commentsListId,r=e.contentOffset,a=e.onScrollToCommentsAnalytics;t(n,r),a()}),S()(f()(d),"onKeyboardInteraction",function(e){var t=d.props,n=t.openDialogAction,r=t.showEmerald;if(e.target&&["INPUT","TEXTAREA"].includes(e.target.tagName))return e;var a=d.props.currentPostMeta.getIn(["user","vote"]);switch(e.key){case")":case"0":d.handleFavorite(e);break;case"-":case"_":d.handleVote(e,a===Qe.a?Qe.c:Qe.a);break;case"+":case"=":d.handleVote(e,a===Qe.b?Qe.c:Qe.b);break;case"*":case"8":if(!r)return e;n({name:Xe.a,eventSource:j.a.HOTKEY})}return e}),d.upvoteRef=w.a.createRef(),d.downvoteRef=w.a.createRef(),d.favoriteRef=w.a.createRef(),d}return u()(n,[{key:"componentDidMount",value:function(){Object(N.c)("keydown",this.onKeyboardInteraction)}},{key:"componentWillUnmount",value:function(){Object(N.nb)("keydown",this.onKeyboardInteraction)}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.currentPostMeta,r=e.openDialogAction,a=e.transformationStyle,o=e.showEmerald,i=e.availableAccolades,c=e.isEmerald,s=e.accolades,l=e.currentUsername,u=e.showsTransformationButton;return w.a.createElement("div",{className:"Gallery-EngagementBar"},w.a.createElement("div",{className:"Gallery-EngagementBarContainer",style:{paddingBottom:0}},w.a.createElement(Sr,{postId:t.get("id"),vote:n.getIn(["user","vote"])||Qe.c,score:n.getIn(["post","point_count"])||0,onVote:this.handleVote,isFavorite:n.getIn(["user","favorite"])||t.get("favorite")||!1,onFavorite:this.handleFavorite,hidePoints:t.get("isAd")||0<t.get("adType"),upvoteRef:this.upvoteRef,downvoteRef:this.downvoteRef,favoriteRef:this.favoriteRef,transformationStyle:a,showEmerald:o,availableAccolades:i,isEmerald:c,onEmeraldClick:function(e){r({name:Xe.a,eventSource:e})},onPointsClick:function(){return r({name:Y.D})},accolades:s,currentUsername:l,inGallery:t.get("inGallery")}),u&&w.a.createElement(Fr,null),w.a.createElement(Dr,null),!t.get("commentsDisabled")&&w.a.createElement(Tr,{commentsCount:n.getIn(["post","comment_count"]),onClick:this.handleCommentsCounterClick,transformationStyle:a})))}}]),n}(w.a.Component);Gr.defaultProps={onFavorite:function(){},onVote:function(){},onScrollToComments:function(){},availableAccolades:[]},Gr.__docgenInfo={description:"",methods:[{name:"handleVote",docblock:null,modifiers:[],params:[{name:"e",type:null},{name:"vote",type:null}],returns:null},{name:"handleFavorite",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleCommentsCounterClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyboardInteraction",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"GalleryEngagementBar",props:{onFavorite:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},onVote:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},onScrollToComments:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},availableAccolades:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:""},post:{type:{name:"object"},required:!0,description:""},currentPostMeta:{type:{name:"object"},required:!0,description:""},onScrollToCommentsAnalytics:{type:{name:"func"},required:!1,description:""},commentsListId:{type:{name:"string"},required:!1,description:""},contentOffset:{type:{name:"number"},required:!0,description:""},showGalleryPopOverCTAAction:{type:{name:"func"},required:!0,description:""},isUserLoggedOut:{type:{name:"bool"},required:!1,description:""},setRef:{type:{name:"func"},required:!1,description:""},openDialogAction:{type:{name:"func"},required:!0,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""},showEmerald:{type:{name:"bool"},required:!0,description:""},isEmerald:{type:{name:"bool"},required:!0,description:""},accolades:{type:{name:"object"},required:!1,description:""},currentUsername:{type:{name:"string"},required:!1,description:""},userAccoladeId:{type:{name:"number"},required:!1,description:""},accoladeRevoked:{type:{name:"func"},required:!1,description:""},showsTransformationButton:{type:{name:"bool"},required:!0,description:""}}};var Lr=Object(T.b)(function(e,t){var n=e.ui,r=e.user,a=e.postsData,o=e.ad,i=!a.getIn(["currentPost","isAd"],!1),c=Object(he.d)(o,r),s=(new Date).getTime(),l={};return o.getIn(["transformation","enabled"])&&(l={borderColor:"rgb(".concat(o.getIn(["transformation","primaryColor"]),")"),boxShadow:"0 0 8px rgba(".concat(o.getIn(["transformation","primaryColor"]),", 0.32)")}),{contentOffset:n.cover.get("collapsed",0),isUserLoggedOut:!r.get("isLoggedIn"),isEmerald:r.getIn(["subscription","isSubscribed"]),transformationStyle:l,showEmerald:i,currentPostMeta:a.get("currentPostMeta")&&Object(wt.a)(a.get("currentPostMeta")),availableAccolades:a.getIn(["currentPostMeta","accolades","available"]),accolades:Object(nn.c)(a.getIn(["currentPostMeta","accolades","available"]),a.getIn(["currentPostMeta","post","accolades_counts"]),a.getIn(["currentPostMeta","user","accolades","accolade_id"])),currentUsername:r.get("username",""),userAccoladeId:a.getIn(["currentPostMeta","user","accolades","accolade_id"]),showsTransformationButton:c&&(t.post.getIn(["adConfig","showsAds"])||t.post.get("inGallery")&&!t.post.get("isAd")||o.getIn(["transformation","promotedPostIds"]).includes(t.post.get("id")))&&s>o.getIn(["transformation","startTime"])&&(s<o.getIn(["transformation","endTime"])||o.getIn(["transformation","enabled"]))}},{onFavorite:Ne.db,onVote:Ne.Zb,onScrollToComments:hr.g,onScrollToCommentsAnalytics:Ne.Gb,showGalleryPopOverCTAAction:gr.s,openDialogAction:L.I,accoladeRevoked:st.l})(Gr),Vr=n("JPcv"),Ur=n("f6ut"),Br=n("yzPS"),Wr=n("66r6"),Hr=n("QIN0"),zr=n("z6Vh"),Yr=n("DfB6"),Kr=(n("eeI0"),n("/y0k"));n("WYmX");function Jr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Xr=function(e){d()(r,e);var n=Jr(r);function r(e){var t;return l()(this,r),t=n.call(this,e),S()(f()(t),"handleFileInput",function(e){(0,t.props.startCommentUpload)(e.target.files),t.inputRef.value=""}),S()(f()(t),"componentDidMount",function(){(0,t.props.onLoad)(t.wrapperRef)}),t.inputRef=w.a.createRef(),t.wrapperRef=w.a.createRef(),t}return u()(r,[{key:"render",value:function(){var t=this,e=this.props,n=e.disabled,r=e.title;return w.a.createElement("div",{className:"CommentUploadButton",disabled:n,ref:function(e){t.wrapperRef=e}},w.a.createElement(K.hb,{className:"icon fill",name:K.a,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:function(e){return t.inputRef.click(e)},title:r}),w.a.createElement("input",{id:"file-input",className:"CommentUpload-fileInput",type:"file",name:"files",ref:function(e){t.inputRef=e},accept:Kr.a,onChange:this.handleFileInput,disabled:n}))}}]),r}(w.a.Component);function Qr(e){var t=e.className,n=e.copyName,r=e.op,a=(new Date).getTime();return w.a.createElement("p",{className:t},Object(G.b)(n,r,a))}Xr.defaultProps={title:Object(G.b)("commentUploadButton")},Xr.__docgenInfo={description:"",methods:[{name:"handleFileInput",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"componentDidMount",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CommentUploadButton",props:{title:{defaultValue:{value:"copy('commentUploadButton')",computed:!0},type:{name:"string"},required:!1,description:""},startCommentUpload:{type:{name:"func"},required:!1,description:""},disabled:{type:{name:"bool"},required:!1,description:""},onLoad:{type:{name:"func"},required:!1,description:""}}},Qr.__docgenInfo={description:"",methods:[],displayName:"CommentFormTitle",props:{className:{type:{name:"string"},required:!1,description:""},copyName:{type:{name:"string"},required:!1,description:""},op:{type:{name:"string"},required:!1,description:""}}};var Zr=Object(P.memo)(Qr),$r=n("9WAK"),ea=n.n($r),ta=1,na=3;function ra(e){var t=e.openReactionGifs,n=e.setCommentValue,r=w.a.createElement(K.hb,{className:"icon fill Comment-create-prompts-gif",name:K.b,"aria-label":Object(G.b)("GIF"),title:Object(G.b)("GIF"),width:"26",height:"26",viewBox:"0 1 30 30"}),a=ea()([w.a.createElement("div",{onClick:function(){return t("cake day","commentAddCakeDay")}},Object(G.b)("commentAddCakeDay"),r),w.a.createElement("div",{onClick:function(){return t("dance","commentAddDance")}},Object(G.b)("commentAddDance"),r)]),o=ea()([w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentHappyCakeDayOP"))}},Object(G.b)("commentHappyCakeDayOP")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentCakeDayHaveYourCake"))}},Object(G.b)("commentCakeDayHaveYourCake")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentCakeDayBringOnTheCake"))}},Object(G.b)("commentCakeDayBringOnTheCake")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentCakeDayEatSlice"))}},Object(G.b)("commentCakeDayEatSlice")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentCakeDayGoodToHaveYou"))}},Object(G.b)("commentCakeDayGoodToHaveYou")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentCakeDayBigBundts"))}},Object(G.b)("commentCakeDayBigBundts")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentCakeDayCongrats"))}},Object(G.b)("commentCakeDayCongrats")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentCakeDayEatCake"))}},Object(G.b)("commentCakeDayEatCake")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentCakeDayRemember"))}},Object(G.b)("commentCakeDayRemember")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentCakeDayBestDay"))}},Object(G.b)("commentCakeDayBestDay"))]);return w.a.createElement(w.a.Fragment,null,a.filter(function(e,t){return t<ta}),o.filter(function(e,t){return t<na}))}function aa(e){var t=e.openReactionGifs,n=e.setCommentValue,r=w.a.createElement(K.hb,{className:"icon fill Comment-create-prompts-gif",name:K.b,"aria-label":Object(G.b)("GIF"),title:Object(G.b)("GIF"),width:"26",height:"26",viewBox:"0 1 30 30"}),a=ea()([w.a.createElement("div",{onClick:function(){return t("hello","commentNewOPGif")}},Object(G.b)("commentNewOPGif"),r),w.a.createElement("div",{onClick:function(){return t("upvote","commentFirstPostAddAnUpvote")}},Object(G.b)("commentFirstPostAddAnUpvote"),r),w.a.createElement("div",{onClick:function(){return t("thumbs up","commentFirstPostThumbsUp")}},Object(G.b)("commentFirstPostThumbsUp"),r)]),o=ea()([w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentFirstPostOPSolid"))}},Object(G.b)("commentFirstPostOPSolid")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentFirstPostOPHaveAnUpvote"))}},Object(G.b)("commentFirstPostOPHaveAnUpvote")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentNewOPOneOfUs"))}},Object(G.b)("commentNewOPOneOfUs")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentFirstPostGreatPostOnFirstTry"))}},Object(G.b)("commentFirstPostGreatPostOnFirstTry")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentFirstPostFirstForay"))}},Object(G.b)("commentFirstPostFirstForay")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentFirstPostIRemember"))}},Object(G.b)("commentFirstPostIRemember")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentFirstPostHappyPosting"))}},Object(G.b)("commentFirstPostHappyPosting")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentFirstPostFirstDay"))}},Object(G.b)("commentFirstPostFirstDay"))]);return w.a.createElement(w.a.Fragment,null,a.filter(function(e,t){return t<ta}),o.filter(function(e,t){return t<na}))}function oa(e){var t=e.openReactionGifs,n=e.setCommentValue,r=w.a.createElement(K.hb,{className:"icon fill Comment-create-prompts-gif",name:K.b,"aria-label":Object(G.b)("GIF"),title:Object(G.b)("GIF"),width:"26",height:"26",viewBox:"0 1 30 30"}),a=ea()([w.a.createElement("div",{onClick:function(){return t("welcome","commentNewOPWelcomeGif")}},Object(G.b)("commentNewOPWelcomeGif"),r),w.a.createElement("div",{onClick:function(){return t("hello","commentNewOPGif")}},Object(G.b)("commentNewOPGif"),r)]),o=ea()([w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentNewOPOneOfUs"))}},Object(G.b)("commentNewOPOneOfUs")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentNewOPHello"))}},Object(G.b)("commentNewOPHello")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentNewOPGladYoureHere"))}},Object(G.b)("commentNewOPGladYoureHere")),w.a.createElement("div",{onClick:function(){return n("".concat(Object(G.b)("commentNewOPWelcomeToParty")," "))}},Object(G.b)("commentNewOPWelcomeToParty"),w.a.createElement("span",{role:"img","aria-label":"wave"}," ")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentNewOPYayYouMadeIt"))}},Object(G.b)("commentNewOPYayYouMadeIt")),w.a.createElement("div",{onClick:function(){return n("".concat(Object(G.b)("commentNewOPWelcome")," "))}},Object(G.b)("commentNewOPWelcome"),w.a.createElement("span",{role:"img","aria-label":"wave"}," ")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentNewOPWelcomeCupcakes"))}},Object(G.b)("commentNewOPWelcomeCupcakes")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentNewOPWelcomePal"))}},Object(G.b)("commentNewOPWelcomePal")),w.a.createElement("div",{onClick:function(){return n(Object(G.b)("commentNewOPFitRightIn"))}},Object(G.b)("commentNewOPFitRightIn"))]);return w.a.createElement(w.a.Fragment,null,a.filter(function(e,t){return t<ta}),o.filter(function(e,t){return t<na}))}function ia(e){var t=e.suggestionGroup,n=e.openReactionGifs,r=e.setCommentValue;return w.a.createElement("div",{className:"Comment-create-prompts"},t===ut.d&&w.a.createElement(oa,{openReactionGifs:n,setCommentValue:r}),t===ut.c&&w.a.createElement(aa,{openReactionGifs:n,setCommentValue:r}),t===ut.b&&w.a.createElement(ra,{openReactionGifs:n,setCommentValue:r}))}ra.propTypes={openReactionGifs:v.a.func,setCommentValue:v.a.func},aa.propTypes={openReactionGifs:v.a.func,setCommentValue:v.a.func},oa.propTypes={openReactionGifs:v.a.func,setCommentValue:v.a.func},ia.__docgenInfo={description:"",methods:[],displayName:"CommentSuggetions",props:{suggestionGroup:{type:{name:"string"},required:!1,description:""},openReactionGifs:{type:{name:"func"},required:!1,description:""},setCommentValue:{type:{name:"func"},required:!1,description:""}}};var ca=Object(P.memo)(ia);oa.__docgenInfo={description:"",methods:[],displayName:"NewOpSuggestions",props:{openReactionGifs:{type:{name:"func"},required:!(aa.__docgenInfo={description:"",methods:[],displayName:"FirstPostSuggestions",props:{openReactionGifs:{type:{name:"func"},required:!(ra.__docgenInfo={description:"",methods:[],displayName:"CakeDaySuggestions",props:{openReactionGifs:{type:{name:"func"},required:!1,description:""},setCommentValue:{type:{name:"func"},required:!1,description:""}}}),description:""},setCommentValue:{type:{name:"func"},required:!1,description:""}}}),description:""},setCommentValue:{type:{name:"func"},required:!1,description:""}}};var sa=n("lIU6"),la=n("uwpD");function ua(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var da=function(e){d()(n,e);var t=ua(n);function n(e){var c;return l()(this,n),c=t.call(this,e),S()(f()(c),"textareaElem",null),S()(f()(c),"adminBadgeElem",null),S()(f()(c),"handleSubmit",function(e){e.preventDefault();var t=c.state,n=t.value,r=t.hasAdminBadge,a=t.maxChars,o=t.uploadedFile,i=Object(Ze.a)(n);(0===i||a<i)&&!o||(0,c.props.onCreate)({comment:n,hasAdminBadge:r,file:o})}),S()(f()(c),"handleClose",function(e){var t=c.state.value;if(!("click"!==e.type&&0<Object(Ze.a)(t))){var n=c.props.onClose;n&&n()}}),S()(f()(c),"handleKeyDown",function(e){e.key===O.a?c.handleSubmit(e):[O.d,O.c].includes(e.key)&&c.handleClose(e)}),S()(f()(c),"onChange",function(e){var t=c.state.value;c.updateTextareaHeight(c.textareaElem);var n=e?e.target.value:t,r=Object(Ze.a)(n);c.setState({characterCount:r,value:n})}),S()(f()(c),"setFocusIn",function(){c.setState({focused:!0})}),S()(f()(c),"setFocusOut",function(){c.setState({focused:!1})}),S()(f()(c),"setTextareaElem",function(e){c.textareaElem=e}),S()(f()(c),"onCheckboxChange",function(e){c.setState({hasAdminBadge:e.target.checked})}),S()(f()(c),"updateTextareaHeight",function(e){e&&(e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px"))}),S()(f()(c),"onGIFSelect",function(e){var t=c.state.value,n="".concat(t).concat(e),r=Object(Ze.a)(n);c.setState({value:n,characterCount:r,hasMedia:!0})}),S()(f()(c),"removeUploadedFile",function(){var e=c.state,t=e.maxChars,n=e.fileObjURL;Object(N.sb)(n),c.setState({uploadedFile:null,maxChars:t+D.A,fileObjURL:"",hasMedia:!1})}),S()(f()(c),"getReactionPreview",function(e){var t=Object(Wr.j)(e);if(t)return w.a.createElement(sa.b,{src:t,onClose:function(){return c.removeReactionMedia(t)}})}),S()(f()(c),"removeReactionMedia",function(e){var t=c.state.value;c.setState({value:t.replace(e,""),hasMedia:!1},c.onChange)}),S()(f()(c),"focusOnTextArea",function(){c.textareaElem.focus()}),S()(f()(c),"startCommentUpload",function(e){if(e&&e[0]){var t=c.state.maxChars;c.setState({uploadedFile:e[0],fileObjURL:Object(N.o)(e[0]),maxChars:t-D.A,hasMedia:!0})}}),S()(f()(c),"showUploadPopOver",function(e){var t=c.props,n=t.showPopOver;return(0,t.viewedCommentUploadPopupAction)(),n(gr.e,e)}),S()(f()(c),"openReactionGifs",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=c.props,r=n.setReactionGifSearchStringAction,a=n.newOPWelcomeAnalyticsAction;r(e),c.setState({isGIFOpen:!0}),a(Object(G.b)(t))}),S()(f()(c),"setCommentValue",function(e){var t=c.props.newOPWelcomeAnalyticsAction;c.setState({value:e},c.onChange),t(e)}),S()(f()(c),"setReactionGifPopupVisibility",function(e){c.setState({isGIFOpen:e})}),c.state={characterCount:0,value:"",focused:!!e.autoFocus,hasAdminBadge:!1,maxChars:ut.j,fileObjURL:"",uploadedFile:null,hasMedia:!1,isGIFOpen:!1},c}return u()(n,[{key:"componentDidMount",value:function(){this.updateTextareaHeight(this.textareaElem)}},{key:"componentDidUpdate",value:function(e){var t=e.isLoading,n=this.props.isLoading,r=this.state.uploadedFile;t&&!n&&(r&&this.removeUploadedFile(),this.setState({characterCount:0,value:"",hasAdminBadge:!1}))}},{key:"renderUploadedFile",value:function(e,t){return w.a.createElement(w.a.Fragment,null,w.a.createElement(sa.b,{src:t,isVideo:Object(Hr.d)(e.name),onClose:this.removeUploadedFile,isUpload:!0}),w.a.createElement(sa.a,null))}},{key:"getCommentMedia",value:function(){var e=this.state,t=e.value,n=e.uploadedFile,r=e.fileObjURL;return n?this.renderUploadedFile(n,r):this.getReactionPreview(t)}},{key:"render",value:function(){var e=this.state,t=e.value,n=e.characterCount,r=e.focused,a=e.maxChars,o=e.hasMedia,i=e.isGIFOpen,c=a-n,s=c<0,l=this.props,u=l.placeholder,d=l.isCommunityTeam,m=l.autoFocus,p=l.onClose,f=l.transformationCreateStyles,h=l.isLoading,g=l.shouldShowCommentUploadTooltip,y=l.commentPromptType,b=l.shouldShowSuggestedComments,v=l.opUsername,C=!1;0!==n&&!s||o||(C=!0);var E=ve()({"Comment-create-textarea":!0,over:s}),k=ve()({"Comment-create-charCount":!0,over:s}),O=ve()({"Create-submitBtn":!0,disabled:C}),S=ve()({"Comment-create-bar":!0,focused:r}),P={};return P=o?{commentUpload:Object(G.b)("commentPreviewAlreadyExists"),reactionGIF:Object(G.b)("commentPreviewAlreadyExists")}:{commentUpload:Object(G.b)("commentUploadButton"),reactionGIF:Object(G.b)("gifOnHover")},w.a.createElement("div",{className:"Comment-create",style:f},y!==ut.e&&w.a.createElement(Zr,{className:"Comment-create-titleMessage",copyName:y,op:v}),w.a.createElement("form",{className:"Comment-create-form",onSubmit:this.handleSubmit},w.a.createElement("div",{className:S,onClick:this.focusOnTextArea},p&&w.a.createElement(K.hb,{name:K.g,onClick:this.handleClose,width:"25",height:"25",viewBox:"0 0 32 32",className:"Comment-create-close"}),w.a.createElement("textarea",{ref:this.setTextareaElem,autoFocus:m,className:E,value:t,onChange:this.onChange,onKeyDown:this.handleKeyDown,onFocus:this.setFocusIn,onBlur:this.setFocusOut,placeholder:u}),this.getCommentMedia(),b&&""===t&&w.a.createElement(ca,{suggestionGroup:y,openReactionGifs:this.openReactionGifs,setCommentValue:this.setCommentValue})),w.a.createElement("div",{className:"Comment-create-summary"},w.a.createElement("a",{className:"Comment-create-rules",target:"_blank",href:"/rules"},Object(G.b)("readCommunityRules")),w.a.createElement("div",{className:"Comment-create-actions"},w.a.createElement(Xr,{disabled:o,startCommentUpload:this.startCommentUpload,title:P.commentUpload,onLoad:g(this.showUploadPopOver)}),w.a.createElement(Yr.a,{disabled:o,onSelect:this.onGIFSelect,title:P.reactionGIF,setReactionGifPopupVisibility:this.setReactionGifPopupVisibility,isGIFOpen:i}),d&&w.a.createElement(Ur.a,{className:"Comment-create-adminbadge",text:Object(G.b)("showAdminBadgeCheckbox"),handleOnChange:this.onCheckboxChange,checkmarkPosition:"right"}),w.a.createElement("div",{className:k},"".concat(c)),w.a.createElement(We.c,{onClick:this.handleSubmit,className:O,isLoading:h,label:Object(G.b)("post")})))))}}]),n}(w.a.PureComponent);var ma={showPopOver:gr.s,viewedCommentUploadPopupAction:L.P,setReactionGifSearchStringAction:la.i,newOPWelcomeAnalyticsAction:dt.x};da.defaultProps={shouldShowSuggestedComments:!1,shouldShowCommentUploadTooltip:function(){return function(){}},commentPromptType:ut.e},da.__docgenInfo={description:"",methods:[{name:"handleSubmit",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleClose",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"setFocusIn",docblock:null,modifiers:[],params:[],returns:null},{name:"setFocusOut",docblock:null,modifiers:[],params:[],returns:null},{name:"setTextareaElem",docblock:null,modifiers:[],params:[{name:"domElem",type:null}],returns:null},{name:"onCheckboxChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"updateTextareaHeight",docblock:null,modifiers:[],params:[{name:"textareaElem",type:null}],returns:null},{name:"onGIFSelect",docblock:null,modifiers:[],params:[{name:"GifURL",type:null}],returns:null},{name:"removeUploadedFile",docblock:null,modifiers:[],params:[],returns:null},{name:"renderUploadedFile",docblock:null,modifiers:[],params:[{name:"file",type:null},{name:"fileObjURL",type:null}],returns:null},{name:"getCommentMedia",docblock:null,modifiers:[],params:[],returns:null},{name:"getReactionPreview",docblock:null,modifiers:[],params:[{name:"text",type:null}],returns:null},{name:"removeReactionMedia",docblock:null,modifiers:[],params:[{name:"href",type:null}],returns:null},{name:"focusOnTextArea",docblock:null,modifiers:[],params:[],returns:null},{name:"startCommentUpload",docblock:null,modifiers:[],params:[{name:"files",type:null}],returns:null},{name:"showUploadPopOver",docblock:null,modifiers:[],params:[{name:"wrapperRef",type:null}],returns:null},{name:"openReactionGifs",docblock:null,modifiers:[],params:[{name:"search",type:null},{name:"copyName",type:null}],returns:null},{name:"setCommentValue",docblock:null,modifiers:[],params:[{name:"value",type:null}],returns:null},{name:"setReactionGifPopupVisibility",docblock:null,modifiers:[],params:[{name:"isGIFOpen",type:null}],returns:null}],displayName:"CommentForm",props:{shouldShowSuggestedComments:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},shouldShowCommentUploadTooltip:{defaultValue:{value:"() => () => {}",computed:!1},type:{name:"func"},required:!1,description:""},commentPromptType:{defaultValue:{value:"COMMENT_PROMPT_NONE",computed:!0},type:{name:"enum",value:[{value:"import {\n    MAX_CHARS_IN_COMMENT,\n    COMMENT_PROMPT_NEW_OP,\n    COMMENT_PROMPT_FIRST_POST,\n    COMMENT_PROMPT_CAKE_DAY,\n    COMMENT_PROMPT_NONE,\n} from 'constants/comments';",computed:!0},{value:"import {\n    MAX_CHARS_IN_COMMENT,\n    COMMENT_PROMPT_NEW_OP,\n    COMMENT_PROMPT_FIRST_POST,\n    COMMENT_PROMPT_CAKE_DAY,\n    COMMENT_PROMPT_NONE,\n} from 'constants/comments';",computed:!0},{value:"import {\n    MAX_CHARS_IN_COMMENT,\n    COMMENT_PROMPT_NEW_OP,\n    COMMENT_PROMPT_FIRST_POST,\n    COMMENT_PROMPT_CAKE_DAY,\n    COMMENT_PROMPT_NONE,\n} from 'constants/comments';",computed:!0},{value:"import {\n    MAX_CHARS_IN_COMMENT,\n    COMMENT_PROMPT_NEW_OP,\n    COMMENT_PROMPT_FIRST_POST,\n    COMMENT_PROMPT_CAKE_DAY,\n    COMMENT_PROMPT_NONE,\n} from 'constants/comments';",computed:!0}]},required:!1,description:""},onCreate:{type:{name:"func"},required:!0,description:""},onClose:{type:{name:"func"},required:!1,description:""},placeholder:{type:{name:"string"},required:!1,description:""},isCommunityTeam:{type:{name:"bool"},required:!1,description:""},autoFocus:{type:{name:"bool"},required:!1,description:""},transformationCreateStyles:{type:{name:"object"},required:!1,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},showPopOver:{type:{name:"func"},required:!1,description:""},viewedCommentUploadPopupAction:{type:{name:"func"},required:!1,description:""},setReactionGifSearchStringAction:{type:{name:"func"},required:!0,description:""},newOPWelcomeAnalyticsAction:{type:{name:"func"},required:!0,description:""},level:{type:{name:"number"},required:!0,description:""},opUsername:{type:{name:"string"},required:!1,description:""}}};var pa=Object(T.b)(function(e,t){var n=e.ui,r=e.user,a=e.ad,o=e.postsData,i={};a.getIn(["transformation","enabled"])&&(i={borderColor:"rgb(".concat(a.getIn(["transformation","primaryColor"]),")"),boxShadow:"0 0 8px rgba(".concat(a.getIn(["transformation","primaryColor"]),", 0.32)")});var c=Object(zr.b)(r,o,t.level);return{shouldShowCommentUploadTooltip:function(e){return n.emeraldFeature.get("viewedCommentUploadTooltip")?function(){}:e},isCommunityTeam:-1!==r.get("roles").indexOf(Br.c),isLoading:n.spinner.get("createPostComment")&&n.spinner.get("createPostComment").loading,transformationCreateStyles:i,commentPromptType:Object(zr.b)(r,o,t.level),shouldShowSuggestedComments:c!==ut.e&&Object(zr.g)(o),opUsername:o.getIn(["currentPost","account","username"]),placeholder:Object(G.b)("commentWrite")}},ma)(da),fa=n("hIyu"),ha=n("0WSl");function ga(e){var t=e.postId,n=e.commentId,r=e.parentId,a=e.username,o=e.currentUsername,i=e.muteUserData,c=e.setDeleteCommentData,s=e.openDeleteCommentDialog,l=e.isLoggedIn,u=e.history,d=o&&a.toLowerCase()===o.toLowerCase(),m=l&&!d&&w.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),i(a,Ue.b,n)}},w.a.createElement(K.hb,{className:"icon",name:K.x,width:"32",height:"32",fillColor:"#B4B9C2"}),w.a.createElement("span",{className:"label"},Object(G.b)("commentMuteUser"))),p=l&&d&&w.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),c(n),s()}},w.a.createElement(K.hb,{className:"icon",name:K.J,width:"32",height:"32",fillColor:"#B4B9C2"}),w.a.createElement("span",{className:"label"},Object(G.b)("commentDelete"))),f=w.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),u.push(Object(we.c)(t,n))}},w.a.createElement(K.hb,{className:"icon stroke",name:K.u,width:"32",height:"32",fillColor:"#B4B9C2"}),w.a.createElement("span",{className:"label"},Object(G.b)("commentPermalink"))),h=!!r&&w.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),u.push(Object(we.d)(t,n))}},w.a.createElement(K.hb,{className:"icon stroke",name:K.u,width:"32",height:"32",fillColor:"#B4B9C2"}),w.a.createElement("span",{className:"label"},Object(G.b)("commentContext")));return w.a.createElement(Bt.a,{className:"CommentDropdown-menu Dropdown--btn",dropdownIcon:w.a.createElement(K.hb,{name:K.l,width:"24",height:"24"})},f,h,m,p,w.a.createElement(zt,{reportType:Wt.d,id:n,isMature:!1}))}ga.defaultProps={currentUsername:""};ga.__docgenInfo={description:"",methods:[],displayName:"CommentDropDownMenu",props:{currentUsername:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},commentId:{type:{name:"number"},required:!0,description:""},username:{type:{name:"string"},required:!0,description:""},muteUserData:{type:{name:"func"},required:!0,description:""},openDeleteCommentDialog:{type:{name:"func"},required:!0,description:""},setDeleteCommentData:{type:{name:"func"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},parentId:{type:{name:"number"},required:!1,description:""}}};var ya=Object(Pe.d)(Object(T.b)(function(e){var t=e.user;return{isLoggedIn:!!t.get("isLoggedIn"),currentUsername:t.get("username","")}},{muteUserData:Oe.P,openDeleteCommentDialog:dt.y,setDeleteCommentData:dt.C}),C.h)(ga);n("G6+a");function ba(e){var t=e.avatar,n=e.username,r=e.isSubComment,a=e.onUserProfileClick;return w.a.createElement("div",{className:"GalleryComment-avatar-bar"},w.a.createElement("div",{className:"avatar"},w.a.createElement(Me,{username:n,onClick:a},w.a.createElement("span",{style:{backgroundImage:"url(".concat(t,")")},title:n}))),r&&w.a.createElement("div",{className:"verticalLine"}))}ba.__docgenInfo={description:"",methods:[],displayName:"CommentAvatarBar",props:{avatar:{type:{name:"string"},required:!0,description:""},username:{type:{name:"string"},required:!0,description:""},isSubComment:{type:{name:"bool"},required:!1,description:""},onUserProfileClick:{type:{name:"func"},required:!0,description:""}}};n("Dk6w");function va(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Ca=function(e){d()(n,e);var t=va(n);function n(e){var o;return l()(this,n),o=t.call(this,e),S()(f()(o),"randomVector",function(){return 2*Math.random()-1}),S()(f()(o),"createParticles",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(!o.shouldCreateParticles)return e;for(var t=rt()(e),n=0;n<6;n++)t.push({x:o.canvas.width/2+100*o.randomVector(),y:o.canvas.height/2,size:Math.floor(Math.random()*Math.floor(8)),opacity:1,vectorX:o.randomVector(),vectorY:o.randomVector()});return t}),S()(f()(o),"drawParticles",function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=o.context,n=rt()(e),r=0;r<n.length;r++){t.beginPath(),t.arc(n[r].x,n[r].y,.5*n[r].size,0,2*Math.PI);var a=t.createRadialGradient(n[r].x,n[r].y,.5*n[r].size,n[r].x+.1,n[r].y,.1);a.addColorStop(.2143,"rgba(45, 217, 244, ".concat(n[r].opacity,")")),a.addColorStop(1,"rgba(22, 191, 118, ".concat(n[r].opacity,")")),t.fillStyle=a,t.filter="none",t.closePath(),t.fill(),t.beginPath(),t.arc(n[r].x,n[r].y,.5*n[r].size+2,0,2*Math.PI),t.fillStyle="rgba(67, 208, 189, ".concat(n[r].opacity,")"),t.filter="blur(".concat(8,"px)"),t.closePath(),t.fill()}return n}),S()(f()(o),"moveParticles",function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=rt()(e),n=0;n<t.length;n++)t[n].x+=.8*t[n].vectorX,t[n].y+=.8*t[n].vectorY,t[n].size=Math.max(0,t[n].size-.005),t[n].opacity=Math.max(0,t[n].opacity-.012),t[n].opacity<=0&&t.splice(n,1);return t}),S()(f()(o),"clearFrame",function(){var e=o.context;e&&e.clearRect&&e.clearRect(0,0,o.canvas.width,o.canvas.height)}),S()(f()(o),"draw",function(){if(o.counter++,o.shouldAnimate){if(o.clearFrame(),!o.particles.length&&!o.shouldCreateParticles)return o.stopAnimation(!0);o.particles=o.moveParticles(o.particles),o.drawParticles(o.particles),o.lastFrameId=Object(N.qb)(function(){return o.draw()})}}),S()(f()(o),"startAnimation",function(e){if(o.counter=0,!o.canvas)return e;o.stopAnimation(!0),o.shouldAnimate=!0,o.shouldCreateParticles=!0,o.particles=[],o.particles=o.createParticles(o.particles),o.animationTimer=Object(N.yb)(function(){o.particles=o.createParticles(o.particles)},250),o.draw(o.particles)}),S()(f()(o),"stopAnimation",function(){if(0<arguments.length&&void 0!==arguments[0]&&arguments[0])return Object(N.e)(o.lastFrameId),o.clearFrame(),o.particles=[],o.shouldAnimate=!1,void Object(N.h)(o.animationTimer);o.shouldCreateParticles=!1}),o.canvas=Object(P.createRef)(),o.context=null,o.particles=[],o.animationTimer=null,o.lastFrameId=null,o.shouldAnimate=!1,o.shouldCreateParticles=!0,o}return u()(n,[{key:"componentDidMount",value:function(){this.context=this.canvas.getContext("2d")}},{key:"componentWillUnmount",value:function(){this.stopAnimation(!0)}},{key:"render",value:function(){var t=this,e=this.props.rank;return w.a.createElement("div",{className:"badge-best-wrapper"},w.a.createElement("canvas",{className:"badge-best-animation",ref:function(e){t.canvas=e}}),w.a.createElement(qe.a,{to:"/leaderboard",className:"badge-best",onMouseEnter:this.startAnimation,onMouseLeave:function(){return t.stopAnimation()}},w.a.createElement("span",null,Object(G.b)("bestComment",e))))}}]),n}(w.a.PureComponent);Ca.__docgenInfo={description:"",methods:[{name:"randomVector",docblock:null,modifiers:[],params:[],returns:null},{name:"createParticles",docblock:null,modifiers:[],params:[{name:"particles",type:null}],returns:null},{name:"drawParticles",docblock:null,modifiers:[],params:[{name:"particles",type:null}],returns:null},{name:"moveParticles",docblock:null,modifiers:[],params:[{name:"particles",type:null}],returns:null},{name:"clearFrame",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[],returns:null},{name:"startAnimation",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"stopAnimation",docblock:null,modifiers:[],params:[{name:"immediately",type:null}],returns:null}],displayName:"CommentLeaderboardBadge",props:{rank:{type:{name:"number"},required:!0,description:""}}};n("WHPL");function Ea(e){var t=e.postId,n=e.username,r=e.commentId,a=e.parentId,o=e.hasOpBadge,i=e.hasAdminBadge,c=e.avatar,s=e.onAvatarProfileClick,l=e.onUserProfileClick,u=e.createdAtDate,d=e.platform,m=e.isSubComment,p=e.rank,f=e.onGiveEmerald,h=e.isUserLoggedIn,g=e.currentUsername,y=e.isPromotedPost,b=ve()({"byline-badge":!0,"byline-badge-admin":i,"byline-badge-op":o&&!i}),v=new Date(u),C=Object(Ze.e)(d);return w.a.createElement("div",{className:"GalleryComment-byLine"},w.a.createElement("div",{className:"Meta"},w.a.createElement(ba,{username:n,avatar:c,isSubComment:m,onUserProfileClick:s}),w.a.createElement(Me,{className:"author-name",username:n,onClick:l}),(o||i)&&w.a.createElement("div",{className:b},i&&w.a.createElement("a",{className:"admin-badge-link",href:ha.a,target:"_blank",rel:"noopener noreferrer"},w.a.createElement(K.hb,{name:K.R,width:"16",height:"16"}),w.a.createElement("span",{className:"byline-badge-text"},Object(G.b)("adminBadge"))),o&&i&&w.a.createElement("div",{className:"delimiter byline-badge-text"},"|"),o&&w.a.createElement("span",{className:"byline-badge-text"},"OP")),w.a.createElement("span",{className:"date",title:v},w.a.createElement("span",{className:"delimiter"},""),Object($e.o)(v," ago"),C&&w.a.createElement(w.a.Fragment,null," via ",w.a.createElement("a",{className:"platform bold",href:"/apps"},C))),w.a.createElement(Mt.a,{currentUsername:g,itemUsername:n,isUserLoaded:!0,isPromoted:y,isEnabled:D.u},w.a.createElement(Ft.a,{isUserLoggedIn:h,showTitle:!0,onClick:f,customClasses:"GiveEmeraldButton-secondary"})),p&&w.a.createElement(Ca,{rank:p}),w.a.createElement(ya,{postId:t,commentId:r,parentId:a,username:n})))}Ea.__docgenInfo={description:"",methods:[],displayName:"CommentByline",props:{postId:{type:{name:"string"},required:!0,description:""},avatar:{type:{name:"string"},required:!0,description:""},username:{type:{name:"string"},required:!0,description:""},createdAtDate:{type:{name:"string"},required:!0,description:""},platform:{type:{name:"string"},required:!0,description:""},commentId:{type:{name:"number"},required:!0,description:""},hasOpBadge:{type:{name:"bool"},required:!1,description:""},hasAdminBadge:{type:{name:"bool"},required:!1,description:""},onAvatarProfileClick:{type:{name:"func"},required:!0,description:""},onUserProfileClick:{type:{name:"func"},required:!0,description:""},parentId:{type:{name:"number"},required:!1,description:""},rank:{type:{name:"number"},required:!1,description:""},isSubComment:{type:{name:"bool"},required:!1,description:""},onGiveEmerald:{type:{name:"func"},required:!0,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""},currentUsername:{type:{name:"string"},required:!0,description:""},isPromotedPost:{type:{name:"bool"},required:!0,description:""}}};n("Lz/x");function ka(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Oa=function(e){d()(o,e);var a=ka(o);function o(){var n;l()(this,o);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=a.call.apply(a,[this].concat(t)),S()(f()(n),"collapseReplies",function(e){var t=n.props.toggleReplies;e.stopPropagation(),t(!1)}),S()(f()(n),"extendReplies",function(e){var t=n.props.toggleReplies;e.stopPropagation(),t(!0)}),n}return u()(o,[{key:"render",value:function(){var e=this.props,t=e.replies,n=e.isExpanded,r=e.onReply,a=e.showReply,o=e.vote,i=e.pointCount,c=e.hasMoreComments,s=e.loadMore,l=e.onVote;return w.a.createElement("div",{className:"GalleryComment-actions"},w.a.createElement("div",{className:"vote-btn upvote actions-btn",onClick:function(e){return l(e,o===Qe.b?Qe.c:Qe.b)},title:Object(G.b)("upvoteHint")},w.a.createElement(yr.b,{selected:o===Qe.b,isMini:!0,strokeColor:"#B4B9C2"})),w.a.createElement("div",{className:"points ".concat(o)},"".concat(Object(Ze.j)(i))),w.a.createElement("div",{className:"vote-btn down actions-btn",onClick:function(e){return l(e,o===Qe.a?Qe.c:Qe.a)},title:Object(G.b)("downvoteHint")},w.a.createElement(yr.a,{selected:o===Qe.a,isMini:!0,strokeColor:"#B4B9C2"})),!c&&w.a.createElement(w.a.Fragment,null,w.a.createElement("button",{type:"button",onClick:this.collapseReplies,className:ve()({hide:!n,"toggle-replies":!0,"actions-btn":!0})},w.a.createElement(K.hb,{name:K.db,width:"16",height:"16",fillColor:"#B4B9C2",viewBox:"0 1 16 16"}),Object(G.b)("commentCollapseReplies")),w.a.createElement("button",{type:"button",onClick:this.extendReplies,className:ve()({hide:n||!t.size,"toggle-replies":!0,"actions-btn":!0})},w.a.createElement(K.hb,{name:K.eb,width:"16",height:"16",fillColor:"#B4B9C2",viewBox:"0 1 16 16"}),Object(G.b)("commentRepliesCount",t.size))),c&&w.a.createElement("button",{type:"button",className:"load-more actions-btn",onClick:s},Object(G.b)("loadMore")),a&&w.a.createElement("button",{type:"button",className:"reply actions-btn",onClick:r},w.a.createElement(K.hb,{name:K.T,width:"16",height:"16",strokeColor:"#FFFFFF"}),Object(G.b)("commentReply")))}}]),o}(w.a.PureComponent);Oa.__docgenInfo={description:"",methods:[{name:"collapseReplies",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"extendReplies",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"CommentActions",props:{toggleReplies:{type:{name:"func"},required:!0,description:""},replies:{type:{name:"object"},required:!0,description:""},isExpanded:{type:{name:"bool"},required:!1,description:""},onReply:{type:{name:"func"},required:!0,description:""},showReply:{type:{name:"bool"},required:!0,description:""},onVote:{type:{name:"func"},required:!0,description:""},vote:{type:{name:"string"},required:!1,description:""},pointCount:{type:{name:"number"},required:!1,description:""},loadMore:{type:{name:"func"},required:!1,description:""},hasMoreComments:{type:{name:"bool"},required:!1,description:""}}};n("o+s0");function Sa(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Pa=function(e){d()(r,e);var n=Sa(r);function r(e){var t;return l()(this,r),t=n.call(this,e),S()(f()(t),"toggleBadComments",function(){t.setState(function(e){return{expandBadComments:!e.expandBadComments}})}),S()(f()(t),"renderBadComments",function(){var e=t.props.replies.filter(function(e){return e.get("point_count")<0});return e.size?w.a.createElement("div",null,w.a.createElement("button",{className:"toggle-bad-comments",type:"button",onClick:t.toggleBadComments},w.a.createElement(K.hb,{name:t.state.expandBadComments?K.db:K.eb,width:"16",height:"16"}),w.a.createElement("span",null,Object(G.b)("commentToggleBadReplies",t.state.expandBadComments))),t.state.expandBadComments&&e.map(function(e){return w.a.createElement(ja,{key:e.get("id"),comment:e,isSubComment:!0,onCreateComment:t.props.onCreateComment})})):""}),t.state={expandBadComments:!1},t}return u()(r,[{key:"render",value:function(){var t=this;return w.a.createElement("div",{className:"GalleryComment-replies"},this.props.replies.filter(function(e){return 0<=e.get("point_count")}).map(function(e){return w.a.createElement(ja,{key:e.get("id"),comment:e,isSubComment:!0,level:t.props.level,expandMode:t.props.expandMode,onCreateComment:t.props.onCreateComment})}),this.renderBadComments())}}]),r}(w.a.Component);Pa.__docgenInfo={description:"",methods:[{name:"toggleBadComments",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBadComments",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CommentReplies",props:{replies:{type:{name:"object"},required:!0,description:""},isSubComment:{type:{name:"bool"},required:!1,description:""},level:{type:{name:"number"},required:!0,description:""},expandMode:{type:{name:"number"},required:!0,description:""},onCreateComment:{type:{name:"func"},required:!0,description:""}}};n("GGeJ");function Na(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Ia=function(e){d()(n,e);var t=Na(n);function n(e){var s;return l()(this,n),s=t.call(this,e),S()(f()(s),"isCommentExpanded",function(e){return e.expandMode===ut.i&&e.level<ut.a&&0<e.comment.get("comments").size}),S()(f()(s),"hasMoreComments",function(){var e=s.props,t=e.level,n=e.comment;return t===ut.a&&(0<n.get("comments").size||n.get("next"))}),S()(f()(s),"toggleReplies",function(e){s.setState({expanded:e})}),S()(f()(s),"onReply",function(e){var t=s.props,n=t.isUserLoggedOut,r=t.showPopOver;if(e.stopPropagation(),n)return r(gr.k,e.currentTarget);s.setState({reply:!0})}),S()(f()(s),"onCloseReply",function(){s.setState({reply:!1})}),S()(f()(s),"onCreate",function(e){var t=e.comment,n=e.hasAdminBadge,r=e.file,a=s.props;(0,a.onCreateComment)({comment:t,hasAdminBadge:n,parentId:a.comment.get("id"),file:r}),s.setState({reply:!1,expanded:!0})}),S()(f()(s),"onVote",function(e,t){var n=s.props,r=n.comment,a=n.onVote,o=n.isUserLoggedOut,i=n.showPopOver,c=n.vote;return e.stopPropagation(),o?i(t===Qe.b?gr.f:gr.d,e.currentTarget):a(r.get("id"),t,c)}),S()(f()(s),"onProfileClick",function(e){var t=s.props,n=t.comment;return(0,t.onProfileClick)(n.get("account_id"),e)}),S()(f()(s),"onUserProfileClick",function(){return s.onProfileClick("Username Comment")}),S()(f()(s),"onAvatarProfileClick",function(){return s.onProfileClick("Avatar Comment")}),S()(f()(s),"onContainerClick",function(e){var t=s.state.expanded;0<s.props.comment.get("comments").size&&"A"!==e.target.tagName&&s.setState({expanded:!t})}),S()(f()(s),"loadMore",function(e){var t=s.props,n=t.comment,r=t.history;e.stopPropagation(),r.push(Object(we.d)(n.get("post_id"),n.get("id")))}),S()(f()(s),"onGiveEmerald",function(){var e=s.props,t=e.giveEmeraldData,n=e.comment,r=n.getIn(["account"]);t({recipientUsername:r.get("username"),recipientId:r.get("id"),source:Xe.l,sourceURL:D.V+Object(we.c)(n.get("post_id"),n.get("id")),postId:n.get("post_id"),commentId:n.get("id")})}),s.state={expanded:s.isCommentExpanded(s.props),reply:!1},s}return u()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.expandMode,n=this.state.expanded;e.expandMode!==t&&(n&&t<=ut.h?this.setState({expanded:!1}):!n&&this.isCommentExpanded(this.props)&&this.setState({expanded:!0}))}},{key:"render",value:function(){var e=this.props,t=e.comment,n=e.isSubComment,r=e.opUsername,a=e.level,o=e.displayUsername,i=e.vote,c=e.expandMode,s=e.onCreateComment,l=e.postMedia,u=e.isUserLoggedOut,d=e.currentUsername,m=e.isPromotedPost,p=this.state,f=p.expanded,h=p.reply,g=t.getIn(["account","username"]),y=t.get("comments"),b=ve()({"GalleryComment-wrapper":!0,"comment-op":g===r,"comment-admin":t.get("has_admin_badge")}),v=this.hasMoreComments();return w.a.createElement("div",{className:"GalleryComment"},w.a.createElement("div",{className:b},w.a.createElement("div",{className:"hover-background"}),w.a.createElement("div",{className:"GalleryComment-container",onClick:this.onContainerClick},w.a.createElement("div",{className:"GalleryComment-content"},w.a.createElement(Ea,{username:g,hasOpBadge:g===r,hasAdminBadge:t.get("has_admin_badge"),onAvatarProfileClick:this.onAvatarProfileClick,onUserProfileClick:this.onUserProfileClick,isSubComment:n,commentId:t.get("id"),parentId:t.get("parent_id"),postId:t.get("post_id"),platform:t.get("platform"),createdAtDate:t.get("created_at"),avatar:t.getIn(["account","avatar"]),rank:t.get("rank"),onGiveEmerald:this.onGiveEmerald,isUserLoggedIn:!u,currentUsername:d,isPromotedPost:m}),w.a.createElement("div",{className:"GalleryComment-body"},w.a.createElement(fa.a,{expandlink:"true",opUsername:r,isLinkifyTargetMedia:!0,postMedia:l},t.get("comment"))),w.a.createElement(Oa,{replies:y,toggleReplies:this.toggleReplies,isExpanded:f,onReply:this.onReply,showReply:!h&&!v,vote:i,onVote:this.onVote,pointCount:t.get("point_count"),hasMoreComments:v,loadMore:this.loadMore})))),h&&w.a.createElement("div",{className:"GalleryComment-reply"},w.a.createElement("div",{className:"avatar"},w.a.createElement(xt.b,{displayUsername:o}),w.a.createElement("div",{className:"verticalLine"})),w.a.createElement(pa,{onCreate:this.onCreate,onClose:this.onCloseReply,placeholder:Object(G.b)("commentWriteReply"),level:a,autoFocus:!0})),f&&!v&&w.a.createElement(Pa,{replies:y,level:a+1,expandMode:c,onCreateComment:s}))}}]),n}(w.a.Component);Ia.defaultProps={level:1},Ia.__docgenInfo={description:"",methods:[{name:"isCommentExpanded",docblock:null,modifiers:[],params:[{name:"props",type:null}],returns:null},{name:"hasMoreComments",docblock:null,modifiers:[],params:[],returns:null},{name:"toggleReplies",docblock:null,modifiers:[],params:[{name:"expand",type:null}],returns:null},{name:"onReply",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onCloseReply",docblock:null,modifiers:[],params:[],returns:null},{name:"onCreate",docblock:null,modifiers:[],params:[{name:"{\n    comment: commentString,\n    hasAdminBadge,\n    file,\n}",type:null}],returns:null},{name:"onVote",docblock:null,modifiers:[],params:[{name:"e",type:null},{name:"vote",type:null}],returns:null},{name:"onProfileClick",docblock:null,modifiers:[],params:[{name:"location",type:null}],returns:null},{name:"onUserProfileClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onAvatarProfileClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onContainerClick",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"loadMore",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onGiveEmerald",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Comment",props:{level:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},comment:{type:{name:"object"},required:!0,description:""},isSubComment:{type:{name:"bool"},required:!1,description:""},onVote:{type:{name:"func"},required:!0,description:""},showPopOver:{type:{name:"func"},required:!0,description:""},opUsername:{type:{name:"string"},required:!1,description:""},isUserLoggedOut:{type:{name:"bool"},required:!1,description:""},expandMode:{type:{name:"number"},required:!0,description:""},onCreateComment:{type:{name:"func"},required:!0,description:""},displayUsername:{type:{name:"string"},required:!0,description:""},currentUsername:{type:{name:"string"},required:!0,description:""},vote:{type:{name:"string"},required:!1,description:""},onProfileClick:{type:{name:"func"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},postMedia:{type:{name:"object"},required:!0,description:""},giveEmeraldData:{type:{name:"func"},required:!0,description:""},isPromotedPost:{type:{name:"bool"},required:!0,description:""}}};var ja=Object(Pe.d)(Object(T.b)(function(e,t){var n=e.postsData,r=e.user,a=t.comment;return{opUsername:n.getIn(["currentPost","account","username"]),postMedia:n.getIn(["currentPost","media"]),isPromotedPost:n.getIn(["currentPost","isAd"]),vote:n.getIn(["currentPostMeta","user","comment_votes","".concat(a.get("id"))]),isUserLoggedOut:!r.get("isLoggedIn"),displayUsername:r.get("displayUsername")||"",currentUsername:r.get("username")||""}},{onVote:dt.D,showPopOver:gr.s,onProfileClick:Oe.cb,giveEmeraldData:st.r}),C.h)(Ia);n("q8cC");function qa(e){var t=e.count,n=void 0===t?1:t;return w.a.createElement("div",{className:"CommentsList-Placeholder-wrapper"},function(){for(var e=[],t=0;t<n;t++)e.push(w.a.createElement("div",{key:t,className:"CommentsList-Placeholder"},w.a.createElement("div",{className:"CommentsList-Placeholder-avatar-wrapper"},w.a.createElement("div",{className:"CommentsList-Placeholder-avatar"})),w.a.createElement("div",{className:"CommentsList-Placeholder-line-wrapper"},w.a.createElement("div",{className:"CommentsList-Placeholder-line"}),w.a.createElement("div",{className:"CommentsList-Placeholder-line"}),w.a.createElement("div",{className:"CommentsList-Placeholder-line"}),w.a.createElement("div",{className:"CommentsList-Placeholder-line"}))));return e}())}qa.__docgenInfo={description:"",methods:[],displayName:"CommentsPlaceholder",props:{count:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""}}};n("B0tv");function wa(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Da=function(e){d()(n,e);var t=wa(n);function n(e){var i;return l()(this,n),i=t.call(this,e),S()(f()(i),"toggleBadComments",function(){i.setState(function(e){return{expandBadComments:!e.expandBadComments}})}),S()(f()(i),"shouldRefetchComments",function(e){var t=i.props,n=t.postId,r=t.commentId,a=t.parentContext,o=t.isUserLoaded;return e.postId!==n||e.commentId!==r||e.parentContext!==a||e.isUserLoaded!==o}),S()(f()(i),"loadMoreHandler",function(){var e=i.props,t=e.commentsSort,n=e.postCommentsNextPageLink;(0,e.fetchComments)(t,n)}),S()(f()(i),"renderEmptyState",function(){return w.a.createElement("div",{className:"CommentsList-comments--empty"},w.a.createElement(He.W,{name:He.p,width:92}),w.a.createElement("span",null,Object(G.b)("beTheFirstToComment")))}),S()(f()(i),"renderBadComments",function(e){var t=i.props,a=t.expandMode,o=t.onCreateComment,n=i.state.expandBadComments,r=e.filter(function(e){return e.get("point_count")<0});return r.size?w.a.createElement("div",null,w.a.createElement("button",{className:"toggle-bad-comments",type:"button",onClick:i.toggleBadComments},w.a.createElement(K.hb,{name:n?K.db:K.eb,width:"16",height:"16"}),w.a.createElement("span",null,Object(G.b)("commentToggleBadComments",n))),n&&r.entrySeq().map(function(e){var t=Cr()(e,2),n=t[0],r=t[1];return w.a.createElement(ja,{key:n,comment:r,expandMode:a,onCreateComment:o})})):""}),S()(f()(i),"renderLoadingComponent",function(){var e=i.props,t=e.isMainContentReady,n=e.isLoading,r=e.isAllCommentsLoaded,a=e.parentContext;return t&&!n?!r&&!a&&w.a.createElement(Cn,{message:Object(G.b)("loadMoreComments"),onClick:i.loadMoreHandler}):w.a.createElement(qa,{count:3})}),i.commentsListContainer=Object(P.createRef)(),i.state={expandBadComments:!1,commentsListContainerStyles:{}},i}return u()(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchComments)()}},{key:"componentWillUnmount",value:function(){(0,this.props.resetPostCommentsAction)()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.resetPostCommentsAction,r=t.fetchComments;this.shouldRefetchComments(e)&&(n(),r())}},{key:"render",value:function(){var t=this,e=this.props,n=e.comments,r=e.postId,a=e.isMainContentReady,o=e.isLoading,i=e.commentId,c=e.expandMode,s=e.onCreateComment,l=this.state.commentsListContainerStyles;return w.a.createElement("div",{className:"CommentsList-comments",ref:function(e){t.commentsListContainer=e},style:l},i&&w.a.createElement("div",{className:"single-comment-thread"},w.a.createElement("span",null,Object(G.b)("viewingSingleComment")),w.a.createElement("p",null,w.a.createElement(qe.a,{to:"/".concat(z.m,"/").concat(r),className:"load-more"},Object(G.b)("seeRestComments")))),w.a.createElement("div",{className:"CommentsList-comments--container"},a&&0<n.size&&n.filter(function(e){return 0<=e.get("point_count")}).entrySeq().map(function(e){var t=Cr()(e,2),n=t[0],r=t[1];return w.a.createElement(ja,{key:n,comment:r,expandMode:c,onCreateComment:s})}),a&&this.renderBadComments(n),!n.size&&!o&&this.renderEmptyState()),w.a.createElement("div",{className:"CommentsList-comments--loading"},this.renderLoadingComponent()))}}]),n}(w.a.Component);Da.__docgenInfo={description:"",methods:[{name:"toggleBadComments",docblock:null,modifiers:[],params:[],returns:null},{name:"shouldRefetchComments",docblock:null,modifiers:[],params:[{name:"prevProps",type:null}],returns:null},{name:"loadMoreHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"renderEmptyState",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBadComments",docblock:null,modifiers:[],params:[{name:"comments",type:null}],returns:null},{name:"renderLoadingComponent",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CommentsList",props:{postId:{type:{name:"string"},required:!0,description:""},comments:{type:{name:"object"},required:!0,description:""},resetPostCommentsAction:{type:{name:"func"},required:!0,description:""},commentsSort:{type:{name:"string"},required:!0,description:""},commentSortSelectedAction:{type:{name:"func"},required:!0,description:""},postCommentsNextPageLink:{type:{name:"string"},required:!1,description:""},id:{type:{name:"string"},required:!0,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},isAllCommentsLoaded:{type:{name:"bool"},required:!1,description:""},isMainContentReady:{type:{name:"bool"},required:!1,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""},isUserLoaded:{type:{name:"bool"},required:!0,description:""},commentId:{type:{name:"string"},required:!1,description:""},parentContext:{type:{name:"number"},required:!1,description:""},expandMode:{type:{name:"number"},required:!0,description:""},onCreateComment:{type:{name:"func"},required:!0,description:""},fetchComments:{type:{name:"func"},required:!0,description:""}}};var Ta=Object(T.b)(function(e){var t=e.postsData,n=e.comments,r=e.ui,a=e.user;return{postId:t.get("currentPost").get("id"),comments:n.get("postComments"),commentsSort:n.get("postCommentsSort"),postCommentsNextPageLink:n.get("postCommentsNextPageLink"),isLoading:r.spinner.get("postComments",{}).loading||!1,isAllCommentsLoaded:n.get("isAllPostCommentsLoaded"),isMainContentReady:t.get("isMainContentReady"),isUserLoggedIn:a.get("isLoggedIn"),isUserLoaded:a.get("isLoaded")}},{resetPostCommentsAction:dt.A,commentSortSelectedAction:dt.p})(Da),Aa=n("gjSL");n("QqH4");function Ra(){return w.a.createElement("div",{className:"Comment-create"},w.a.createElement("div",{className:"Comment-create-guest"},w.a.createElement("span",{className:"placeholder"},Object(G.b)("signInToLeaveComment")),w.a.createElement("div",null,w.a.createElement(We.b,{className:"Button signin",label:Object(G.b)("signIn"),title:Object(G.b)("signIn"),href:Object(Aa.a)()}),w.a.createElement(We.b,{className:"Button signup",label:Object(G.b)("signUp"),title:Object(G.b)("signUp"),href:Object(Aa.b)()}))))}function xa(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}Ra.__docgenInfo={description:"",methods:[],displayName:"SignInToLeaveComment"};var Ma=function(e){d()(n,e);var t=xa(n);function n(e){var m;return l()(this,n),m=t.call(this,e),S()(f()(m),"expandAll",function(){m.setState({expandMode:ut.i})}),S()(f()(m),"collapseAll",function(){m.setState(function(e){return{expandMode:ut.h-Math.abs(e.expandMode)}})}),S()(f()(m),"handleClickToggleForceExpanded",function(){m.state.expandMode!==ut.i?m.expandAll():m.collapseAll()}),S()(f()(m),"onKeyboardInteraction",function(e){if(e.target&&["INPUT","TEXTAREA"].includes(e.target.tagName))return e;switch(e.key){case"[":m.handleClickToggleForceExpanded(e);break;case"]":m.collapseAll()}return e}),S()(f()(m),"createComment",function(e){var t=e.comment,n=e.hasAdminBadge,r=void 0!==n&&n,a=e.parentId,o=void 0===a?null:a,i=e.file,c=void 0===i?null:i,s=m.props,l=s.postId;(0,s.createPostCommentAction)({imageId:l,comment:t,parentId:o,hasAdminBadge:r,file:c})}),S()(f()(m),"fetchComments",function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=m.props,r=n.id,a=n.fetchPostCommentsAction,o=n.commentId,i=n.parentContext,c=n.scrollToComments,s=n.contentOffset,l=n.galleryId,u=n.isUserLoggedIn;if(n.isUserLoaded){var d=u?ut.l:ut.m;t&&(d=ut.k),a(l,e,t,o,0!==i,d),o&&c(r,s)}}),S()(f()(m),"setPlaceholderHeight",function(){m.setState({commentsListContainerStyles:{minHeight:"".concat(m.commentsListContainer.current.getBoundingClientRect().height,"px")}})}),S()(f()(m),"sortHandler",function(e){var t=m.props,n=t.commentSortSelectedAction,r=t.resetPostCommentsAction;m.setPlaceholderHeight(),r(),m.fetchComments(e),n(e)}),m.commentsListContainer=w.a.createRef(),m.state={expandMode:e.commentId?ut.i:ut.g,commentsListContainerStyles:{}},m}return u()(n,[{key:"componentDidMount",value:function(){Object(N.c)("keydown",this.onKeyboardInteraction)}},{key:"componentWillUnmount",value:function(){Object(N.nb)("keydown",this.onKeyboardInteraction)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.postId,r=t.commentId,a=t.comments;!e.commentId&&r&&this.expandAll(),e.commentId&&!r&&e.postId===n&&this.setState({expandMode:ut.h}),a.size&&!Object(Vr.is)(e.comments,a)&&this.setState({commentsListContainerStyles:{}})}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.lazyLoad,r=e.postId,a=e.isUserLoggedIn,o=e.commentsSortList,i=e.commentsSort,c=e.commentCount,s=e.parentContext,l=e.commentId,u=this.state,d=u.expandMode,m=u.commentsListContainerStyles,p=d===ut.i,f=w.a.createElement(Ta,{id:t,expandMode:d,onCreateComment:this.createComment,fetchComments:this.fetchComments,parentContext:s,commentId:l});return w.a.createElement("div",{id:t,className:"CommentsList",ref:this.commentsListContainer,style:m},a?w.a.createElement(pa,{key:"commentForm-".concat(r),onCreate:this.createComment}):w.a.createElement(Ra,null),w.a.createElement("div",{id:"".concat(t,"-headline"),className:"CommentsList-headline"},w.a.createElement("div",{className:"CommentsList-headline--counter"},w.a.createElement("span",null,Object(G.b)("postCommentsCounter",Object(Ze.j)(c)))),w.a.createElement("div",{className:"CommentsList-headline--expand",onClick:this.handleClickToggleForceExpanded},w.a.createElement("span",null,Object(G.b)("expandAll",p))," ",w.a.createElement(K.hb,{name:p?K.Y:K.ab,width:"15",height:"15",fillColor:"#DADCE2"})),w.a.createElement(Bt.a,{className:"CommentsList-headline--sort",dropdownIcon:w.a.createElement(He.W,{name:He.f,width:15}),options:o,value:i,onChange:this.sortHandler})),n?w.a.createElement(ie,{lazyLoadBuffer:400},function(){return f}):f)}}]),n}(w.a.Component);Ma.__docgenInfo={description:"",methods:[{name:"expandAll",docblock:null,modifiers:[],params:[],returns:null},{name:"collapseAll",docblock:null,modifiers:[],params:[],returns:null},{name:"handleClickToggleForceExpanded",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyboardInteraction",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"createComment",docblock:null,modifiers:[],params:[{name:"{\n    comment,\n    hasAdminBadge = false,\n    parentId = null,\n    file = null,\n}",type:null}],returns:null},{name:"fetchComments",docblock:null,modifiers:[],params:[{name:"sort",type:null},{name:"postCommentsNextPageLink",type:null}],returns:null},{name:"setPlaceholderHeight",docblock:null,modifiers:[],params:[],returns:null},{name:"sortHandler",docblock:null,modifiers:[],params:[{name:"sort",type:null}],returns:null}],displayName:"CommentsListWrapper",props:{id:{type:{name:"string"},required:!0,description:""},lazyLoad:{type:{name:"bool"},required:!0,description:""},postId:{type:{name:"string"},required:!0,description:""},isUserLoggedIn:{type:{name:"bool"},required:!1,description:""},comments:{type:{name:"object"},required:!0,description:""},commentsSortList:{type:{name:"array"},required:!0,description:""},commentsSort:{type:{name:"string"},required:!0,description:""},commentCount:{type:{name:"number"},required:!0,description:""},commentId:{type:{name:"string"},required:!1,description:""},isUserLoaded:{type:{name:"bool"},required:!1,description:""},parentContext:{type:{name:"number"},required:!1,description:""},contentOffset:{type:{name:"number"},required:!0,description:""},galleryId:{type:{name:"string"},required:!1,description:""},createPostCommentAction:{type:{name:"func"},required:!0,description:""},commentSortSelectedAction:{type:{name:"func"},required:!0,description:""},fetchPostCommentsAction:{type:{name:"func"},required:!0,description:""},resetPostCommentsAction:{type:{name:"func"},required:!0,description:""},scrollToComments:{type:{name:"func"},required:!0,description:""}}};var Fa=Object(C.h)(Object(T.b)(function(e,t){var n=e.postsData,r=e.comments,a=e.user,o=e.ui,i=t.match;return{postId:n.get("currentPost").get("id"),commentCount:n.getIn(["currentPostMeta","post","comment_count"],0),commentId:(i.params||{}).commentId||null,comments:r.get("postComments"),commentsSort:r.get("postCommentsSort"),commentsSortList:r.get("postCommentsSortList"),isUserLoggedIn:a.get("isLoggedIn"),isUserLoaded:a.get("isLoaded"),parentContext:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.showContext,r=t.commentId;return n||(r?1:0)}(i.params),contentOffset:o.cover.get("collapsed",0),galleryId:(i.params||{}).galleryId}},{createPostCommentAction:dt.r,commentSortSelectedAction:dt.p,fetchPostCommentsAction:dt.t,resetPostCommentsAction:dt.A,scrollToComments:hr.g})(Ma));function _a(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Ga=function(e){d()(r,e);var n=_a(r);function r(e){var t;return l()(this,r),t=n.call(this,e),S()(f()(t),"onResize",function(e){t.updateContentWrapperWidth(e)}),S()(f()(t),"updateContentWrapperWidth",function(){(0,t.props.updateGalleryContentWrapperWidth)(t.getMaxWidth())}),S()(f()(t),"getMaxWidth",function(){var e=t.contentWrapper.current;return e&&e.getBoundingClientRect().width||_.q}),t.contentWrapper=w.a.createRef(),t}return u()(r,[{key:"componentDidMount",value:function(){Object(N.c)("resize",this.onResize),this.updateContentWrapperWidth(this.getMaxWidth())}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.transformationAnimating,r=e.transformationTitleStyle,a=e.isFadeOut,o=e.style,i=e.commentsListId,c=e.isContentWrapperMount,s=e.commentPermalinkId,l=e.isOwner;return w.a.createElement(Dt.c,{isLoading:!t},t?w.a.createElement("div",{className:"Gallery".concat(n?" Gallery--transformation":""),style:o},w.a.createElement("div",{className:"Gallery-MainContainer".concat(a?" fadeOut":"")},w.a.createElement(Lr,{post:t,commentsListId:i}),w.a.createElement("div",{className:"Gallery-contentWrapper"},w.a.createElement("div",{className:"Gallery-insideContentWrapper",ref:this.contentWrapper},c&&w.a.createElement(_n,{post:t,transformationTitleStyle:r,isOwner:l}),c&&!t.get("commentsDisabled")&&w.a.createElement(Fa,{id:i,lazyLoad:!s})))),w.a.createElement("div",{className:"Gallery-Sidebar"},w.a.createElement(mr,null))):w.a.createElement("div",{className:"placeholder"}))}}]),r}(w.a.Component);Ga.__docgenInfo={description:"",methods:[{name:"onResize",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"updateContentWrapperWidth",docblock:null,modifiers:[],params:[],returns:null},{name:"getMaxWidth",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostContentWrapper",props:{post:{type:{name:"object"},required:!1,description:""},transformationAnimating:{type:{name:"bool"},required:!1,description:""},transformationTitleStyle:{type:{name:"object"},required:!1,description:""},isFadeOut:{type:{name:"bool"},required:!1,description:""},style:{type:{name:"object"},required:!1,description:""},commentsListId:{type:{name:"string"},required:!1,description:""},isContentWrapperMount:{type:{name:"bool"},required:!1,description:""},updateGalleryContentWrapperWidth:{type:{name:"func"},required:!1,description:""},commentPermalinkId:{type:{name:"string"},required:!1,description:""},isOwner:{type:{name:"bool"},required:!1,description:""}}};n("CVa3");function La(e){var t=e.style,n=e.children,r=e.showGate,a=Object(G.b)("desktopAgeGate"),o=Object(P.useState)(!1),i=Cr()(o,2),c=i[0],s=i[1];return r&&!c?w.a.createElement("div",{className:"WallPage"},w.a.createElement("div",{className:"WallPage-background"}),w.a.createElement(Ce.a,{minHeight:0,className:"GalleryCover",backgroundType:I.n,hideNewPostNotification:!0}),w.a.createElement("div",{className:"Wall",style:t},w.a.createElement("img",{src:He.a[He.H]}),a.text,w.a.createElement("div",{className:"Wall-choices"},w.a.createElement("a",{className:"Wall-Button Button btn-wall--no",href:"/"},a.backButton),w.a.createElement("div",{className:"Wall-Button Button btn-wall--yes",onClick:function(){return s(!0)}},a.continueButton)),w.a.createElement("div",{className:"Wall-footer"},a.terms))):n}function Va(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}La.__docgenInfo={description:"",methods:[],displayName:"Wall",props:{style:{type:{name:"object"},required:!1,description:""},children:{type:{name:"element"},required:!1,description:""},showGate:{type:{name:"bool"},required:!1,description:""}}};var Ua=function(e){d()(n,e);var t=Va(n);function n(e){var d;return l()(this,n),d=t.call(this,e),S()(f()(d),"onResize",function(e){(0,d.props.updateViewportHeightAction)(e)}),S()(f()(d),"scrollToFirstMedia",function(){var e=Object(N.M)(),t=d.props.byLinePosition;(d.state.previousByLinePosition-26<=e||t-25<e)&&Object(N.ub)(0,t-25)}),S()(f()(d),"onKeyboardInteraction",function(e){var t=d.props,n=t.history,r=t.newPostAction,a=t.goToPreviousPostAction,o=t.goToNextPostAction,i=t.params,c=t.toggleAudioState;if(e.target&&["INPUT","TEXTAREA"].includes(e.target.tagName))return e;switch(e.key){case O.f:case O.e:d.lastNavArrow=!0,a(j.n.HOTKEY,i);break;case O.h:case O.g:d.lastNavArrow=!0,o(j.n.HOTKEY,i);break;case"`":r(),n.push("/".concat(z.y));break;case"m":case"M":c()}return e}),S()(f()(d),"retrievePost",function(e){var t=d.props,n=t.params,r=t.post,a=t.retrievePostAction,o=t.retrievePostMetaAction,i=t.retrievePromotedPostAction,c=t.failedFetchAttempts,s=t.toastError,l=t.incomingPost,u=d.state.setToast;3!==c?r&&!l&&r.get("id")===e||(l&&l.get("isAdInserted")?i(e):l&&l.get("inGallery")&&l.get("media")&&0<l.get("media").size?o(e,l):a(e)):u||(d.setState({setToast:!0}),s({id:"post-".concat(n.galleryId),description:Object(G.b)("errorLoadingPost")}))}),S()(f()(d),"calculateTopOffset",function(e){return Math.max(0,e-I.h)}),S()(f()(d),"onScroll",function(){var e=d.props,t=e.reachedBottom,n=e.post,r=e.isLoading,a=e.isCommentsLoading,o=Object(N.bb)(),i=Object(N.u)(),c=Object(N.s)(),s=o+i;c-j.o<=s&&n&&!d.reachedBottomSent&&!r&&!a&&(t(n,c),d.reachedBottomSent=!0)}),d.state={isFadeOut:!1,isContentWrapperMount:!1,setToast:!1,prevPostId:null,previousByLinePosition:e.byLinePosition},d.reachedBottomSent=!1,d.lastNavArrow=!1,d}return u()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.params,n=e.retrievePostAction,r=t.galleryId;n&&this.retrievePost(r);var a=this.props.history;a&&"PUSH"===a.action&&Object(N.ub)(0,0),Object(N.c)("keydown",this.onKeyboardInteraction)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.params,r=t.post,a=t.isLoading,o=t.promotedPostViewAction,i=t.setTransformationAction,c=t.isPromotedTransformation,s=t.transformationEnabled,l=t.updateAdConfigAction,u=t.sendToTop,d=t.retrievePostAction,m=this.state.isFadeOut,p=n.galleryId;if((!e.retrievePostAction&&d||r&&p!==r.get("id")&&!a)&&(this.retrievePost(p),this.reachedBottomSent=!1),m&&(u?Object(N.tb)(function(){return Object(N.ub)(0,0)}):Object(N.tb)(this.scrollToFirstMedia),this.lastNavArrow=!1),r&&!e.post&&Object(N.tb)(function(){return Object(N.Fb)("resize")}),r){var f=!e.post||r.get("id")!==e.post.get("id"),h=!r.getIn(["adConfig","showsAds"])&&e.post&&e.post.getIn(["adConfig","showsAds"]);r.get("isAd")&&f?(o(r.get("id")),!c&&s&&i(!1,!1)):h&&!c&&!r.get("inGallery")&&s&&i(!1,!1),!f||r.get("inGallery")||r.getIn(["adConfig","showsAds"])||l({enabled:!1})}}},{key:"componentWillUnmount",value:function(){var e=this.props.resetPostDataAction;Object(N.nb)("resize",this.onResize),Object(N.nb)("keydown",this.onKeyboardInteraction),e()}},{key:"shouldShowGate",value:function(){var e=this.props,t=e.isLoggedIn,n=e.post;if(t||!n||n.get("inGallery"))return!1;var r=n.getIn(["adConfig","wallFlags"]);return r&&r.includes(Y.k)}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.topOffset,r=e.isLoggedIn,a=e.isOwner,o=e.transformationAnimating,i=e.transformationCoverStyle,c=e.transformationBackgroundStyle,s=e.transformationTitleStyle,l=e.postpageBetaOptOutAction,u=e.adsEnabled,d=e.updateGalleryContentWrapperWidth,m=e.params,p=e.isMainContentReady,f=e.isInRecircExperimentWithTreatment,h=e.treatment,g=e.isLoading,y=this.state,b=y.isFadeOut,v=y.isContentWrapperMount,C={marginTop:this.calculateTopOffset(n)},E="CommentsList-".concat(t&&t.get("id"));return w.a.createElement(La,{showGate:this.shouldShowGate()},w.a.createElement("div",{className:"GalleryPage",style:c},w.a.createElement(ye,{post:t}),w.a.createElement(fe.a,null),w.a.createElement(re.d,null),w.a.createElement(Nt,null),r&&w.a.createElement(w.a.Fragment,null,w.a.createElement(Ye,null),t&&w.a.createElement(Ke.a,{postId:t.get("id"),isAlbum:t.get("isAlbum")}),w.a.createElement(pt,null),w.a.createElement(Et,null)),w.a.createElement(lt,null),w.a.createElement(ce.a,null),w.a.createElement(se.a,null),w.a.createElement(le.a,null),w.a.createElement(ue.a,null),w.a.createElement("div",{className:"GalleryPage-background",style:i}),w.a.createElement(Ve,null),w.a.createElement(Ga,{style:C,post:t,transformationAnimating:o,transformationTitleStyle:s,isFadeOut:b,commentsListId:E,isContentWrapperMount:v,updateGalleryContentWrapperWidth:d,commentPermalinkId:m.commentId,isOwner:a}),w.a.createElement("div",{className:"badges-wrapper"},r&&w.a.createElement(J,{href:D.K}),w.a.createElement(X,{onPostPageOptOut:l}),w.a.createElement(te.a,null)),t&&u&&w.a.createElement(qt,{post:t}),t&&p&&!g&&w.a.createElement(ie,{lazyLoadBuffer:800},function(){return w.a.createElement(pe,{experimentName:q.e},f&&!t.get("isAd")?w.a.createElement(W,{op:t.getIn(["account","username"],""),postHash:t.get("id"),treatment:h}):w.a.createElement(H,{adsEnabled:u,adConfig:t.get("ad_config")}))}),w.a.createElement(ne.a,null),w.a.createElement(ee,{onScroll:this.onScroll})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.failedFetchAttempts,r=e.isLoading,a=e.isLoadingMeta,o=e.post,i=e.byLinePosition,c=t.setToast,s=t.prevPostId,l=t.isFadeOut;if(o&&o.get("id")!==s)return{prevPostId:o.get("id"),isContentWrapperMount:!0,setToast:!1};if(0===n&&c)return{setToast:!1};if(o&&(r||a)){if(!l)return{previousByLinePosition:i,isFadeOut:!0}}else if(l)return{isFadeOut:!1};return null}}]),n}(w.a.Component);Ua.defaultProps={failedFetchAttempts:0};var Ba=function(e,t){var n=e.experiments,r=e.postsData,a=e.posts,o=e.ui,i=e.user,c=e.ad,s=n.get(q.e),l=s&&s.get("isActive")&&!s.get("isControl"),u=s?s.get("activeTreatment"):"",d=c.getIn(["transformation","enabled"]),m={},p={},f={};if(c.getIn(["transformation","animatingIn"])&&(m={opacity:0}),d){var h=c.getIn(["transformation","backgroundColor"]);m={background:"linear-gradient(rgba(".concat(h,", 0.4) 0%, rgba(").concat(h,", 1) 100%), url(").concat(c.getIn(["transformation","backgroundImage"]),")"),opacity:c.getIn(["transformation","animatingOut"])?0:1},p={background:"rgb(".concat(c.getIn(["transformation","backgroundColor"]),")")},f={fontFamily:c.getIn(["transformation","fontFamily"]),fontSize:c.getIn(["transformation","titleFontSize"])}}return{isInRecircExperimentWithTreatment:l,treatment:u,post:r.get("currentPost")&&Object(wt.b)(r.get("currentPost")),incomingPost:a.getIn(["posts",k()(t,"match.params.galleryId")]),isMainContentReady:r.get("isMainContentReady"),topOffset:o.cover.get("height"),isLoggedIn:!!i.get("isLoggedIn"),isOwner:i.get("isLoggedIn")&&i.get("id")===r.getIn(["currentPost","account","id"]),isLoading:o.spinner.get("retrievePost",{}).loading,isLoadingMeta:o.spinner.get("retrievePostMeta",{}).loading,isCommentsLoading:o.spinner.get("postComments",{}).loading||!1,byLinePosition:r.get("byLinePosition"),adsEnabled:Object(he.d)(c,i),isPromotedTransformation:c.getIn(["transformation","promotedPostIds"]).includes(r.getIn(["currentPost","id"])),transformationAnimating:c.getIn(["transformation","animatingIn"])||c.getIn(["transformation","animatingOut"]),transformationCoverStyle:m,transformationBackgroundStyle:p,transformationTitleStyle:f,transformationEnabled:d,failedFetchAttempts:r.get("error").failedFetchAttempts,sendToTop:k()(t,"location.state.sendToTop",!1)}};function Wa(e){var t=Object(C.g)();return w.a.createElement(Ua,p()({params:t},e))}Ua.__docgenInfo={description:"",methods:[{name:"onResize",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"scrollToFirstMedia",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyboardInteraction",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"retrievePost",docblock:null,modifiers:[],params:[{name:"galleryId",type:null}],returns:null},{name:"calculateTopOffset",docblock:null,modifiers:[],params:[{name:"coverHeight",type:null}],returns:null},{name:"onScroll",docblock:null,modifiers:[],params:[],returns:null},{name:"shouldShowGate",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostDetail",props:{failedFetchAttempts:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},params:{type:{name:"object"},required:!1,description:""},history:{type:{name:"object"},required:!1,description:""},post:{type:{name:"object"},required:!1,description:""},incomingPost:{type:{name:"object"},required:!1,description:""},topOffset:{type:{name:"number"},required:!0,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},isOwner:{type:{name:"bool"},required:!1,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},isLoadingMeta:{type:{name:"bool"},required:!1,description:""},byLinePosition:{type:{name:"number"},required:!1,description:""},isCommentsLoading:{type:{name:"bool"},required:!1,description:""},transformationAnimating:{type:{name:"bool"},required:!1,description:""},transformationCoverStyle:{type:{name:"object"},required:!1,description:""},transformationBackgroundStyle:{type:{name:"object"},required:!1,description:""},transformationTitleStyle:{type:{name:"object"},required:!1,description:""},transformationEnabled:{type:{name:"bool"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!0,description:""},setTransformationAction:{type:{name:"func"},required:!1,description:""},toggleAudioState:{type:{name:"func"},required:!1,description:""},isPromotedTransformation:{type:{name:"bool"},required:!1,description:""},postpageBetaOptOutAction:{type:{name:"func"},required:!0,description:""},promotedPostViewAction:{type:{name:"func"},required:!0,description:""},reachedBottom:{type:{name:"func"},required:!0,description:""},updateViewportHeightAction:{type:{name:"func"},required:!0,description:""},updateGalleryContentWrapperWidth:{type:{name:"func"},required:!0,description:""},goToNextPostAction:{type:{name:"func"},required:!0,description:""},goToPreviousPostAction:{type:{name:"func"},required:!0,description:""},newPostAction:{type:{name:"func"},required:!0,description:""},retrievePostAction:{type:{name:"func"},required:!0,description:""},retrievePromotedPostAction:{type:{name:"func"},required:!0,description:""},retrievePostMetaAction:{type:{name:"func"},required:!0,description:""},resetPostDataAction:{type:{name:"func"},required:!0,description:""},toastError:{type:{name:"func"},required:!0,description:""},isMainContentReady:{type:{name:"bool"},required:!0,description:""},updateAdConfigAction:{type:{name:"func"},required:!0,description:""},sendToTop:{type:{name:"bool"},required:!1,description:""},isInRecircExperimentWithTreatment:{type:{name:"bool"},required:!1,description:""},treatment:{type:{name:"string"},required:!1,description:""}}},Wa.__docgenInfo={description:"",methods:[],displayName:"PostDetailWithParams"}},QFwP:function(e,t,n){},QqH4:function(e,t,n){},"R/W3":function(e,t,n){var r=n("KwMD"),a=n("2ajD"),o=n("CZoQ");e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,a,n)}},Rhnt:function(e,t,n){},SeDK:function(e,t,n){},T7zL:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("q1tI"),i=n.n(r),c=(n("17x9"),n("G5ih")),s=n("gGMO"),l=n("Nm7g");n("pxaO");function a(e){var t=e.points,n=e.ups,r=e.downs,a=66*Math.PI,o=n*a/(n+r);return i.a.createElement("div",{className:"ChartData"},i.a.createElement("div",{className:"Chart"},i.a.createElement("svg",{width:"192",height:"192",viewBox:"14 0 178 192",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("g",{filter:"url(#filter0_d)"},i.a.createElement("g",{filter:"url(#filter1_d)"},i.a.createElement("circle",{cx:"96",cy:"86",r:"65",fill:"#FE6065"})),i.a.createElement("circle",{r:"33",cx:"0",cy:"0",stroke:"#2FBE7C",strokeWidth:"97",strokeDasharray:"".concat(o," ").concat(a),transform:"rotate(-90) scale(1, -1) translate(-86, -96)"}),i.a.createElement("g",{filter:"url(#filter2_d)"},i.a.createElement("circle",{cx:"96",cy:"86",r:"50",fill:"#3C424B"})),i.a.createElement("text",{x:"96",y:"82",textAnchor:"middle",className:"points"},Object(l.j)(t)),i.a.createElement("text",{x:"96",y:"100",textAnchor:"middle",className:"pointsLabel"},Object(c.b)("statisticsDialogPoints"))),i.a.createElement("defs",null,i.a.createElement("filter",{id:"filter0_d",x:"0",y:"0",width:"192",height:"192",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),i.a.createElement("feOffset",{dy:"10"}),i.a.createElement("feGaussianBlur",{stdDeviation:"7"}),i.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),i.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),i.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),i.a.createElement("filter",{id:"filter1_d",x:"17",y:"17",width:"158",height:"158",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),i.a.createElement("feOffset",{dy:"10"}),i.a.createElement("feGaussianBlur",{stdDeviation:"7"}),i.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),i.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),i.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),i.a.createElement("filter",{id:"filter2_d",x:"32",y:"24",width:"128",height:"128",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),i.a.createElement("feOffset",{dy:"2"}),i.a.createElement("feGaussianBlur",{stdDeviation:"7"}),i.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),i.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),i.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))),i.a.createElement("div",{className:"Votes"},i.a.createElement("div",{className:"ups"},i.a.createElement(s.b,{isMini:!0,selected:!0})," ",Object(l.j)(n)),i.a.createElement("div",{className:"downs"},i.a.createElement(s.a,{isMini:!0,selected:!0})," ",Object(l.j)(r))))}a.__docgenInfo={description:"",methods:[],displayName:"Chart",props:{points:{type:{name:"number"},required:!0,description:""},ups:{type:{name:"number"},required:!0,description:""},downs:{type:{name:"number"},required:!0,description:""}}}},Uyyq:function(e,t,n){e.exports=n.p+"desktop-assets/drag.660828a621ac6ca507e8b0ec53165870.png"},Uz4u:function(e,t,n){e.exports=n.p+"desktop-assets/ReactionGifEmptySearch.2ac15cedf0d98e71a201086d56b96c2a.svg"},Uzvo:function(e,t,n){"use strict";n.d(t,"a",function(){return q}),n.d(t,"b",function(){return w});var r=n("pVnL"),g=n.n(r),a=n("lSNA"),o=n.n(a),i=n("lwsE"),c=n.n(i),s=n("W8MJ"),l=n.n(s),u=n("7W2i"),d=n.n(u),m=n("a1gu"),p=n.n(m),f=n("Nsbk"),h=n.n(f),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("AoHe"),E=n("+qLk");var k=n("KMpf");n("ZYtQ");function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function P(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h()(r);if(a){var n=h()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p()(this,e)}}function N(h){return function(e){d()(n,e);var t=P(n);function n(){return c()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){if(!h)return null;var e=this.props,t=e.post,n=e.height,r=e.width,a=e.colorLoading,o=e.streamSection,i=e.streamParam;if(!t)return null;var c=t.toJS(),s={color:a,height:n},l=Object(C.b)(c,r,n),u=l.contentWidth,d=l.contentHeight,m=Object(C.e)(c.isAd,n,d,null!=c.title&&c.title.length),p="".concat(function(e,t,n){return!e&&t&&n?"/".concat(t,"/").concat(n):e&&!e.inGallery||![E.H,E.r,E.F,E.t,E.u].includes(t)?t&&n?"/".concat(t,"/").concat(n):e&&e.isAlbum?"/a":"":"/".concat(E.n)}(c,o,i),"/").concat(c.id),f=S(S({},this.props),{},{spinner:s,post:S(S({},c),{},{streamParam:i||c.streamParam,streamSection:o||c.streamSection,width:u,height:d,href:p}),styles:m});return b.a.createElement(h,g()({className:"Post-item"},f))}}]),n}(b.a.Component)}function I(e,t){var n=e.posts,r=e.user,a=e.gallery,o=t.id,i=n.getIn(["posts",o]);return{post:i&&Object(k.b)(i),isUserLoggedIn:r.get("isLoggedIn"),streamSection:a.get("streamSection"),streamParam:a.get("streamParam")}}function j(e,t){var n=e.posts,r=e.user,a=e.gallery,o=t.id,i=n.getIn(["recircPosts",o]);return{post:i&&Object(k.b)(i),isUserLoggedIn:r.get("isLoggedIn"),streamSection:a.get("streamSection"),streamParam:a.get("streamParam")}}var q=function(e){return Object(v.b)(I)(N(e))},w=function(e){return Object(v.b)(j)(N(e))}},VhX2:function(e,t,n){var r=n("vlbB");e.exports=function(e){var t=e.length;return t?e[r(0,t-1)]:void 0}},W8uW:function(e,t,n){},WHPL:function(e,t,n){},WYmX:function(e,t,n){},X9Zs:function(e,t,n){e.exports=n.p+"desktop-assets/b3.e6334893f2151aa2c16ce7596c4daeaa.svg"},"XF+e":function(e,t,n){},XKKw:function(e,t,n){},XVVZ:function(e,t,n){"use strict";var r=n("/MKj"),a=n("pVnL"),v=n.n(a),o=n("J4zp"),C=n.n(o),E=n("q1tI"),k=n.n(E),O=(n("17x9"),n("b5GN")),S=n("AG5K"),P=n("OX3u"),N=n("GB65"),I=n("pNV7"),j=n("BWa0");n("7Yk7");function q(e){function t(e){""!==e?(e=Math.min(Math.max(a,e),o))!==l&&(u(e),i(e)):u(e)}function n(e,t){return k.a.createElement(j.hb,{name:e,width:"26",height:"26",viewBox:"0 0 26 26",className:t?"disabled":"",fillColor:t?"#585D6A":"#ffffff",strokeColor:t?"#585D6A":"#ffffff"})}var r=e.initialNumber,a=e.minNumber,o=e.maxNumber,i=e.onNumberChange,c=Object(E.useState)(r),s=C()(c,2),l=s[0],u=s[1];return k.a.createElement("div",{className:"InputStepper"},k.a.createElement("div",{className:"InputStepper-minus",onClick:function(){return t(l-1)}},n(j.O,a===l)),k.a.createElement("div",{className:"InputStepper-number"},k.a.createElement("input",{type:"number",value:l,onChange:function(e){return t(e.target.value)},onBlur:function(){l||u(a)},min:a,max:o})),k.a.createElement("div",{className:"InputStepper-plus",onClick:function(){return t(l+1)}},n(j.P,o===l)))}q.defaultProps={initialNumber:1,minNumber:1,maxNumber:12,onNumberChange:function(){}},q.__docgenInfo={description:"",methods:[],displayName:"InputStepper",props:{initialNumber:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},minNumber:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},maxNumber:{defaultValue:{value:"12",computed:!1},type:{name:"number"},required:!1,description:""},onNumberChange:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""}}};n("rlD7");function w(e){var t=e.monthNumber,n=e.price,r=e.onClick,a=e.isDisabled;return k.a.createElement("button",{type:"button",className:"GiveGiftButton",onClick:r,disabled:a},k.a.createElement("div",{className:"GiveGiftButton-description"},k.a.createElement(j.hb,{name:j.bb,width:"20",height:"20",viewBox:"0 0 20 20"}),k.a.createElement("span",null,Object(S.a)("giftPeriod",t))),k.a.createElement("div",{className:"GiveGiftButton-price"},"$".concat((n*t).toFixed(2))))}w.defaultProps={monthNumber:1,price:5,onClick:function(){}},w.__docgenInfo={description:"",methods:[],displayName:"GiveGiftButton",props:{monthNumber:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},price:{defaultValue:{value:"5",computed:!1},type:{name:"number"},required:!1,description:""},onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},isDisabled:{type:{name:"bool"},required:!1,description:""}}};var D=n("7oyi");n("IgJu");var i=n("wAdX"),c=n("/PhX"),s=n("RUHF");t.a=Object(r.b)(function(e){var t=e.emerald,n=e.user,r=t.get("giveEmeraldData").toJS();return r.gifterId=n.get("id"),{giftData:r}},function(t){return{close:function(){t(Object(c.y)(P.p)),t(Object(s.v)())},submit:function(e){t(Object(s.p)(e))}}})(function(y,e){var b=1<arguments.length&&void 0!==e?e:{};function t(e){var t=e.giftData,n=e.close,r=e.onDialogOpen,a=e.submit;if(!t.recipientUsername)return null;var o=Object(E.useState)(t.amount||1),i=C()(o,2),c=i[0],s=i[1],l=Object(E.useState)(t.anonymous||!1),u=C()(l,2),d=u[0],m=u[1],p=Object(E.useState)(!1),f=C()(p,2),h=f[0],g=f[1];return k.a.createElement(y,v()({className:"GiveGiftDialog",isModal:!1,onClose:n,name:P.p,onOpen:r},b),k.a.createElement("div",{className:"GiveGiftDialog-head"},k.a.createElement(I.W,{name:I.S}),k.a.createElement(D.b,{className:"GiveGiftDialog-head--close",image:k.a.createElement(j.hb,{name:j.g,width:"32",height:"32"}),onClick:n})),k.a.createElement("div",{className:"GiveGiftDialog-content"},k.a.createElement("div",{className:"GiveGiftDialog-title"},t.title||Object(S.a)("giveGiftDialogTitle")),k.a.createElement("div",{className:"GiveGiftDialog-description"},Object(S.a)("giveGiftDialogDescription",t.recipientUsername)),k.a.createElement("div",{className:"GiveGiftDialog-input"},k.a.createElement("span",null,Object(S.a)("howManyMonths")),k.a.createElement(q,{initialNumber:c,onNumberChange:s})),k.a.createElement("div",{className:"GiveGiftDialog-anonymously"},k.a.createElement("label",{className:"GiveGiftDialog-anonymously--input"},k.a.createElement("input",{type:"checkbox",name:"giftAnonymously",id:"giftAnonymously",onChange:function(){return m(!d)},checked:d}),k.a.createElement("span",null)),k.a.createElement("label",{className:"GiveGiftDialog-anonymously--label",htmlFor:"giftAnonymously"},Object(S.a)("giftAnonymously"))),k.a.createElement("div",{className:"GiveGiftDialog-button"},k.a.createElement(w,{monthNumber:c,onClick:function(){g(!0);var e=Object(N.H)();a(Object.assign(t,{amount:c,anonymous:d,redirectURL:e,sourceURL:t.sourceURL?t.sourceURL:e,recipientUsername:t.recipientUsername}))},isDisabled:h})),k.a.createElement("div",{className:"GiveGiftDialog-footer"},Object(S.a)("giveGiftDialogFooter"),k.a.createElement("a",{href:"/".concat(O.f,"?source=giveGiftDialog"),target:"_blank",rel:"noreferrer noopener"},Object(S.a)("fullInfo")))))}return t.defaultProps={onDialogOpen:function(){}},t}(i.a))},"Xt/L":function(e,t){e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},Ya97:function(e,t,n){},ZCgT:function(e,t,n){var r=n("tLB3");e.exports=function(e){return e?(e=r(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0}},ZYtQ:function(e,t,n){},"a/1F":function(e,t,n){},c0eP:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n("lSNA"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=(n("17x9"),n("/MKj")),s=n("55Ip"),l=n("TSYQ"),u=n.n(l),d=n("pNV7"),m=n("b5GN"),p=n("G5ih"),f=n("fdoY"),h=(n("W8uW"),Object(p.b)("newPost"));function g(e){var t=e.className,n=e.onClick,r=u()(a()({Button:!0,upload:!0},t,t));return i.a.createElement(s.a,{className:r,to:"/".concat(m.y),onClick:n},i.a.createElement("img",{src:d.a[d.o]}),i.a.createElement("span",{className:"newPostLabel"},h))}function y(e){var t=e.onClick;return i.a.createElement(s.a,{to:"/".concat(m.y),onClick:t},h)}g.defaultProps={className:""};var b=Object(c.b)(null,{onClick:f.ib}),v=b(y);g.__docgenInfo={description:"",methods:[],displayName:"NewPostButton",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}},t.b=b(g),y.__docgenInfo={description:"",methods:[],displayName:"NewPostLink",props:{onClick:{type:{name:"func"},required:!1,description:""}}}},cG8M:function(e,t,n){"use strict";n.d(t,"b",function(){return w}),n.d(t,"a",function(){return D});var r=n("pVnL"),N=n.n(r),a=n("lwsE"),i=n.n(a),o=n("W8MJ"),c=n.n(o),s=n("PJYZ"),l=n.n(s),u=n("7W2i"),d=n.n(u),m=n("a1gu"),p=n.n(m),f=n("Nsbk"),h=n.n(f),g=n("lSNA"),y=n.n(g),b=(n("4cSd"),n("q1tI")),A=n.n(b),v=(n("17x9"),n("/MKj")),C=n("TSYQ"),R=n.n(C),E=n("GB65"),I=n("wmRA"),x=n("yA1n"),k=n("WY5P"),O=n("2c7z"),j=n("ej/z"),M=n("F8bk");n("qhsG");function S(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h()(r);if(a){var n=h()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p()(this,e)}}var q=function(e){d()(n,e);var t=S(n);function n(e){var o;return i()(this,n),o=t.call(this,e),y()(l()(o),"movementStartPos",0),y()(l()(o),"volumeStart",0),y()(l()(o),"stateIndicator",A.a.createRef()),y()(l()(o),"time",A.a.createRef()),y()(l()(o),"scrubber",A.a.createRef()),y()(l()(o),"bar",A.a.createRef()),y()(l()(o),"audioIndicator",A.a.createRef()),y()(l()(o),"volume",A.a.createRef()),y()(l()(o),"updateDimensionsFromScrubber",function(){var e=o.scrubber.current.offsetWidth;e=e||1,o.updateDimensions(e,o.scrubber.current.getBoundingClientRect().left)}),y()(l()(o),"handleMouseDown",function(){Object(E.c)("mouseup",o.handleMouseUp),Object(E.c)("mousemove",o.handleMouseMove),Object(E.y)("body").style.userSelect="none",o.setState({dragging:!0})}),y()(l()(o),"handleMouseUp",function(){var t=o.props.onTimeChange;Object(E.nb)("mouseup",o.handleMouseUp),Object(E.nb)("mousemove",o.handleMouseMove),Object(E.y)("body").style.userSelect="auto",o.setState(function(e){return{scrubPauseWait:t(e.playedPercentModifier),dragging:!1}})}),y()(l()(o),"handleMouseMove",function(e){var t=o.props.onScrubbing,n=o.state.scrubberWidth;t();var r=o.movementStartPos,a=n;o.setState({playedPercentModifier:o.getPlayedPercentModifier(e.pageX,r,a)})}),y()(l()(o),"handleMouseDownVolume",function(){Object(E.c)("mouseup",o.handleMouseUpVolume),Object(E.c)("mousemove",o.handleMouseMoveVolume),Object(E.y)("body").style.userSelect="none",o.volumeStart=o.volume.current.getBoundingClientRect().left}),y()(l()(o),"handleMouseUpVolume",function(e){Object(E.nb)("mouseup",o.handleMouseUpVolume),Object(E.nb)("mousemove",o.handleMouseMoveVolume),Object(E.y)("body").style.userSelect="auto",o.setVolumeFromCoordinates(e.pageX)}),y()(l()(o),"handleMouseMoveVolume",function(e){o.setVolumeFromCoordinates(e.pageX)}),y()(l()(o),"handleScrubberBarClick",function(e){var t=o.props.onTimeChange,n=o.state.scrubberWidth,r=o.movementStartPos,a=n;t(o.getPlayedPercentModifier(e.pageX,r,a))}),o.state={scrubPauseWait:0,playedPercentModifier:null,scrubberWidth:1,dragging:!1,volume:e.volume},o}return c()(n,[{key:"componentDidMount",value:function(){var t=this;this.updateDimensionsFromScrubber(),Object(E.c)("resize",this.updateDimensionsFromScrubber),["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach(function(e){return Object(E.a)(e,t.updateDimensionsFromScrubber)})}},{key:"componentWillUnmount",value:function(){var t=this;Object(E.nb)("resize",this.updateDimensionsFromScrubber),["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach(function(e){return Object(E.jb)(e,t.updateDimensionsFromScrubber)})}},{key:"updateDimensions",value:function(e,t){this.setState({scrubberWidth:e}),this.movementStartPos=t}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.state,n=t.playedPercentModifier,r=t.scrubPauseWait;null!==n&&e.playedPercent>r&&this.setState({scrubPauseWait:0,playedPercentModifier:null})}},{key:"setVolumeFromCoordinates",value:function(e){var t=this.props.onVolumeChange,n=1-Math.min(Math.max((this.volumeStart+104+Object(E.B)("scrollX")-e)/104,0),1);t(n),this.setState({volume:n})}},{key:"getPlayedPercentModifier",value:function(e,t,n){var r=(e-t)/n;return r<0?0:1<r?1:r}},{key:"pad",value:function(e){var t=e.toString();return t.length<2&&(t="0".concat(t)),t}},{key:"slide",value:function(e,t){e=Math.max(Math.min(100*e/t,100),1);for(var n=[[0,[27,183,110]],[44,[58,221,214]],[100,[123,133,247]]],r=[],a=0;a<n.length;a++)if(e<=n[a][0]){r=[a-1,a];break}var o=n[r[0]][1],i=n[r[1]][1],c=n[r[0]][0],s=(e-c)/(n[r[1]][0]-c);return this.pickRgb(i,o,s).join()}},{key:"pickRgb",value:function(e,t,n){var r=((2*n-1)/1+1)/2,a=1-r;return[Math.round(e[0]*r+t[0]*a),Math.round(e[1]*r+t[1]*a),Math.round(e[2]*r+t[2]*a)]}},{key:"render",value:function(){var e=this.props,t=e.playedPercent,n=e.duration,r=e.time,a=e.playState,o=e.audioState,i=e.fullscreen,c=e.onPlayToggle,s=e.toggleFullscreen,l=e.hasAudio,u=e.onAudioToggle,d=e.id,m=e.hash,p=e.title,f=e.index,h=this.state,g=h.playedPercentModifier,y=h.scrubberWidth,b=h.volume,v=h.dragging,C=t;null!==g&&(C=g);var E=y*C,k=-1*E,O=(E+=5)-25,S=Math.floor(n-r),P="".concat(E,"px"),N=a===x.c.PLAY_STATE.PRESENT_PLAYING?"playing":"paused",I=this.slide(E,y),j="0 0 10px 0 rgb(".concat(I,"), 0 2px 4px 0 rgba(0, 0, 0, 0.5), 0 2px 4px 0 rgba(0, 0, 0, 0.5), 0 0px 20px 0 rgb(").concat(I,")"),q=o===x.c.AUDIO_STATE.PRESENT_MUTED?"mute":"on",w=R()({"PostVideoControls-fullscreen":!0,fullscreen:i}),D=o===x.c.AUDIO_STATE.PRESENT_MUTED?0:104*b,T=D;return A.a.createElement("div",{className:"PostVideoControls",id:d},!l&&A.a.createElement(M.a,{hash:m,title:p,indexForComment:f}),A.a.createElement("div",{className:"PostVideoControls-container"},A.a.createElement("span",{onClick:c,className:"PostVideoControls-state"},A.a.createElement("span",{ref:this.stateIndicator,className:"PostVideoControls-state-indicator PostVideoControls-state-indicator-".concat(N)},"")),A.a.createElement("span",{ref:this.time,className:"PostVideoControls-time"},Math.floor(S/60),":",this.pad(S%60)),A.a.createElement("span",{ref:this.scrubber,className:"PostVideoControls-scrubber",onClick:this.handleScrubberBarClick},A.a.createElement("div",{className:"PostVideoControls-scrubber-backdrop"},""),A.a.createElement("div",{ref:this.bar,className:"PostVideoControls-scrubber-bar",style:{width:P}},A.a.createElement("style",null,"\n                                ".concat(d?"#".concat(d):""," .PostVideoControls-scrubber-bar::after{\n                                    width: ").concat(y,"px;\n                                }\n                                ").concat(d?"#".concat(d):""," .PostVideoControls-scrubber-knob-extender {\n                                    background: rgb(").concat(I,")\n                                }\n\n                            "))),A.a.createElement("div",{className:"PostVideoControls-scrubber-buffer",style:{left:P}}),v&&A.a.createElement("div",{className:"PostVideoControls-knob-extender-container"},A.a.createElement("div",{className:"PostVideoControls-scrubber-knob-extender PostVideoControls-scrubber-knob-extender-top",style:{left:O}},A.a.createElement("div",{className:"PostVideoControls-scrubber-knob-bg",style:{left:k}})),A.a.createElement("div",{className:"PostVideoControls-scrubber-knob-extender PostVideoControls-scrubber-knob-extender-bottom",style:{left:O}},A.a.createElement("div",{className:"PostVideoControls-scrubber-knob-bg",style:{left:k}}))),A.a.createElement("div",{className:"PostVideoControls-scrubber-knob",style:{left:P,background:"rgb(".concat(I,")"),boxShadow:j},onMouseDown:this.handleMouseDown},A.a.createElement("div",{className:"PostVideoControls-scrubber-knob-bg",style:{left:k}}))),s&&A.a.createElement("span",{onClick:function(){return s(!0)},className:w},"")),l?A.a.createElement("span",{className:"PostVideoControls-audio-container"},A.a.createElement("span",{ref:this.audioIndicator,onClick:u,className:"PostVideoControls-audio PostVideoControls-audio-".concat(q)}),A.a.createElement("div",{className:"PostVideoControls-volume",ref:this.volume,onMouseDown:this.handleMouseDownVolume},A.a.createElement("div",{className:"PostVideoControls-volume-fill",style:{width:D}}),A.a.createElement("div",{className:"PostVideoControls-volume-knob",style:{left:T}})),A.a.createElement(M.a,{hash:m,title:p,indexForComment:f})):"")}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.volume;return n!==t.volume?{volume:n}:null}}]),n}(A.a.Component);q.defaultProps={volume:x.a},q.__docgenInfo={description:"",methods:[{name:"updateDimensionsFromScrubber",docblock:null,modifiers:[],params:[],returns:null},{name:"updateDimensions",docblock:null,modifiers:[],params:[{name:"scrubberWidth",type:null},{name:"movementStartPos",type:null}],returns:null},{name:"handleMouseDown",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseUp",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseMove",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleMouseDownVolume",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseUpVolume",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleMouseMoveVolume",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"setVolumeFromCoordinates",docblock:null,modifiers:[],params:[{name:"x",type:null}],returns:null},{name:"handleScrubberBarClick",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getPlayedPercentModifier",docblock:null,modifiers:[],params:[{name:"xPos",type:null},{name:"start",type:null},{name:"width",type:null}],returns:null},{name:"pad",docblock:null,modifiers:[],params:[{name:"number",type:null}],returns:null},{name:"slide",docblock:null,modifiers:[],params:[{name:"position",type:null},{name:"sliderWidth",type:null}],returns:null},{name:"pickRgb",docblock:null,modifiers:[],params:[{name:"color1",type:null},{name:"color2",type:null},{name:"weight",type:null}],returns:null}],displayName:"PostVideoControlsComponent",props:{volume:{defaultValue:{value:"DEFAULT_VOLUME",computed:!0},type:{name:"number"},required:!1,description:""},playedPercent:{type:{name:"number"},required:!1,description:""},time:{type:{name:"number"},required:!1,description:""},onScrubbing:{type:{name:"func"},required:!0,description:""},duration:{type:{name:"number"},required:!1,description:""},onTimeChange:{type:{name:"func"},required:!0,description:""},onVolumeChange:{type:{name:"func"},required:!0,description:""},audioState:{type:{name:"string"},required:!1,description:""},onAudioToggle:{type:{name:"func"},required:!0,description:""},playState:{type:{name:"string"},required:!1,description:""},onPlayToggle:{type:{name:"func"},required:!0,description:""},onSeek:{type:{name:"func"},required:!0,description:""},fullscreen:{type:{name:"bool"},required:!1,description:""},toggleFullscreen:{type:{name:"func"},required:!0,description:""},hasAudio:{type:{name:"bool"},required:!1,description:""},id:{type:{name:"string"},required:!1,description:""},hash:{type:{name:"string"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},index:{type:{name:"number"},required:!0,description:""}}};function P(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h()(r);if(a){var n=h()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p()(this,e)}}var w=function(e){d()(r,e);var n=P(r);function r(e){var d;i()(this,r),d=n.call(this,e),y()(l()(d),"unmount",!1),y()(l()(d),"timeStarted",-1),y()(l()(d),"timePlayed",0),y()(l()(d),"duration",0),y()(l()(d),"soundWasEverEnabled",!1),y()(l()(d),"videoContainer",A.a.createRef()),y()(l()(d),"srcmp4",A.a.createRef()),y()(l()(d),"video",A.a.createRef()),y()(l()(d),"updateAudioState",function(e){var t=d.props,n=t.globalAudioState,r=t.hash,a=t.setHashWithAudioOn,o=t.isFirst,i=t.hashWithAudioOn,c=d.state.audioState;if(e.globalAudioState!==n&&n!==c){if(n===x.c.AUDIO_STATE.PRESENT_ON&&r!==i)return void(!i&&o&&(d.setState({audioState:n}),a(r)));d.setState({audioState:n})}}),y()(l()(d),"changeEvent",function(){Object(E.y)("mozFullScreen")||Object(E.y)("webkitIsFullScreen")||Object(E.y)("fullscreen")||d.toggleFullscreen(!1)}),y()(l()(d),"isVideoElementUnavailable",function(){return d.unmount||!d.video.current}),y()(l()(d),"onPlayToggle",function(){d.isVideoElementUnavailable()||(d.video.current.paused?d.play():d.pause())}),y()(l()(d),"onAudioToggle",function(){if(!d.isVideoElementUnavailable()){var e=d.props,t=e.hash,n=e.updateAudioState,r=e.setHashWithAudioOn,a=d.state.audioState===x.c.AUDIO_STATE.PRESENT_ON,o=a?x.c.AUDIO_STATE.PRESENT_MUTED:x.c.AUDIO_STATE.PRESENT_ON;d.video.current.muted=a,d.setState({audioState:o},function(){!a&&t&&r(t)}),n(o),d.soundWasEverEnabled||(d.soundWasEverEnabled=!a)}}),y()(l()(d),"onScrubbing",function(){if(!d.isVideoElementUnavailable()){var e=d.video.current;e.paused||e.pause()}}),y()(l()(d),"onTimeChange",function(e){if(!d.isVideoElementUnavailable()){var t=d.video.current;return t.currentTime=t.duration*e,d.isPlaying()&&d.play(),t.currentTime/t.duration}}),y()(l()(d),"onVolumeChange",function(e){if(!d.isVideoElementUnavailable()){var t=d.props,n=t.hash,r=t.updateAudioState,a=t.updateAudioVolume,o=t.setHashWithAudioOn;d.video.current.volume=e,d.setState({audioState:x.c.AUDIO_STATE.PRESENT_ON,volume:e},function(){0<e&&n&&o(n)}),a(e),r(x.c.AUDIO_STATE.PRESENT_ON)}}),y()(l()(d),"handleTimeUpdate",function(e){if(!d.isVideoElementUnavailable()){var t=d.state.progressVisible;d.videoInterval(e),t&&d.setState({playedPercent:d.video.current.currentTime/d.video.current.duration,currentTime:Math.floor(d.video.current.currentTime)})}}),y()(l()(d),"handleMetadata",function(){if(!d.isVideoElementUnavailable()){var e=d.state.currentTime;d.video.current.currentTime=e,d.setState(function(e){return{playedPercent:e.currentTime/d.video.current.duration,duration:Math.floor(d.video.current.duration)}})}}),y()(l()(d),"handleData",function(e){if(!d.isVideoElementUnavailable()){var t=!1;void 0!==e.target.webkitAudioDecodedByteCount&&0<e.target.webkitAudioDecodedByteCount?t=!0:void 0!==e.target.mozHasAudio&&e.target.mozHasAudio?t=!0:void 0!==e.target.audioTracks&&0<e.target.audioTracks.length&&(t=!0);var n=d.state.volume;d.video.current.volume=n,d.setState(function(e){return{playedPercent:e.currentTime/d.video.current.duration,duration:Math.floor(d.video.current.duration),hasAudio:t}})}}),y()(l()(d),"handleCanPlay",function(e){d.isVideoElementUnavailable()||d.isPaused()||(1!==d.video.current.readyState&&4!==d.video.current.readyState||d.play(),(0,d.props.handleCanPlay)(e))}),y()(l()(d),"handleVideoSourceError",function(e){!d.video.current||0!==d.video.current.readyState&&3!==d.video.current.networkState||(d.setState({isError:!0}),(0,d.props.onError)(e))}),y()(l()(d),"toggleFullscreen",function(e){d.isVideoElementUnavailable()||(Object(E.y)("body").mozRequestFullScreen||Object(E.y)("body").webkitRequestFullScreen||Object(E.y)("body").requestFullScreen)&&(d.state.fullscreen||!1===e?(Object(E.Cb)(),Object(E.y)("body").classList.remove("video-hidden-body"),d.setState({fullscreen:!1})):(d.videoContainer.current&&Object(E.Db)(d.videoContainer.current),Object(E.y)("body").classList.add("video-hidden-body"),d.setState({fullscreen:!0})))}),y()(l()(d),"videoStartedPlaying",function(){d.setState({playState:x.c.PLAY_STATE.PRESENT_PLAYING}),d.props.promoted&&(d.timeStarted=(new Date).getTime()/1e3)}),y()(l()(d),"videoInterval",function(e){if(!d.isVideoElementUnavailable()){var t=d.props,n=t.promoted,r=t.controls,a=t.trackPromotedPostVideo,o=t.hash,i=t.postId;if(n&&!d.video.current.paused&&r){var c=d.state,s=c.duration,l=c.controlsEverDisplayed;if(s){if(0<d.timeStarted){var u=(new Date).getTime()/1e3-d.timeStarted;d.timeStarted=-1,d.timePlayed+=u}"timeupdate"===e.type&&(d.timeStarted=(new Date).getTime()/1e3),a({timePlayed:d.timePlayed,supportsAutoPlay:d.supportsAutoPlay,albumHash:i,soundOn:0<d.video.current.volume&&!d.video.current.muted,isControlsOn:l,duration:s,hash:o}),d.timePlayed=0}}}}),y()(l()(d),"handleSeek",function(e){d.isVideoElementUnavailable()||(d.video.current.currentTime=e)}),y()(l()(d),"handleMouseOver",function(){d.setState({progressVisible:!0,controlsEverDisplayed:!0})}),y()(l()(d),"handleMouseOut",function(){d.setState({progressVisible:!1})}),function(e){if("function"!=typeof e)return;var t=document.createElement("video");t.pause();var n="play"in t&&t.play();e(!t.paused||"Promise"in window&&n instanceof Promise)}(function(e){d.supportsAutoPlay=e});var t=e.playAudioIfAvailable&&e.isFirst&&void 0!==e.handleCanPlay?x.c.AUDIO_STATE.PRESENT_ON:x.c.AUDIO_STATE.PRESENT_MUTED;return e.playState===x.c.PLAY_STATE.PRESENT_PAUSED&&e.audioState&&(t=e.audioState),d.state={playedPercent:0,playState:e.playVideo?x.c.PLAY_STATE.PRESENT_PLAYING:x.c.PLAY_STATE.PRESENT_PAUSED,currentTime:e.currentTime||0,duration:0,fullscreen:!1,hasAudio:!1,progressVisible:!1,audioState:t,isError:!1,volume:e.volume,controlsEverDisplayed:!1},d}return c()(r,[{key:"componentWillUnmount",value:function(){var t=this;this.unmount=!0,["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach(function(e){return Object(E.jb)(e,t.changeEvent)}),this.srcmp4.current&&this.srcmp4.current.removeAttribute("src"),this.video.current&&this.video.current.load()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.playVideo,r=t.hashWithAudioOn;e.playVideo!==n&&(e.playVideo&&this.pause(),n&&this.play()),e.hashWithAudioOn!==r&&this.handleGlobalUnmute(r),this.updateAudioState(e)}},{key:"componentDidMount",value:function(){var t=this;this.srcmp4.current&&(this.srcmp4.current.onerror=this.handleVideoSourceError),["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach(function(e){return Object(E.a)(e,t.changeEvent)})}},{key:"handleGlobalUnmute",value:function(e){e===this.props.hash||this.unmount||this.setState({audioState:x.c.AUDIO_STATE.PRESENT_MUTED})}},{key:"play",value:function(){var e=this;if(!this.isVideoElementUnavailable()){var t=this.video.current.play();void 0!==t?t.then(function(){e.setState({playState:x.c.PLAY_STATE.PRESENT_PLAYING})}).catch(function(){e.setState({playState:x.c.PLAY_STATE.PRESENT_PAUSED})}):this.setState({playState:x.c.PLAY_STATE.PRESENT_PLAYING})}}},{key:"pause",value:function(){this.isVideoElementUnavailable()||(this.video.current.pause(),this.setState({playState:x.c.PLAY_STATE.PRESENT_PAUSED}))}},{key:"isPlaying",value:function(){return this.state.playState===x.c.PLAY_STATE.PRESENT_PLAYING}},{key:"isPaused",value:function(){return this.state.playState===x.c.PLAY_STATE.PRESENT_PAUSED}},{key:"render",value:function(){var e=this.props,t=e.animationType,n=e.src,r=e.hash,a=e.width,o=e.height,i=e.dataURL,c=e.controls,s=e.classNames,l=e.fallbackMedia,u=e.maxHeight,d=e.title,m=e.index,p=this.state,f=p.isError,h=p.audioState,g=p.fullscreen,y=p.playedPercent,b=p.currentTime,v=p.duration,C=p.playState,E=p.hasAudio,k=p.volume;if(f)return l(n);var O={key:r,style:{width:a,height:u||o},draggable:!1,playsInline:"playsInline",controls:!1};h===x.c.AUDIO_STATE.PRESENT_MUTED&&(O.muted=!0),this.isPlaying()?O.autoPlay="autoplay":O.preload="metadata",t===I.n&&(O.loop="loop"),i&&(O["data-url"]=i);var S=R()({PostVideo:!0,fullscreen:g}),P=R()({"PostVideo-video-wrapper":!0,"PostVideo--unconstrained":!Object(j.b)(a,o)});return A.a.createElement("div",{className:S,ref:this.videoContainer,onMouseOver:this.handleMouseOver,onFocus:this.handleMouseOver,onMouseOut:this.handleMouseOut,onBlur:this.handleMouseOut},c&&this.isPaused()&&A.a.createElement("span",{title:"Play video",className:"video-play pointer",onClick:this.onPlayToggle}),A.a.createElement("div",{className:P},A.a.createElement("video",N()({},O,{onPlay:this.videoStartedPlaying,onPlaying:this.videoStartedPlaying,onEnded:this.videoInterval,onPause:this.videoInterval,onTimeUpdate:this.handleTimeUpdate,onLoadedMetadata:this.handleMetadata,onLoadedData:this.handleData,onCanPlay:this.handleCanPlay,className:g?"fullscreen":s,ref:this.video}),A.a.createElement("source",{ref:this.srcmp4,type:"video/mp4",src:n.video}))),c&&A.a.createElement(q,{playedPercent:y,time:b,onScrubbing:this.onScrubbing,duration:v,onTimeChange:this.onTimeChange,onVolumeChange:this.onVolumeChange,audioState:h,onAudioToggle:this.onAudioToggle,playState:C,onPlayToggle:this.onPlayToggle,onSeek:this.handleSeek,fullscreen:g,toggleFullscreen:this.toggleFullscreen,hasAudio:E,volume:k,id:"PostVideoControls-".concat(r),hash:r,title:d,index:m}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.volume;return n!==t.volume?{volume:n}:null}}]),r}(A.a.Component);w.defaultProps={animationType:I.n,controls:!1,src:{image:"",video:""},playState:x.c.PLAY_STATE.PRESENT_PAUSED,currentTime:0,volume:x.a,handleCanPlay:function(){},fallbackMedia:function(e){return A.a.createElement("img",{src:e,"data-url":e})},dataUrl:"",promoted:!1,classNames:"",playVideo:!0,onError:function(){},updateAudioState:function(){},updateAudioVolume:function(){},setHashWithAudioOn:function(){},isFirst:!1,globalAudioState:x.c.AUDIO_STATE.PRESENT_MUTED};var D=Object(v.b)(function(e){var t=e.video,n=e.postsData.get("currentPost");return{playAudioIfAvailable:t.get("audioState")===x.c.AUDIO_STATE.PRESENT_ON,hashWithAudioOn:t.get("hashWithAudioOn"),volume:t.get("volume"),postId:n&&n.get("id"),promoted:n&&!!n.get("promoted"),globalAudioState:t.get("audioState")}},{updateAudioState:O.g,updateAudioVolume:O.h,setHashWithAudioOn:O.e,trackPromotedPostVideo:k.d})(w);w.__docgenInfo={description:"",methods:[{name:"updateAudioState",docblock:null,modifiers:[],params:[{name:"prevProps",type:null}],returns:null},{name:"changeEvent",docblock:null,modifiers:[],params:[],returns:null},{name:"isVideoElementUnavailable",docblock:null,modifiers:[],params:[],returns:null},{name:"handleGlobalUnmute",docblock:null,modifiers:[],params:[{name:"hashWithAudioOn",type:null}],returns:null},{name:"onPlayToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"onAudioToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"onScrubbing",docblock:null,modifiers:[],params:[],returns:null},{name:"onTimeChange",docblock:null,modifiers:[],params:[{name:"offset",type:null}],returns:null},{name:"onVolumeChange",docblock:null,modifiers:[],params:[{name:"volume",type:null}],returns:null},{name:"handleTimeUpdate",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleMetadata",docblock:null,modifiers:[],params:[],returns:null},{name:"handleData",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleCanPlay",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleVideoSourceError",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"play",docblock:null,modifiers:[],params:[],returns:null},{name:"pause",docblock:null,modifiers:[],params:[],returns:null},{name:"toggleFullscreen",docblock:null,modifiers:[],params:[{name:"state",type:null}],returns:null},{name:"videoStartedPlaying",docblock:null,modifiers:[],params:[],returns:null},{name:"videoInterval",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleSeek",docblock:null,modifiers:[],params:[{name:"time",type:null}],returns:null},{name:"handleMouseOver",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseOut",docblock:null,modifiers:[],params:[],returns:null},{name:"isPlaying",docblock:null,modifiers:[],params:[],returns:null},{name:"isPaused",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostVideoComponent",props:{animationType:{defaultValue:{value:"POST_LOOP",computed:!0},type:{name:"number"},required:!1,description:""},controls:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},src:{defaultValue:{value:"{\n    image: '',\n    video: '',\n}",computed:!1},type:{name:"shape",value:{image:{name:"string",required:!1},video:{name:"string",required:!1}}},required:!1,description:""},playState:{defaultValue:{value:"VIDEO_CONTROLS.PLAY_STATE.PRESENT_PAUSED",computed:!0},type:{name:"string"},required:!1,description:""},currentTime:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},volume:{defaultValue:{value:"DEFAULT_VOLUME",computed:!0},type:{name:"number"},required:!1,description:""},handleCanPlay:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},fallbackMedia:{defaultValue:{value:"(src) => (<img src={src} data-url={src} />)",computed:!1},type:{name:"func"},required:!1,description:""},dataUrl:{defaultValue:{value:"''",computed:!1},required:!1},promoted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},classNames:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},playVideo:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},onError:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},updateAudioState:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},updateAudioVolume:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},setHashWithAudioOn:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},isFirst:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},globalAudioState:{defaultValue:{value:"VIDEO_CONTROLS.AUDIO_STATE.PRESENT_MUTED",computed:!0},type:{name:"enum",computed:!0,value:"Object.values(VIDEO_CONTROLS.AUDIO_STATE)"},required:!1,description:""},height:{type:{name:"number"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""},maxHeight:{type:{name:"number"},required:!1,description:""},playAudioIfAvailable:{type:{name:"bool"},required:!1,description:""},audioState:{type:{name:"string"},required:!1,description:""},hash:{type:{name:"string"},required:!1,description:""},dataURL:{type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!1,description:""},trackPromotedPostVideo:{type:{name:"func"},required:!1,description:""},hashWithAudioOn:{type:{name:"string"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},index:{type:{name:"number"},required:!1,description:""}}}},"cm4/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkify=void 0;var r=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=s(n("q1tI")),o=s(n("+80P")),i=s(n("wRvv")),c=s(n("17x9"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=t.linkify=new o.default;d.tlds(i.default);var m=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,l.default.Component),r(p,[{key:"getMatches",value:function(e){return d.match(e)}},{key:"parseString",value:function(o){var i=this,c=[];if(""===o)return c;var e=this.getMatches(o);if(!e)return o;var s=0;return e.forEach(function(e,t){e.index>s&&c.push(o.substring(s,e.index));var n={href:e.url,key:"parse"+i.parseCounter+"match"+t};for(var r in i.props.properties){var a=i.props.properties[r];a===p.MATCH&&(a=e.url),n[r]=a}c.push(l.default.createElement(i.props.component,n,e.text)),s=e.lastIndex}),s<o.length&&c.push(o.substring(s)),1===c.length?c[0]:c}},{key:"parse",value:function(e){var t=this,n=e;return"string"==typeof e?n=this.parseString(e):l.default.isValidElement(e)&&"a"!==e.type&&"button"!==e.type?n=l.default.cloneElement(e,{key:"parse"+ ++this.parseCounter},this.parse(e.props.children)):e instanceof Array&&(n=e.map(function(e){return t.parse(e)})),n}},{key:"render",value:function(){this.parseCounter=0;var e=this.parse(this.props.children);return l.default.createElement("span",{className:this.props.className},e)}}]),p);function p(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=n=u(this,(e=p.__proto__||Object.getPrototypeOf(p)).call.apply(e,[this].concat(a)))).parseCounter=0,u(n,t)}m.MATCH="LINKIFY_MATCH",m.propTypes={className:c.default.string,component:c.default.any,properties:c.default.object,urlRegex:c.default.object,emailRegex:c.default.object},m.defaultProps={className:"Linkify",component:"a",properties:{}},t.default=m},co09:function(e,t,n){},dQpi:function(e,t,n){var r=n("yGk4"),a=n("vN+2"),o=n("rEGp"),i=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=i},dZW6:function(e,t,n){"use strict";n.d(t,"a",function(){return N});var r=n("pVnL"),a=n.n(r),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),s=n.n(c),l=n("PJYZ"),u=n.n(l),d=n("7W2i"),m=n.n(d),p=n("a1gu"),f=n.n(p),h=n("Nsbk"),g=n.n(h),y=n("lSNA"),b=n.n(y),v=n("q1tI"),C=n.n(v),E=(n("17x9"),n("/MKj")),k=n("/PhX"),O=n("GB65"),S=n("G5ih");function P(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f()(this,e)}}function N(r){var e=function(e){m()(n,e);var t=P(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"timeoutId",null),b()(u()(r),"clipboardCopy",function(){var t=r.inputElement.value;r.inputElement.current.select(),r.timeoutId&&clearTimeout(r.timeoutId);try{var e=Object(O.p)("copy");Object(O.N)().removeAllRanges(),e?(r.props.clipboardCopySuccess(t),r.timeoutId=Object(O.Bb)(r.props.clipboardCopyClear,3e3)):r.props.clipboardCopyFail(t,Object(S.b)("clipboardCopyFailMessage"))}catch(e){r.props.clipboardCopyFail(t,e.message)}}),b()(u()(r),"renderInput",function(e){var t=e.className,n=e.text;return C.a.createElement("input",{className:t,ref:r.inputElement,readOnly:!0,value:n})}),r.inputElement=C.a.createRef(),r}return s()(n,[{key:"render",value:function(){return C.a.createElement(r,a()({},this.props,{renderInput:this.renderInput,clipboardCopy:this.clipboardCopy}))}}]),n}(C.a.Component);return e.displayName="WithClipboardCopy(".concat(function(e){return e.displayName||e.name||"Component"}(r),")"),Object(E.b)(null,{clipboardCopyFail:k.w,clipboardCopySuccess:k.x,clipboardCopyClear:k.v})(e)}},eeI0:function(e,t,n){},"ega+":function(e,t,n){"use strict";n.d(t,"a",function(){return Pe}),n.d(t,"b",function(){return je}),n.d(t,"c",function(){return qe});var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("PJYZ"),s=n.n(o),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),w=n.n(h),g=n("q1tI"),D=n.n(g),y=n("sEfC"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("TSYQ"),P=n.n(C),E=n("4TFA"),N=n("G5ih"),k=n("wmRA"),I=n("jlYo"),j=n("fPgW"),O=n("Bw9V"),S=n("ErBw"),q=n("fdoY"),T=n("Uzvo"),A=n("GB65"),R=n("Y22u"),x=n("aYmD"),M=n("mcUd"),F=n("gGMO"),_=n("pVnL"),G=n.n(_),L=n("QILm"),V=n.n(L),U=n("BWa0");function B(e){var t=e?"16":"32";return{height:t,width:t,fillColor:"currentColor",strokeColor:"#ffffff"}}function W(e){var t=e.isMini,n=void 0===t||t,r=V()(e,["isMini"]),a=P()({PostViewsIcon:!0}),o=B(n);return D.a.createElement(U.hb,G()({className:a,name:U.fb},o,r))}function H(e){var t=e.isMini,n=void 0===t||t,r=V()(e,["isMini"]),a=P()({PostCommentsIcon:!0}),o=B(n);return D.a.createElement(U.hb,G()({className:a,name:U.T,title:"Comments"},o,r))}H.__docgenInfo={description:"",methods:[],displayName:"Comments",props:{isMini:{defaultValue:{value:"true",computed:!(W.__docgenInfo={description:"",methods:[],displayName:"Views",props:{isMini:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""}}})},type:{name:"bool"},required:!1,description:""}}};var z=n("129X"),Y=n("Nm7g");n("j/yV"),n("pNV7"),n("wMLv");function K(e){var t=e.text;return D.a.createElement("div",{className:"PostInfo label"},t)}function J(e){var t=e.text,n=e.lines,r=e.fontSize,a=e.lineHeight;return D.a.createElement("span",{style:function(e,t,n){return{display:"-webkit-box",maxHeight:e*t*n,overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:e}}(n,r,a)},t)}K.__docgenInfo={description:"",methods:[],displayName:"PostLabel",props:{text:{type:{name:"string"},required:!0,description:""}}},J.__docgenInfo={description:"",methods:[],displayName:"TruncatedText",props:{text:{type:{name:"string"},required:!0,description:""},lines:{type:{name:"number"},required:!0,description:""},fontSize:{type:{name:"number"},required:!0,description:""},lineHeight:{type:{name:"number"},required:!0,description:""}}};n("yQno");function X(e){var t=e.title,n=e.children,r=e.isNotAd,a=e.privacy,o=e.className,i=e.views;if(!r&&!t)return null;var c=-1===[k.q,k.l].indexOf(a),s=P()(w()({"Post-item-title-wrap":!0},o,o));return D.a.createElement("div",{className:s},D.a.createElement("div",{className:"Post-item-title"},D.a.createElement(J,{lines:2,fontSize:14,lineHeight:1.14,text:t})),D.a.createElement("div",{className:"Post-item-info"},c&&r&&n,a===k.q&&D.a.createElement(K,{text:Object(N.b)("postPrivate")}),a===k.l&&D.a.createElement(K,{text:Object(N.b)("postHidden")}),r&&1<=i&&D.a.createElement(z.a,{className:"Post-item-stat uScaleTransition"},D.a.createElement(W,{strokeWidth:0}),D.a.createElement(z.b,null,Object(Y.h)(i)))))}X.defaultProps={className:"",privacy:k.r},X.__docgenInfo={description:"",methods:[],displayName:"Title",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},privacy:{defaultValue:{value:"POST_PUBLIC",computed:!0},type:{name:"string"},required:!1,description:""},title:{type:{name:"string"},required:!0,description:""},children:{type:{name:"array"},required:!1,description:""},isNotAd:{type:{name:"bool"},required:!0,description:""},views:{type:{name:"number"},required:!0,description:""}}};var Q=n("STNw"),Z=n("gmqy"),$=n("CG6i"),ee=n("cG8M");function te(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var ne=function(e){u()(o,e);var a=te(o);function o(){var t;i()(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=a.call.apply(a,[this].concat(n)),w()(s()(t),"imageLoaded",!1),w()(s()(t),"handlerLoad",function(e){t.imageLoaded=!0,t.props.onLoad&&t.props.onLoad(e)}),t}return c()(o,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=e.onError,a=e.animationType,o=e.playVideo,i=e.src,c=e.placeholderSrc,s=e.showImage,l=c||i.coverImage,u=l;return o&&(u=i.video),a!==k.p&&(u=l),s||a!==k.n||!this.imageLoaded?D.a.createElement($.a,{thumbSrc:u,originalSrc:u,height:n,width:t,onError:r,onLoad:this.handlerLoad}):D.a.createElement(ee.b,this.props)}}]),o}(D.a.Component);ne.defaultProps={animationType:k.n,src:{image:"",video:"",coverImage:""},playVideo:!0,showImage:!1},ne.__docgenInfo={description:"",methods:[{name:"handlerLoad",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"PostHomeVideoComponent",props:{animationType:{defaultValue:{value:"POST_LOOP",computed:!0},type:{name:"number"},required:!1,description:""},src:{defaultValue:{value:"{\n    image: '',\n    video: '',\n    coverImage: '',\n}",computed:!1},type:{name:"shape",value:{image:{name:"string",required:!1},coverImage:{name:"string",required:!1},video:{name:"string",required:!1}}},required:!1,description:""},playVideo:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},showImage:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},height:{type:{name:"number"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""},onLoad:{type:{name:"func"},required:!1,description:""},onError:{type:{name:"func"},required:!1,description:""},placeholderSrc:{type:{name:"string"},required:!1,description:""},isDeleted:{type:{name:"bool"},required:!1,description:""}}};function re(e){var t=e.onLoad,n=e.height,r=e.width;return Object(g.useEffect)(function(){t()},[]),D.a.createElement("div",{className:"Post-item-media",style:{width:r,height:n}})}var ae=Object(Z.a)(ne),oe=n("n/mK");re.__docgenInfo={description:"",methods:[],displayName:"PostHomeDeleted",props:{onLoad:{type:{name:"func"},required:!0,description:""},height:{type:{name:"number"},required:!0,description:""},width:{type:{name:"number"},required:!0,description:""}}};var ie=Object(Z.a)(re),ce=n("HWIq");n("MZXA");function se(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function le(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?se(Object(n),!0).forEach(function(e){w()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ue(e){var t=e.children,n=e.display,r=void 0===n?[]:n;if(0===r.length)return t;var a=function(e){var t="",n={};return(0<arguments.length&&void 0!==e?e:[]).forEach(function(e){switch(e.type){case"accolade_border":n=le(le({},n),function(e){var t=0<arguments.length&&void 0!==e?e:[],n=t.length;if(0===n)return{};var r="linear-gradient(165deg,";if(1<n){var a=0,o=100/(n-1);t.forEach(function(e){var t=100===a?")":", ";r+="#".concat(e," ").concat(a,"%").concat(t),a+=o})}else 1===n&&(r+="#".concat(t[0]," 0%, #").concat(t[0]," 100%)"));return{background:r}}(e.colors));break;case"accolade_icon":t=e.url}}),{styles:n,accoladeImage:t}}(r),o=a.styles,i=a.accoladeImage;return D.a.createElement("div",{style:o,className:"AccoladeBorder"},i&&D.a.createElement(ce.a,{imageUrl:i,background:!0}),t)}ue.defaultProps={display:[]},ue.__docgenInfo={description:"",methods:[],displayName:"AccoladeBorder",props:{display:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:""},children:{type:{name:"node"},required:!0,description:""}}};var de=n("fTpD"),me=n.n(de),pe=n("D0BC"),fe=n.n(pe),he=n("E9Wd"),ge=null,ye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_";function be(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?be(Object(n),!0).forEach(function(e){w()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ce(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function Ee(e){return e*(Math.PI/180)}var ke=function(e){u()(n,e);var t=Ce(n);function n(e){var q;return i()(this,n),q=t.call(this,e),w()(s()(q),"clearKey",function(e){var t=q.state,n=t.interactionsShowing,r=t.interactionTimeouts;Object(A.i)(r[e]);var a=ve({},n),o=ve({},r);delete a[e],delete o[e],q.setState({interactionsShowing:a,interactionTimeouts:o})}),w()(s()(q),"handleClick",function(){var e=q.props,t=e.adTileInteractions,n=e.onClick,r=e.innerRef,a=r.current.getBoundingClientRect(),o=a.height,i=a.width,c=Object(R.d)(r.current,o/2),s=Object(R.d)(r.current)&&Object(R.b)(r.current),l=Object(R.b)(r.current,-o/2),u=me()(q.spots.filter(function(e){return!(e.top&&!c)&&(!(e.bottom&&!l)&&(!(e.middle&&(e.left||e.right)&&!s)&&e.id!==q.lastUsedSpotId))}));q.lastUsedSpotId=u.id;var d=me()(t);d.height=Math.min(d.height,o),d.width=Math.min(d.width,i);var m={maxHeight:"".concat(o,"px"),maxWidth:"".concat(i,"px"),position:"absolute",zIndex:-1,opacity:1,transform:"rotate(0) scale(0)",top:0,left:0},p=0,f=0,h=me()([0,d.width/4]),g=me()([0,d.width/4]);u.top&&(p=-d.height-g),u.bottom&&(p=o+g),u.middle&&(u.top||u.bottom)&&(f=(i-d.width+fe()(-d.width,d.width))/2),u.left&&(f=-d.width-h),u.right&&(f=i+h),u.middle&&(u.left||u.right)&&(p=(o-d.height+fe()(-d.height,d.height))/2);var y=fe()(0,45)*u.rotationModifier,b=function(e){for(var t="",n=ye.length,r=0;r<Math.max(2,e);r++)t+=ye.charAt(Math.floor(Math.random()*n));return t}(7);if(0!=y){var v=Math.abs(y),C=90-v,E=Ee(90),k=Ee(v),O=Ee(C),S=d.width,P=S*(Math.sin(k)/Math.sin(E)),N=S*(Math.sin(O)/Math.sin(E)),I=(N+N)/3,j=P/3;p=(0<=p?1:-1)*(Math.abs(p)-j/2),f=(0<=f?1:-1)*(Math.abs(f)-I/2)}p="".concat(p,"px"),f="".concat(f,"px"),function(e){ge||(ge=document.createElement("style"),document.head.appendChild(ge)),ge.sheet.insertRule(e)}("@keyframes ".concat(b," {\n            20% {\n                top: ").concat(p,";\n                left: ").concat(f,";\n                transform: rotate(").concat(y,"deg) scale(1);\n            }\n            90% {\n                top: ").concat(p,";\n                left: ").concat(f,";\n                transform: rotate(").concat(y,"deg) scale(1);\n                opacity: 1;\n            }\n            100% {\n                top: ").concat(p,";\n                left: ").concat(f,";\n                transform: rotate(").concat(y,"deg) scale(1);\n                opacity: 0;\n            }\n        }")),m.animation="".concat(b," ").concat(5500,"ms"),q.setState(function(e){var t=ve(w()({},b,D.a.createElement("img",{src:"".concat(he.W,"/").concat(d.id,".gif"),style:m,key:b})),e.interactionsShowing),n=Object(A.Bb)(function(){q.clearKey(b)},5500);return{interactionsShowing:t,interactionTimeouts:ve(w()({},b,n),e.interactionTimeouts)}}),n()}),q.spots=[{id:1,top:!0,right:!1,bottom:!1,left:!0,middle:!1,rotationModifier:-1},{id:2,top:!0,right:!1,bottom:!1,left:!1,middle:!0,rotationModifier:0},{id:3,top:!0,right:!0,bottom:!1,left:!1,middle:!1,rotationModifier:1},{id:4,top:!1,right:!0,bottom:!1,left:!1,middle:!0,rotationModifier:0},{id:5,top:!1,right:!0,bottom:!0,left:!1,middle:!1,rotationModifier:-1},{id:6,top:!1,right:!1,bottom:!0,left:!1,middle:!0,rotationModifier:0},{id:7,top:!1,right:!1,bottom:!0,left:!0,middle:!1,rotationModifier:1},{id:8,top:!1,right:!1,bottom:!1,left:!0,middle:!0,rotationModifier:0}],q.lastUsedSpotId=0,q.state={interactionsShowing:{},interactionTimeouts:{}},q}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.innerRef,a=this.state.interactionsShowing;return D.a.createElement("div",{ref:r,onClick:this.handleClick,className:t},Object.values(a),n)}}]),n}(D.a.Component);ke.__docgenInfo={description:"",methods:[{name:"clearKey",docblock:null,modifiers:[],params:[{name:"key",type:null}],returns:null},{name:"handleClick",docblock:null,modifiers:[],params:[],returns:null}],displayName:"InteractableAdTile",props:{adTileInteractions:{type:{name:"array"},required:!0,description:""},className:{type:{name:"string"},required:!0,description:""},children:{type:{name:"node"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},innerRef:{type:{name:"object"},required:!0,description:""}}};n("ZYtQ");function Oe(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function Se(e){var t=e.isDeleted,n=e.className,r=e.onMouseEnter,a=e.onMouseLeave,o=e.to,i=e.target,c=e.onClick,s=e.innerRef,l=e.isExternalAd,u=e.state,d=e.children,m=e.adTileInteractions;return t?D.a.createElement("div",{className:n},d):0<m.length?D.a.createElement(ke,{innerRef:s,className:n,adTileInteractions:m,onClick:c},d):D.a.createElement(oe.a,{draggable:"false",onMouseEnter:r,onMouseLeave:a,className:n,to:o,target:i,onClick:c,innerRef:s,isExternalAd:l,state:u},d)}var Pe=function(e){u()(n,e);var t=Oe(n);function n(e){var f;return i()(this,n),f=t.call(this,e),w()(s()(f),"isVoteHandler",!1),w()(s()(f),"getVoteHandler",function(c){return function(e){var t=f.props,n=t.post,r=t.isUserLoggedIn,a=t.onGalleryImageVote,o=n.title;if(!r||!a)return!0;e.preventDefault();var i=n.vote;if(f.isVoteHandler=!0,i===c)return a({postId:n.id,vote:j.c,initialVote:i,trigger:E.p,location:E.k.OUTSIDE,title:o});a({postId:n.id,vote:c,initialVote:i,trigger:E.p,location:E.k.OUTSIDE,title:o})}}),w()(s()(f),"handlerSaveGalleryPage",function(){var e=f.props,t=e.onSaveGalleryPage,n=e.post;if(!t)return!0;t(n.galleryPage)}),w()(s()(f),"clickHandler",function(){var e=f.props,t=e.post,n=e.adTileTappedAction,r=e.streamSection,a=e.navigationTrigger,o=e.navigationDirection,i=e.postNavigateAnalyticsAction,c=e.location,s=t.meta;t.isAd&&n&&n(t.id,c,0<s.interactions.length),r&&a&&o&&i(t.id,o,a,M.a[r])}),w()(s()(f),"inViewHandler",function(){var e=f.props,t=e.post,n=e.location,r=e.adTileInViewAction;r&&Object(R.c)(f.post.current)&&(r(t.id,n),Object(A.nb)("scroll",f.inViewHandler))}),w()(s()(f),"getMediaComponent",function(){var e=f.props,t=e.post,n=e.spinner,r=e.styles,a=e.isViewPort,o=e.viewGif,i=e.isWebPSupported,c=e.isDeleted,s=t.isVideo,l=t.src,u=t.animationType,d=t.height,m=t.width,p=function(e,t){return t?e.webPImage:e.coverImage}(l,i);return c?D.a.createElement(ie,{styles:r,spinner:n,isDeleted:c,height:d,width:m}):s?D.a.createElement(ae,{animationType:u,styles:r,src:l,height:d,width:m,playVideo:o&&u===k.n&&a,spinner:n,placeholderSrc:l.videoPoster,showImage:!o,isDeleted:c}):D.a.createElement($.b,{thumbSrc:p,originalSrc:p,height:d,width:m,styles:r,spinner:n,isDeleted:c})}),f.post=D.a.createRef(),f.props.post.isAd&&(f.inViewHandler=b()(f.inViewHandler.bind(s()(f)),100),Object(A.c)("scroll",f.inViewHandler)),f}return c()(n,[{key:"componentDidMount",value:function(){this.props.post.isAd&&this.inViewHandler()}},{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.post,a=t.isUserLoggedIn,o=t.onRemoveGalleryPage,i=t.onGalleryImageVote,c=t.usePrivacy,s=t.viewGif,l=t.sendToTop,u=t.isDeleted,d=r.adUrl,m=r.adType,p=r.title,f=r.href,h=r.target,g=r.views,y=r.commentCount,b=r.isAd,v=r.meta,C=r.display,E=r.points,k=r.createdAt,O=a&&i&&(r.vote||j.c),S=P()((e={},w()(e,n,!!n),w()(e,"".concat(O,"vote"),!!O),w()(e,"novote",!O),w()(e,"Post-item--deleted",u),w()(e,"Post-item--interactions",v.interactions.length),e));return D.a.createElement(Se,{draggable:"false",onMouseEnter:this.handlerSaveGalleryPage,onMouseLeave:o,className:S,to:0<m&&d?d:f,target:h,onClick:this.clickHandler,innerRef:this.post,isExternalAd:m===I.e,state:{sendToTop:l},isDeleted:u,adTileInteractions:v.interactions},D.a.createElement(ue,{display:u?[]:C},D.a.createElement("div",{className:"Post-item-container"},this.getMediaComponent(),this.props.children,D.a.createElement(Q.a,{isPromotedAd:v.isPromotedAd,isThumbnailAd:v.isThumbnailAd,isInteractiveAd:0<v.interactions.length,imagesCount:v.imagesCount,metaLabel:s?"":v.label}),D.a.createElement(X,{title:p,isNotAd:!b,views:g,privacy:c?r.privacy:""},u?D.a.createElement("div",{className:"Post-item-title--deleted"},Object(N.b)("deletedPost",new Date(k).getTime())):"",D.a.createElement(z.a,null,D.a.createElement("div",{className:"Post-item-stat Post-item-vote uScaleTransition",onClick:this.getVoteHandler(j.b),title:Object(N.b)("upvoteHint")},D.a.createElement(F.b,{selected:O===j.b,isMini:!0,fillColor:"currentColor",strokeWidth:0})),D.a.createElement(z.b,{className:"Post-item-vote-points Post-item-vote-points--".concat(O)},"".concat(Object(Y.j)(E))),a&&D.a.createElement("div",{className:"Post-item-stat Post-item-vote uScaleTransition",onClick:this.getVoteHandler(j.a),title:Object(N.b)("downvoteHint")},D.a.createElement(F.a,{selected:O===j.a,isMini:!0,fillColor:"currentColor",strokeWidth:0}))),D.a.createElement(z.a,{className:"Post-item-stat uScaleTransition"},D.a.createElement(H,{strokeWidth:0}),D.a.createElement(z.b,null,Object(Y.j)(y)))),v.pixels&&v.pixels.map(function(e,t){return D.a.createElement("img",{key:"tilePixel-".concat(t),src:e,style:{display:"none"}})}))))}}]),n}(g.Component);Pe.defaultProps={className:"",usePrivacy:!1,viewGif:!0};function Ne(e){var t=e.gallery,n=e.agent;return{viewGif:t.get("viewGif")&&!t.get("pauseAnimation"),isWebPSupported:n.get(x.s)}}var Ie={onGalleryImageVote:q.Zb,onSaveGalleryPage:O.Q,onRemoveGalleryPage:O.N,adTileInViewAction:S.q,adTileTappedAction:S.r,postNavigateAnalyticsAction:q.nb},je=Object(v.b)(Ne,Ie)(Pe),qe=Object(T.b)(Object(v.b)(Ne,Ie)(Pe));Pe.__docgenInfo={description:"",methods:[{name:"getVoteHandler",docblock:null,modifiers:[],params:[{name:"voteType",optional:!1,type:null}],returns:null},{name:"handlerSaveGalleryPage",docblock:null,modifiers:[],params:[],returns:null},{name:"clickHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"inViewHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"getMediaComponent",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostHome",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},usePrivacy:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},viewGif:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},post:{type:{name:"object"},required:!0,description:""},spinner:{type:{name:"object"},required:!0,description:""},isViewPort:{type:{name:"bool"},required:!1,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""},styles:{type:{name:"object"},required:!1,description:""},isDeleted:{type:{name:"bool"},required:!0,description:""},onGalleryImageVote:{type:{name:"func"},required:!1,description:""},onSaveGalleryPage:{type:{name:"func"},required:!1,description:""},onRemoveGalleryPage:{type:{name:"func"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},adTileInViewAction:{type:{name:"func"},required:!1,description:""},adTileTappedAction:{type:{name:"func"},required:!1,description:""},location:{type:{name:"string"},required:!1,description:""},isWebPSupported:{type:{name:"bool"},required:!1,description:""},streamSection:{type:{name:"string"},required:!1,description:""},navigationTrigger:{type:{name:"string"},required:!1,description:""},navigationDirection:{type:{name:"string"},required:!1,description:""},postNavigateAnalyticsAction:{type:{name:"func"},required:!1,description:""},sendToTop:{type:{name:"bool"},required:!1,description:""}}};t.d=Object(T.a)(Object(v.b)(Ne,Ie)(Pe));Se.__docgenInfo={description:"",methods:[],displayName:"PostHomeLinker",props:{isDeleted:{type:{name:"bool"},required:!0,description:""},className:{type:{name:"string"},required:!0,description:""},onMouseEnter:{type:{name:"func"},required:!0,description:""},onMouseLeave:{type:{name:"func"},required:!0,description:""},to:{type:{name:"string"},required:!0,description:""},target:{type:{name:"string"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},innerRef:{type:{name:"object"},required:!0,description:""},isExternalAd:{type:{name:"bool"},required:!0,description:""},state:{type:{name:"object"},required:!0,description:""},children:{type:{name:"node"},required:!0,description:""},adTileInteractions:{type:{name:"array"},required:!0,description:""}}}},"ej/z":function(e,t,n){"use strict";function r(e,t,n){if(t<=e)return null;var r=n/t;return Math.ceil(e*r)}function a(e,t){return t/2<e}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a})},emG5:function(e,t,n){},f6ut:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("lSNA"),p=n.n(r),a=n("q1tI"),f=n.n(a),o=n("TSYQ"),h=n.n(o),g=(n("17x9"),n("m+bm"),{default:"",left:"Checkmark--left",right:"Checkmark--right"});function i(e){var t=e.selected,n=e.text,r=void 0===n?"":n,a=e.handleOnChange,o=void 0===a?function(){}:a,i=e.checkmarkPosition,c=void 0===i?"default":i,s=e.name,l=void 0===s?"":s,u=e.value,d=void 0===u?"":u,m=h()(p()({Checkmark:!0},g[c],!0));return f.a.createElement("label",{className:"Checkbox-wrapper"},r,f.a.createElement("input",{onChange:o,type:"checkbox",defaultChecked:t,name:l,value:d}),f.a.createElement("div",{className:m}))}i.__docgenInfo={description:"",methods:[],displayName:"Checkbox",props:{text:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},handleOnChange:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},checkmarkPosition:{defaultValue:{value:"'default'",computed:!1},type:{name:"enum",value:[{value:"'default'",computed:!1},{value:"'left'",computed:!1},{value:"'right'",computed:!1}]},required:!1,description:""},name:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},value:{defaultValue:{value:"''",computed:!1},type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1,description:""},selected:{type:{name:"bool"},required:!1,description:""},reference:{type:{name:"func"},required:!1,description:""}}}},fTpD:function(e,t,n){var r=n("VhX2"),a=n("98ov"),o=n("Z0cm");e.exports=function(e){return(o(e)?r:a)(e)}},fbUk:function(e,t,n){},gGMO:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return s});var r=n("pVnL"),l=n.n(r),a=n("QILm"),u=n.n(a),o=n("q1tI"),d=n.n(o),i=(n("17x9"),n("TSYQ")),m=n.n(i),p=n("j/yV"),f=n("BWa0");n("9JWB");function h(e){var t=e?"16":"32";return{height:t,width:t,fillColor:"none",strokeColor:"#ffffff"}}function c(e){var t=e.selected,n=void 0!==t&&t,r=e.isMini,a=void 0!==r&&r,o=u()(e,["selected","isMini"]),i=m()({Vote:!0,"Vote-up":!0,"Vote-up--selected":n}),c=a?f.gb:f.K,s=h(a);return d.a.createElement("div",{className:i},n&&d.a.createElement(p.a,null),d.a.createElement(f.hb,l()({name:c},s,o)))}function s(e){var t=e.selected,n=void 0!==t&&t,r=e.isMini,a=void 0!==r&&r,o=u()(e,["selected","isMini"]),i=m()({Vote:!0,"Vote-down":!0,"Vote-down--selected":n}),c=a?f.Z:f.j,s=h(a);return d.a.createElement(f.hb,l()({className:i,name:c},s,o))}s.__docgenInfo={description:"",methods:[],displayName:"Downvote",props:{selected:{defaultValue:{value:"false",computed:!(c.__docgenInfo={description:"",methods:[],displayName:"Upvote",props:{selected:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},isMini:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""}}})},type:{name:"bool"},required:!1,description:""},isMini:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""}}}},ghid:function(e,t,n){},gmqy:function(e,t,n){"use strict";n.d(t,"a",function(){return I});var r=n("pVnL"),c=n.n(r),a=n("lwsE"),o=n.n(a),i=n("W8MJ"),s=n.n(i),l=n("PJYZ"),u=n.n(l),d=n("7W2i"),m=n.n(d),p=n("a1gu"),f=n.n(p),h=n("Nsbk"),g=n.n(h),y=n("lSNA"),b=n.n(y),v=n("q1tI"),C=n.n(v),E=(n("17x9"),n("TSYQ")),k=n.n(E),O=n("DUmG"),S=n.n(O);function P(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f()(this,e)}}function N(e){var t=e.isLoading,n=e.color,r=e.height;if(!t)return null;var a={position:"absolute",zIndex:"".concat(S.a.$zIndexPostSpinner),top:0,left:0,width:"100%",height:"".concat(r,"px"),background:"linear-gradient(".concat(n,", ").concat(S.a.$voyagerDarkGrey,")")};return C.a.createElement("div",{className:"Spinner",style:a})}function I(i){return function(e){m()(r,e);var n=P(r);function r(e){var t;return o()(this,r),t=n.call(this,e),b()(u()(t),"_isMounted",!1),b()(u()(t),"loadHandler",function(){t._isMounted&&t.setState({isLoading:!1})}),b()(u()(t),"errorHandler",function(){t.setState({isLoading:!1})}),t.state={isLoading:!0},t}return s()(r,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props,t=e.spinner,n=e.styles,r=e.isDeleted,a=this.state.isLoading,o=k()({"Post-item-media":!0,"Post-item-media--deleted":r});return C.a.createElement("div",{className:o,style:n},C.a.createElement(N,{isLoading:a,color:t.color,height:t.height}),C.a.createElement(i,c()({},this.props,{onLoad:this.loadHandler,onError:this.errorHandler})))}}]),r}(C.a.Component)}N.__docgenInfo={description:"",methods:[],displayName:"PostSpinner",props:{isLoading:{type:{name:"bool"},required:!1,description:""},color:{type:{name:"string"},required:!0,description:""},height:{type:{name:"number"},required:!0,description:""}}}},hIyu:function(e,t,n){"use strict";var r=n("pVnL"),s=n.n(r),a=n("QILm"),l=n.n(a),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),u=n.n(c),d=n("PJYZ"),m=n.n(d),p=n("7W2i"),f=n.n(p),h=n("a1gu"),g=n.n(h),y=n("Nsbk"),b=n.n(y),v=n("lSNA"),C=n.n(v),E=n("q1tI"),k=n.n(E),O=n("/MKj"),S=(n("17x9"),n("1coQ")),P=n("66r6"),N=n("26Ob"),I=n("AoHe"),j=n("RJ0p"),q=n("P5Jw"),w=n("G5ih"),D=n("E9Wd"),T=n("wmRA"),A=n("uGFe"),R=n("fdoY"),x=n("9rNq"),M=n("pNV7");n("Ya97");function F(e){var t=e.id,n=e.downloadImageAction,r=e.isLoggedIn,a=e.onFavorite,o=k.a.createElement(q.CopyToClipboard,{text:D.z+t},k.a.createElement("button",{type:"button"},k.a.createElement("span",{className:"label"},Object(w.b)("imageCopy")))),i=k.a.createElement("button",{type:"button",onClick:function(){return n(t,t)}},k.a.createElement("span",{className:"label"},Object(w.b)("download"))),c=k.a.createElement("button",{type:"button",onClick:function(){return a(t,null,!1,null,T.u)}},k.a.createElement("span",{className:"label"},Object(w.b)("favoriteLabel")));return k.a.createElement(x.a,{className:"mediaDropdown-menu",dropdownIcon:k.a.createElement(M.W,{name:M.k,width:21})},o,i,r&&c)}F.__docgenInfo={description:"",methods:[],displayName:"MediaItemDropDownMenu",props:{id:{type:{name:"string"},required:!0,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},onFavorite:{type:{name:"func"},required:!0,description:""},downloadImageAction:{type:{name:"func"},required:!0,description:""}}};var _=Object(O.b)(function(e){return{isLoggedIn:!!e.user.get("isLoggedIn")}},{downloadImageAction:A.Nb,onFavorite:R.db})(F),G=n("9uSn");function L(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=b()(r);if(a){var n=b()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g()(this,e)}}var V=function(e){f()(o,e);var a=L(o);function o(){var r;i()(this,o);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=a.call.apply(a,[this].concat(t)),C()(m()(r),"getReactionPreview",function(e){var t=r.props.onClick;if(e){var n=e.match(P.c);return k.a.createElement("div",{className:"MediaPreview-wrapper",onClick:t},k.a.createElement("div",{className:"MediaMenuContainer"},Object(j.b)(e),k.a.createElement(_,{id:n[1]})))}}),r}return u()(o,[{key:"expandLink",value:function(){return"true"===this.props.expandlink&&this.props.children!==P.a&&new RegExp(P.c).test(this.props.href)}},{key:"renderTargetMedia",value:function(){var e=this.props,t=(e.children,e.href),n=e.postMedia,r=e.onClick,a=l()(e,["children","href","postMedia","onClick"]),o=n.get(parseInt(t,10)-1),i=o.getIn(["src",o.get("isVideo")?"video":"image"]),c=k.a.createElement("a",s()({href:i},a),"#".concat(t));return k.a.createElement(G.a,{className:"Tooltip-targetMedia",onClick:r,inline:!0,src:i},c)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.href,r=(e.postMedia,l()(e,["children","href","postMedia"]));if(this.expandLink())return this.getReactionPreview(n);if(t===P.g)return this.renderTargetMedia();var a=t===P.a?n:t,o=k.a.createElement("a",s()({href:n},r),a);return Object(I.h)(n)?k.a.createElement(G.a,{className:"Tooltip-media",inline:!0,src:n},o):o}}]),o}(k.a.Component);V.defaultProps={expandlink:"false"};t.a=Object(O.b)(function(){return{component:V}},function(n){return{onClick:function(e){var t=e.target.src||e.target.href;return!Object(I.h)(t)||(e.preventDefault(),e.stopPropagation(),n(Object(N.b)({show:!0,src:t})),!1)}}})(S.a);V.__docgenInfo={description:"",methods:[{name:"expandLink",docblock:null,modifiers:[],params:[],returns:null},{name:"getReactionPreview",docblock:null,modifiers:[],params:[{name:"href",type:null}],returns:null},{name:"renderTargetMedia",docblock:null,modifiers:[],params:[],returns:null}],displayName:"LinkifyDecorator",props:{expandlink:{defaultValue:{value:"'false'",computed:!1},type:{name:"enum",value:[{value:"'true'",computed:!1},{value:"'false'",computed:!1}]},required:!1,description:""},children:{type:{name:"string"},required:!0,description:""},href:{type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!0,description:""},onClick:{type:{name:"func"},required:!1,description:""},postMedia:{type:{name:"object"},required:!1,description:""}}}},heTe:function(e,t,n){"use strict";var r=n("/MKj"),a=n("pVnL"),d=n.n(a),o=n("J4zp"),m=n.n(o),p=n("q1tI"),f=n.n(p),h=(n("17x9"),n("AG5K")),g=n("OX3u"),y=n("b5GN"),b=n("pNV7"),v=n("BWa0"),C=n("7oyi"),E=n("zuLI");n("IgJu");var i=n("wAdX"),c=n("/PhX"),s=n("RUHF");t.a=Object(r.b)(function(e){var t=e.emerald,n=e.user;return{giftData:t.get("giveEmeraldData").toJS(),isSubscribed:n.getIn(["subscription","isSubscribed"])}},function(e){return{close:function(){e(Object(c.y)(g.q)),e(Object(s.v)())}}})(function(l,e){var u=1<arguments.length&&void 0!==e?e:{};function t(e){var t=e.giftData,n=e.close,r=e.onDialogOpen,a=e.isSubscribed;if(!t.recipientUsername)return null;var o=Object(p.useState)(0),i=m()(o,2),c=i[0],s=i[1];return f.a.createElement(l,d()({className:"GiveGiftDialog GiveGiftDialog-ty",isModal:!1,onClose:n,name:g.q,onOpen:r},u),f.a.createElement("div",{className:"GiveGiftDialog-head"},f.a.createElement(b.W,{name:b.S}),f.a.createElement(C.b,{className:"GiveGiftDialog-head--close",image:f.a.createElement(v.hb,{name:v.g,width:"32",height:"32"}),onClick:n})),f.a.createElement("div",{className:"GiveGiftDialog-ty-content"},f.a.createElement(E.a,{className:"GiveGiftDialog-ty-confetti",run:c,viewWidth:540,viewHeight:500,loadSpeed:1}),f.a.createElement("span",{onClick:function(){s(c+1)}},f.a.createElement(b.W,{className:"GiveGiftDialog-ty-heart",name:b.Q})),f.a.createElement("div",{className:"GiveGiftDialog-ty-title"},Object(h.a)("giveGiftTyGem")),f.a.createElement("div",{className:"GiveGiftDialog-ty-description"},Object(h.a)("giveGiftTyDescription",t.recipientUsername)),!a&&f.a.createElement(C.b,{className:"GiveGiftDialog-ty-button Button",label:Object(h.a)("emeraldJoin"),title:Object(h.a)("emeraldJoin"),href:"/".concat(y.f,"?source=").concat(g.x)})))}return t.defaultProps={onDialogOpen:function(){}},t}(i.a))},hibn:function(e,t,n){},hrf1:function(e,t,n){},"iaU+":function(e,t,n){"use strict";n.d(t,"b",function(){return Xe}),n.d(t,"a",function(){return Qe});var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("PJYZ"),s=n.n(o),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),C=n.n(h),g=n("q1tI"),E=n.n(g),y=(n("17x9"),n("TSYQ")),k=n.n(y),b=n("/MKj"),O=n("E9Wd"),v=n("GB65"),S=n("LZBw"),P=n("zTH+"),N=n("c0eP"),I=n("DzJC"),j=n.n(I),q=n("kpbE"),w=n("G5ih"),D=n("JzwX"),T=n("pNV7"),A=n("xypG"),R=n("oYs2");function x(e){var t=e.suggestion,o=e.searchString,n=t[R.a];return n&&n.length?E.a.createElement("div",{className:"Suggestion-block ".concat(R.a)},E.a.createElement("div",{className:"Suggestion-title"}),n.map(function(e,t){var n="".concat(O.V,"/gallery/").concat(e.hash||e.id),r=e.title,a=B(o,r);return a.length?E.a.createElement("a",{href:n,key:"".concat(t),className:"Suggestion-item",title:r},E.a.createElement("span",{className:"Suggestion-item-text"},a)):null})):null}x.__docgenInfo={description:"",methods:[],displayName:"SuggestedPosts",props:{suggestion:{type:{name:"object"},required:!1,description:""},searchString:{type:{name:"string"},required:!0,description:""}}};var M=n("55Ip"),F=n("+qLk");function _(e){var t=e.suggestion,a=e.searchString,n=t[R.b];return n&&n.length?E.a.createElement("div",{className:"Suggestion-block ".concat(R.b)},E.a.createElement("div",{className:"Suggestion-title"},R.b),n.map(function(e,t){var n=e.display_name,r=B(a,n);return r.length?E.a.createElement(M.b,{to:"/".concat(F.C,"/").concat(e.name),key:"".concat(t),className:"Suggestion-item",title:n},E.a.createElement("div",{className:"thumbnail ".concat(R.b),style:{backgroundImage:"url(".concat(O.W,"/").concat(e.background_hash,"_d.jpg?maxwidth=60&shape=thumb&fidelity=high)")}}),E.a.createElement("span",{className:"Suggestion-item-text"},"#",r)):null})):null}_.__docgenInfo={description:"",methods:[],displayName:"SuggestedTags",props:{suggestion:{type:{name:"object"},required:!1,description:""},searchString:{type:{name:"string"},required:!0,description:""}}};var G=n("7tbW"),L=n.n(G);function V(e){var t=e.suggestion,n=void 0===t?{}:t,i=e.searchString,r=n[R.c];return r&&r.length?E.a.createElement("div",{className:"Suggestion-block ".concat(R.c)},E.a.createElement("div",{className:"Suggestion-title"},R.c),r.map(function(e,t){var n="".concat(O.V,"/user/").concat(e.url),r=e.url,a=r.split(""),o=L()(i.toLowerCase().split(""));return E.a.createElement("a",{href:n,key:"".concat(t),className:"Suggestion-item",title:r},E.a.createElement("div",{className:"thumbnail ".concat(R.c),style:{backgroundImage:"url(".concat(e.avatar,")")}}),E.a.createElement("span",{className:"Suggestion-item-text"},"@",a.map(function(e,t){return-1===o.indexOf(e.toLowerCase())?e:E.a.createElement("strong",{key:"strong-users-".concat(t),className:"Suggestion-match-case"},e)})))})):null}V.__docgenInfo={description:"",methods:[],displayName:"SuggestedUsers",props:{suggestion:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},searchString:{type:{name:"string"},required:!0,description:""}}};n("A8WO");function U(e,t){return E.a.createElement("strong",{key:t,className:"Suggestion-match-case"},e)}function B(e,t,n){var r=2<arguments.length&&void 0!==n?n:U,a=[];if(!e)return a;for(var o=e.trim().toLowerCase().replace(/\s+/g," ").split(" ").join("|"),i=new RegExp("(".concat(o,")"),"gi"),c=i.exec(t),s=0;null!==c&&c[0];)s!==c.index&&0<c.index&&a.push(t.slice(s,c.index)),s=c.index+c[0].length,a.push(r(t.slice(c.index,s),c.index)),c=i.exec(t);return s<t.length&&a.push(t.slice(s,t.length)),a}function W(e){function t(e){var t=e.target.closest(".Suggestion-list");t&&0<e.deltaY&&t.clientHeight+t.scrollTop+5>=t.scrollHeight&&e.preventDefault()}var n=e.suggestion,r=e.searchString,a=e.maxHeight;return E.a.createElement("div",{className:"Suggestion"},E.a.createElement("div",{className:"Suggestion-list".concat(a?" Scrollbar":""),onWheel:t,onTouchMove:t,style:{maxHeight:a?a/2:null}},E.a.createElement(A.d,{model:"suggest",size:20}),E.a.createElement(x,{suggestion:n,searchString:r}),E.a.createElement(_,{suggestion:n,searchString:r}),E.a.createElement(V,{suggestion:n,searchString:r})))}W.__docgenInfo={description:"",methods:[],displayName:"SearchbarSuggestion",props:{suggestion:{type:{name:"instanceOf",value:"Object"},required:!0,description:""},searchString:{type:{name:"string"},required:!0,description:""},maxHeight:{type:{name:"number"},required:!1,description:""},loading:{type:{name:"bool"},required:!1,description:""}}};n("oG7g");function H(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var z=function(e){u()(n,e);var t=H(n);function n(e){var o;return i()(this,n),o=t.call(this,e),C()(s()(o),"inputChangeHandler",function(e){if(!e.target.value)return o.setState({isOpen:!1}),void o.props.cleanSearch();o.props.inputSearch(e.target.value)}),C()(s()(o),"getSuggest",function(e){var t=e.handleFetchSuggest,n=e.searchTag,r=e.searchString,a=o.getSearchString(r,n.symbol);o.setState({isOpen:!!a}),a?t(a.toLowerCase(),n.tagName):r||o.props.cleanSearch()}),C()(s()(o),"submitHandler",function(e){e.preventDefault(),o.props.onSubmitSearch(o.props.searchString),Object(v.db)("".concat(O.V,"/search?q=").concat(Object(v.A)(o.props.searchString)))}),C()(s()(o),"handleMouseDown",function(){o.props.suggest.size&&o.setState({isOpen:!!o.props.suggest.size})}),C()(s()(o),"handleKeyDown",function(e){27===e.keyCode&&o.setState({isOpen:!1})}),o.state={isOpen:!1},o}return c()(n,[{key:"componentDidUpdate",value:function(e,t){if(e.searchString!==this.props.searchString)this.getSuggest(this.props);else if(e.positionY!==this.props.positionY&&this.searchText&&t.isOpen){this.searchText.getBoundingClientRect().bottom<-70&&this.setState({isOpen:!1})}}},{key:"componentDidMount",value:function(){var e=this;this.removeAutoCloser=Object(D.a)({el:function(){return e.searchText},cb:function(){return e.setState({isOpen:!1})}});this.getSuggest=j()(this.getSuggest,600,{leading:!1,trailing:!0})}},{key:"componentWillUnmount",value:function(){this.getSuggest.cancel(),this.removeAutoCloser&&this.removeAutoCloser()}},{key:"getSearchString",value:function(e,t){return-1<["#","@"].indexOf(t)?e.slice(1,e.length):e}},{key:"render",value:function(){var t=this,e=this.props,n=e.searchString,r=e.loading,a=e.suggest,o=e.searchTag,i=e.style,c=a.size&&"function"==typeof a.toObject?a.toObject():a;return E.a.createElement("div",{className:"Searchbar",style:i},E.a.createElement("form",{onSubmit:this.submitHandler,className:"Searchbar-form",action:"/search"},E.a.createElement("input",{ref:function(e){t.searchText=e},placeholder:Object(w.b)("searchPlaceholder"),type:"text",className:"Searchbar-textInput",value:"".concat(n),onChange:this.inputChangeHandler,onMouseDown:this.handleMouseDown,onKeyDown:this.handleKeyDown,onTouchEnd:this.handleMouseDown,style:{height:36},name:"q"}),E.a.createElement("button",{onClick:this.submitHandler,type:"submit",className:"Searchbar-submitInput"},E.a.createElement(T.W,{name:T.v}))),this.state.isOpen&&a.size?E.a.createElement(W,{suggestion:c,searchString:this.getSearchString(n,o.symbol),loading:r}):null)}}]),n}(E.a.Component);z.defaultProps={searchTag:{symbol:""},suggest:{},style:{},onSubmitSearch:function(){}},z.__docgenInfo={description:"",methods:[{name:"inputChangeHandler",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"getSearchString",docblock:null,modifiers:[],params:[{name:"searchString",type:null},{name:"symbol",type:null}],returns:null},{name:"getSuggest",docblock:null,modifiers:[],params:[{name:"props",type:null}],returns:null},{name:"submitHandler",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleMouseDown",docblock:null,modifiers:[],params:[],returns:null},{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"Searchbar",props:{searchTag:{defaultValue:{value:"{\n    symbol: '',\n}",computed:!1},type:{name:"shape",value:{symbol:{name:"string",required:!1},tagName:{name:"string",required:!1}}},required:!1,description:""},suggest:{defaultValue:{value:"{}",computed:!1},type:{name:"instanceOf",value:"Object"},required:!1,description:""},style:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},onSubmitSearch:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},searchString:{type:{name:"string"},required:!0,description:""},inputSearch:{type:{name:"func"},required:!0,description:""},cleanSearch:{type:{name:"func"},required:!0,description:""},handleFetchSuggest:{type:{name:"func"},required:!0,description:""},loading:{type:{name:"bool"},required:!1,description:""},positionY:{type:{name:"number"},required:!1,description:""}}};var Y=Object(b.b)(function(e){var t=e.search,n=e.ui,r=e.display;return{searchString:t.get("searchString")||"",searchTag:t.get("searchTag"),suggest:t.get("suggest")||{},loading:n.spinner&&n.spinner.get("suggest")&&n.spinner.get("suggest").loading,positionY:r.get("positionY")}},function(n){return{handleFetchSuggest:function(e,t){return n(Object(q.e)(e,t))},inputSearch:function(e){return n(Object(q.f)(e))},onSubmitSearch:function(e){return n(Object(q.g)(e))},cleanSearch:function(){return n(Object(q.d)())}}})(z),K=n("ygTn"),J=n("+VfX"),X=n("lZex");n("rvyR");function Q(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Z=function(e){u()(n,e);var t=Q(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props.searchName;return E.a.createElement("div",{className:"NavbarDropdown"},E.a.createElement("ul",null,E.a.createElement("li",null,E.a.createElement(N.a,null)),E.a.createElement("li",null,E.a.createElement(X.a,null))),e===J.k&&E.a.createElement(Y,{name:"dropdown"}))}}]),n}(E.a.Component);var $=Object(b.b)(function(e){return{searchName:e.ui.cover.getIn(["searchbar","name"])}})(Z);Z.__docgenInfo={description:"",methods:[],displayName:"NavbarDropdown",props:{searchName:{type:{name:"string"},required:!1,description:""}}};n("HhWI");function ee(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var te=function(e){u()(n,e);var t=ee(n);function n(e){var r;return i()(this,n),r=t.call(this,e),C()(s()(r),"updateDropdownNavbar",function(e,t){var n=r.dropDown;n&&e.target!==n&&n.parentNode.contains(e.target)&&"INPUT"===e.target.tagName?e.preventDefault():r.setState({isOpen:t})}),C()(s()(r),"toggleHandler",function(e){var t=r.state.isOpen;r.updateDropdownNavbar(e,!t)}),r.state={isOpen:!1},r}return c()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.forceClose;this.state.isOpen&&e.forceClose!==t&&this.setState({isOpen:!1})}},{key:"componentDidMount",value:function(){var t=this;this.removeAutoCloser=Object(D.a)({el:function(){return t.dropDown},cb:function(e){return t.updateDropdownNavbar(e,!1),!0}})}},{key:"componentWillUnmount",value:function(){this.removeAutoCloser&&this.removeAutoCloser()}},{key:"render",value:function(){var t=this,e=this.state.isOpen;return E.a.createElement("div",{className:"NavbarMenuButton"},E.a.createElement("div",{className:"icon icon-menu",ref:function(e){t.dropDown=e},onClick:this.toggleHandler}),e&&E.a.createElement($,null))}}]),n}(g.Component);function ne(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}te.__docgenInfo={description:"",methods:[{name:"updateDropdownNavbar",docblock:null,modifiers:[],params:[{name:"e",type:null},{name:"isOpen",type:null}],returns:null},{name:"toggleHandler",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"NavbarMenuButton",props:{forceClose:{type:{name:"number"},required:!1,description:""}}};var re=function(e){u()(n,e);var t=ne(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.left,a=e.top,o=e.right,i=e.bottom,c=k()(C()({MoveContainer:!0},t,t));return E.a.createElement("div",{className:c,style:{left:r,top:a,right:o,bottom:i}},n)}}]),n}(g.Component);re.defaultProps={className:""},re.__docgenInfo={description:"",methods:[],displayName:"MoveContainer",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},left:{type:{name:"number"},required:!1,description:""},top:{type:{name:"number"},required:!1,description:""},right:{type:{name:"number"},required:!1,description:""},bottom:{type:{name:"number"},required:!1,description:""}}};var ae=n("Ty5D");n("JHKR");function oe(e){var t=e.className,n=e.history;return E.a.createElement("a",{href:O.V,className:"GoUp-stopDrag",onClick:function(e){e.preventDefault(),Object(v.ub)(0,0),"/"!==n.location.pathname&&n.push("/")}},E.a.createElement("img",{className:k()("GoUp","GoUp-image","GoUp-stopDrag",C()({},t,!!t)),src:"//s.".concat(O.U,"/images/favicon-32x32.png")}))}oe.defaultProps={className:""},oe.__docgenInfo={description:"",methods:[],displayName:"GoUpComponent",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},history:{type:{name:"object"},required:!1,description:""}}};var ie=Object(ae.h)(oe),ce=n("RIqP"),se=n.n(ce),le=n("D0BC"),ue=n.n(le),de=n("sEfC"),me=n.n(de),pe=n("zMZQ"),fe=n.n(pe),he=n("r9xK"),ge=n.n(he),ye=n("DT9I"),be=n.n(ye),ve=n("+sW7"),Ce=n.n(ve),Ee=n("uFEW"),ke=n.n(Ee),Oe=n("naFI"),Se=n.n(Oe),Pe=n("X9Zs"),Ne=n.n(Pe),Ie=[fe.a,ge.a,be.a,Ce.a],je=[ke.a,Se.a,Ne.a],qe=[-90,90],we=[-45,45];n("w1ny");function De(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Te=100,Ae={limit:50,speed:[5.5,2.5],wind:[-.5,.5],spin:[-25,25]};function Re(e,t,n,r){var a=[];e.forEach(function(e){var t=ue.a.apply(void 0,se()(Ae.spin));a.push(Object.assign(e,{y:e.y+e.speed},{x:e.x+e.wind},{rotate:e.rotate+t}))});var o=a.filter(function(e){return function(e){return e.x<Object(v.v)()&&e.y<Object(v.u)()}(e)});return t<n&&o.length<Te?(o.push(function(e,t){var n=t();return n.speed=ue.a.apply(void 0,se()(Ae.speed)),n.wind=ue.a.apply(void 0,se()(Ae.wind)),n.x=ue()(0,Object(v.v)()),n.y=-10,n.key=e,n}("particle ".concat(t+1),r)),{totalCreated:t+1,confetti:o}):{totalCreated:t,confetti:o.slice(0,n)}}var xe=function(e){u()(n,e);var t=De(n);function n(e){var o;return i()(this,n),o=t.call(this,e),C()(s()(o),"startConfetti",me()(function(){var r=o.props.particleGenerator;o.setState(function(e){var t=e.limit+Ae.limit,n=Re(e.confetti,e.totalCreated,t,r);return{confetti:n.confetti,totalCreated:n.totalCreated,limit:t}},function(){1===o.state.confetti.length&&o.runAnimation()})},500,{leading:!0})),C()(s()(o),"runAnimation",function(){var t=o.props.particleGenerator,e=o.state,n=e.confetti,r=e.totalCreated,a=e.limit;Object(v.qb)(function(){var e=Re(n,r,a,t);o.setState({confetti:e.confetti,totalCreated:e.totalCreated}),e.confetti.length&&o.runAnimation()})}),o.state={confetti:[],totalCreated:0,limit:0},o}return c()(n,[{key:"componentDidMount",value:function(){var e=this.props.eventName;Object(v.c)(e,this.startConfetti,!0)}},{key:"componentWillUnmount",value:function(){var e=this.props.eventName;Object(v.nb)(e,this.startConfetti,!0)}},{key:"render",value:function(){var e=this.state.confetti;return E.a.createElement("div",null,0<e.length&&e.map(function(e){return E.a.createElement("img",{className:"confetti-particle",src:e.svg,style:{transform:"rotateZ(".concat(e.rotate,"deg)"),top:"".concat(e.y,"px"),left:"".concat(e.x,"px"),maxWidth:36,maxHeight:36},key:e.key})}))}}]),n}(E.a.Component);xe.defaultProps={particleGenerator:function(){var e={};return Math.random()<.15?(e.svg=je[Math.floor(Math.random()*je.length)],e.rotate=ue.a.apply(void 0,we)):(e.svg=Ie[Math.floor(Math.random()*Ie.length)],e.rotate=ue.a.apply(void 0,qe)),e},eventName:"confetti"},xe.__docgenInfo={description:"",methods:[{name:"runAnimation",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Confetti",props:{particleGenerator:{defaultValue:{value:"party",computed:!0},type:{name:"func"},required:!1,description:""},eventName:{defaultValue:{value:"'confetti'",computed:!1},type:{name:"string"},required:!1,description:""}}};var Me=[-45,45,-90,90];function Fe(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var _e="accolade_confetti",Ge=function(e){u()(o,e);var r=Fe(o);function o(){var a;i()(this,o);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a=r.call.apply(r,[this].concat(t)),C()(s()(a),"getUrls",function(){var e=a.props,t=e.accoladeData,n=e.accolades,r=t.get("accoladeIds");if(!n||!r)return[];return r.map(function(e){return function(e){return e&&e.get("image_url")}(n.find(function(t){return function(e){return e.get("id")===parseInt(t,10)}}(e)))}).filter(function(e){return!!e})}),a}return c()(o,[{key:"componentDidUpdate",value:function(e){this.props.accoladeData!==e.accoladeData&&Object(v.Fb)(_e)}},{key:"render",value:function(){var e=this.getUrls();return 0===e.length?null:E.a.createElement(E.a.Fragment,null,E.a.createElement(xe,{eventName:_e,particleGenerator:function(e){return function(){return{svg:e[Math.floor(Math.random()*e.length)],rotate:ue.a.apply(void 0,Me)}}}(e)}))}}]),o}(E.a.Component);Ge.defaultProps={accoladeData:null,accolades:null},Ge.__docgenInfo={description:"",methods:[{name:"getUrls",docblock:null,modifiers:[],params:[],returns:null}],displayName:"AccoladeConfetti",props:{accoladeData:{defaultValue:{value:"null",computed:!1},type:{name:"object"},required:!1,description:""},accolades:{defaultValue:{value:"null",computed:!1},type:{name:"object"},required:!1,description:""}}};var Le=Object(b.b)(function(e){var t=e.postsData;return{accoladeData:e.ui.gallery.get("accoladeData"),accolades:t&&t.getIn(["currentPostMeta","accolades","available"])}},{})(Ge);n("oJUB"),n("sUKj"),n("6IHV");function Ve(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Ue=function(e){u()(n,e);var t=Ve(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.username,n=e.top,r=e.forceClose,a=k()({"Navbar HomeNavbar":!0,active:t});return E.a.createElement(re,{className:a,top:n},E.a.createElement(Le,null),E.a.createElement(xe,null),E.a.createElement(te,{"forcelose":r}),E.a.createElement("div",{className:"NavbarContainer-left"},E.a.createElement(K.a,null),E.a.createElement(N.b,null),E.a.createElement(ie,{className:"ProfileCover-up"})),E.a.createElement("div",{className:"NavbarContainer-center"},E.a.createElement(Y,null)),E.a.createElement("div",{className:"NavbarContainer-right"},E.a.createElement(S.a,null)))}}]),n}(E.a.Component);Ue.defaultProps={username:""},Ue.__docgenInfo={description:"",methods:[],displayName:"Navbar",props:{username:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},fireMessagingNavAnalytics:{type:{name:"func"},required:!1,description:""},fireInDropDownMessagingNavAnalytics:{type:{name:"func"},required:!1,description:""},top:{type:{name:"number"},required:!1,description:""},searchName:{type:{name:"string"},required:!1,description:""},forceClose:{type:{name:"number"},required:!1,description:""}}};var Be=Object(b.b)(function(e){var t=e.user,n=e.ui,r=e.display;return{username:t.get("username"),top:n.cover.getIn(["navbar","top"]),searchName:n.cover.getIn(["searchbar","name"]),forceClose:r.get("positionY")}},function(e){return{fireMessagingNavAnalytics:function(){e(Object(P.d)("topNavBar"))},fireInDropDownMessagingNavAnalytics:function(){e(Object(P.d)("usernameDropdown")),e(Object(P.g)("messages"))}}})(Ue),We=n("Bw9V");n("hrf1");function He(e){var t=e.newPosts,n=e.handleGalleryPostRerender;return t?E.a.createElement("div",{className:"NewPostsNotification",onClick:n},E.a.createElement(T.W,{name:T.b,className:"".concat(T.b)}),Object(w.b)("newPosts",t)):null}He.__docgenInfo={description:"",methods:[],displayName:"NewPostsNotification",props:{newPosts:{type:{name:"number"},required:!0,description:""},handleGalleryPostRerender:{type:{name:"func"},required:!0,description:""}}};var ze=Object(b.b)(function(e){return{newPosts:e.ui.newPosts.get("newPostsNumber")}},{handleGalleryPostRerender:We.F})(He),Ye=n("/PhX");n("sQc6");function Ke(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Je(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Xe=function(e){u()(o,e);var r=Je(o);function o(){var a;i()(this,o);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a=r.call.apply(r,[this].concat(t)),C()(s()(a),"scrollHandler",function(){var e=a.props.onScroll;a._lastKnownScrollPosition=Math.round(Object(v.bb)()),a._ticking||Object(v.qb)(function(){a.calculatePositioning(a._lastKnownScrollPosition),e&&e(),a._ticking=!1}),a._ticking=!0}),C()(s()(a),"updateHeight",function(){var e=a.props,t=e.coverHeight,n=e.modifyCoverHeight;if(a._elem){var r=Math.round(a._elem.getBoundingClientRect().height);t!==r&&n({height:r})}}),a}return c()(o,[{key:"componentDidMount",value:function(){var e=this.props,t=e.modifyCoverHeight,n=e.updateHeightHandler;this._elem&&t({height:this._elem.getBoundingClientRect().height});this._lastKnownScrollPosition=0,this._ticking=!1,Object(v.a)("scroll",this.scrollHandler),"function"==typeof n&&n(this.updateHeight)}},{key:"calculatePositioning",value:function(e){var t=this.props,n=t.coverFixed,r=t.coverHeight,a=t.modifyCoverPosition;n&&e>r+J.a||a({scrollY:e})}},{key:"componentWillUnmount",value:function(){(0,this.props.modifyCoverHeight)({height:0,top:0}),Object(v.jb)("scroll",this.scrollHandler)}},{key:"componentDidUpdate",value:function(){this.updateHeight()}},{key:"render",value:function(){var t=this,e=this.props,n=e.isPromoted,r=e.backgroundHash,a=e.coverTop,o=e.coverFixed,i=e.children,c=e.className,s=e.backgroundType,l=e.minHeight,u=e.Banner,d=e.isNavBar,m=e.SCTU,p=e.SCTUPath,f=e.SCTUTargeting,h=e.hideNewPostNotification,g=e.transformationStyle,y=e.customStyle,b=k()(C()({isFixed:o,isPromoted:n},c,c)),v=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ke(Object(n),!0).forEach(function(e){C()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({top:a,minHeight:l,backgroundImage:function(e,t){switch(e){case J.o:case J.n:return;case J.s:return"linear-gradient(to bottom, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.3) 20%), url(".concat(O.W,"/").concat(t,".jpg)");case J.p:return"linear-gradient( rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2) ), url(".concat(O.V,"/user/").concat(t,"/cover)");case J.u:return"linear-gradient(180deg, rgba(39, 42, 51, 0.8) 21%, #272A33 77%), linear-gradient(116.32deg, rgba(105, 19, 254, 0.56) 0%, rgba(1, 185, 107, 0.56) 100%), url(".concat(O.W,"/").concat(t,".jpg)");case J.t:return"linear-gradient(rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 1) 100%), url(".concat(O.W,"/").concat(t,".jpg)");default:return"linear-gradient(167deg, rgba(68, 215, 142, 0), rgba(41, 182, 112, 0)), linear-gradient(rgba(0, 0, 0, 0.43), rgba(0, 0, 0, 0.43)), linear-gradient(141deg, #3023ae, #3ec871), url(".concat(O.W,"/").concat(t,".jpg)")}}(s,r)},y);return o&&(v=Object.assign(v,g)),E.a.createElement("div",{className:"App-cover NewCover ".concat(b),style:v,ref:function(e){t._elem=e}},m&&E.a.createElement(m,{path:p,onStatusChange:this.updateHeight,slotTargeting:f}),u&&E.a.createElement(u,{onStatusChange:this.updateHeight}),d&&E.a.createElement(Be,null),i,!h&&o&&E.a.createElement(ze,null))}}]),o}(E.a.Component);Xe.defaultProps={className:"",backgroundHash:"",isPromoted:!1,top:0,minHeight:J.l,isNavBar:!0,SCTUTargeting:{},hideNewPostNotification:!1,preventFixed:!1,useOffset:!1};var Qe=Object(b.b)(function(e,t){var n=e.gallery,r=e.ui,a=e.fastGrid,o=e.ad,i=t.backgroundType,c=t.backgroundHash,s=t.preventFixed,l=t.useOffset,u=i===J.p?(c||"").toLowerCase():n.get("streamBackgroundHash"),d={};o.getIn(["transformation","animatingIn"])&&(d={opacity:0}),o.getIn(["transformation","enabled"])&&(d={background:"linear-gradient(rgba(".concat(o.getIn(["transformation","backgroundColor"]),", 0.64), rgba(").concat(o.getIn(["transformation","backgroundColor"]),", 0.9)), url(").concat(o.getIn(["transformation","backgroundImage"]),")"),opacity:o.getIn(["transformation","animatingOut"])?0:1});var m={};return l&&(m.paddingLeft=a.get("leftOffset"),m.paddingRight=a.get("rightOffset")),{coverTop:r.cover.get("top"),coverHeight:r.cover.get("height"),isPromoted:n.get("streamIsPromoted"),backgroundHash:u,customStyle:m,transformationStyle:d,coverFixed:!s&&r.cover.get("fixed")}},{modifyCoverHeight:Ye.E,modifyCoverPosition:Ye.F})(Xe);Xe.__docgenInfo={description:"",methods:[{name:"scrollHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"calculatePositioning",docblock:null,modifiers:[],params:[{name:"position",type:null}],returns:null},{name:"updateHeight",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CoverHeader",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},backgroundHash:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},isPromoted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},top:{defaultValue:{value:"0",computed:!1},required:!1},minHeight:{defaultValue:{value:"DEFAULT_HEIGHT",computed:!0},type:{name:"number"},required:!1,description:""},isNavBar:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},SCTUTargeting:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},hideNewPostNotification:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},preventFixed:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},useOffset:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},coverTop:{type:{name:"number"},required:!1,description:""},modifyCoverHeight:{type:{name:"func"},required:!0,description:""},modifyCoverPosition:{type:{name:"func"},required:!0,description:""},coverHeight:{type:{name:"number"},required:!0,description:""},backgroundType:{type:{name:"string"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},coverFixed:{type:{name:"bool"},required:!1,description:""},updateHeightHandler:{type:{name:"func"},required:!1,description:""},Banner:{type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1,description:""},SCTU:{type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1,description:""},SCTUPath:{type:{name:"number"},required:!1,description:""},onScroll:{type:{name:"func"},required:!1,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""},customStyle:{type:{name:"object"},required:!1,description:""},leftOffset:{type:{name:"number"},required:!1,description:""},rightOffset:{type:{name:"number"},required:!1,description:""}}}},iww3:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("q1tI"),s=n.n(r),a=(n("17x9"),n("TSYQ")),l=n.n(a);n("58bT");function o(e){var t=e.name,n=e.value,r=e.toggleHandler,a=e.labelText,o=e.className,i=e.children,c=e.isDisabled;return s.a.createElement("div",{className:l()("UploadCheckbox",{isDisabled:c},o)},s.a.createElement("label",null,s.a.createElement("input",{type:"checkbox",name:t,value:"true",id:t,checked:n,onChange:r,disabled:c}),s.a.createElement("span",null)),a&&s.a.createElement("label",{htmlFor:t},a),i)}o.__docgenInfo={description:"",methods:[],displayName:"UploadCheckbox",props:{name:{type:{name:"string"},required:!0,description:""},value:{type:{name:"bool"},required:!0,description:""},toggleHandler:{type:{name:"func"},required:!0,description:""},labelText:{type:{name:"string"},required:!1,description:""},className:{type:{name:"string"},required:!0,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},isDisabled:{type:{name:"bool"},required:!1,description:""}}}},"j/yV":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("q1tI"),i=n.n(r);n("17x9"),n("/q0z");function a(e){for(var t=e.points,n=e.radius,r=360/t*Math.PI/180,a=[],o=0;o<t;o++)a.push({cx:16+(16-n)*Math.cos(r*o),cy:16+(16-n)*Math.sin(r*o)});return i.a.createElement("span",{className:"FireworkAnimate"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(32," ").concat(32),fill:"currentColor"},a.map(function(e,t){return i.a.createElement("circle",{key:"point-".concat(t),cx:e.cx,cy:e.cy,r:n})})))}a.defaultProps={points:8,radius:2},a.__docgenInfo={description:"",methods:[],displayName:"Firework",props:{points:{defaultValue:{value:"8",computed:!1},type:{name:"number"},required:!1,description:""},radius:{defaultValue:{value:"2",computed:!1},type:{name:"number"},required:!1,description:""}}}},jAEK:function(e,t,n){},"jbM+":function(e,t,n){var r=n("R/W3");e.exports=function(e,t){return!!(null==e?0:e.length)&&-1<r(e,t,0)}},jlYo:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"g",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return s}),n.d(t,"a",function(){return l});var r="active",a="scheduled",o="expired",i=1,c=3,s=4,l="Campaign not found"},kVJ9:function(e,t,n){},lQn5:function(e,t,n){"use strict";n.d(t,"a",function(){return ae});var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("PJYZ"),s=n.n(o),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("sEfC")),C=n.n(v),E=n("/MKj"),k=n("ANjH"),O=n("Ty5D"),S=n("if3o"),P=n("Bw9V"),N=n("Gk2F"),I=n("+qLk"),j=n("TSYQ"),q=n.n(j),w=n("Njrs");function D(e){var t,n=e.children,r=e.data,a=e.handleDragItem,o=e.dragEnd,i=e.className,c=q()(g()({Draggable:!0},i,!!i));return b.a.createElement("div",{ref:function(e){t=e},className:c,draggable:"true","data-transfer":JSON.stringify(r),onDragStart:function(e){e.stopPropagation();try{e.dataTransfer.setDragImage(t,-20,-20)}catch(e){}e.dataTransfer.setData("text","{}"),a()},onDragEnd:o},n)}D.defaultProps={className:""};var T=Object(E.b)(null,function(e,t){var n=t.name,r=t.data;return{handleDragItem:function(){return e(Object(w.c)({name:n,data:r}))},dragEnd:function(){return e(Object(w.d)({name:n}))}}})(D);D.__docgenInfo={description:"",methods:[],displayName:"Draggable",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},children:{type:{name:"object"},required:!0,description:""},data:{type:{name:"object"},required:!1,description:""},src:{type:{name:"string"},required:!1,description:""},name:{type:{name:"string"},required:!1,description:""},handleDragItem:{type:{name:"func"},required:!1,description:""},dropItem:{type:{name:"func"},required:!1,description:""},dragEnd:{type:{name:"func"},required:!1,description:""}}};var A=n("fKOs");function R(e){var t=e.selected,n=e.children,r=e.className,a=e.handleToggle,o=["Selectable"];return r&&o.push(r),t&&o.push("Selectable-selected"),b.a.createElement("div",{className:o.join(" "),onClick:function(e){e.shiftKey&&(e.preventDefault(),e.stopPropagation(),a())}},n)}var x=Object(E.b)(function(e,t){var n=t.name,r=t.data,a=e.selectables.get(n);return{selected:a&&a.has(r)}},function(e,t){var n=t.name,r=t.data;return{handleToggle:function(){return e(Object(A.f)({name:n,data:r}))}}})(R);R.__docgenInfo={description:"",methods:[],displayName:"Selectable",props:{data:{type:{name:"string"},required:!1,description:""},children:{type:{name:"object"},required:!0,description:""},name:{type:{name:"string"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},selected:{type:{name:"bool"},required:!1,description:""},handleToggle:{type:{name:"func"},required:!1,description:""}}};var M=n("G5ih"),F=n("f6ut"),_=n("9uSn");n("wmkP");function G(e){var t=e.checked,n=e.onToggle,r=e.withTooltip,a=b.a.createElement(F.a,{handleOnChange:n,selected:t});return b.a.createElement("div",{className:"FavoritesPostCheckbox"},r&&b.a.createElement(_.a,{text:Object(M.b)("dragDropTooltip")},a),!r&&a)}G.defaultProps={checked:!1,withTooltip:!1},G.__docgenInfo={description:"",methods:[],displayName:"FavoritesPostCheckbox",props:{checked:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},withTooltip:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onToggle:{type:{name:"func"},required:!0,description:""}}};n("FuWu");function L(e){var t=e.onClick,n=e.withTooltip,r=b.a.createElement("span",{className:"icon-trash"});return b.a.createElement("div",{className:"FavoritesPostDelete",onClick:t},n&&b.a.createElement(_.a,{text:Object(M.b)("deleteFavFromAll")},r),!n&&r)}L.defaultProps={withTooltip:!1},L.__docgenInfo={description:"",methods:[],displayName:"FavoritesPostDelete",props:{withTooltip:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onClick:{type:{name:"func"},required:!0,description:""}}};var V=n("ega+"),U=n("1Gek"),B=n("Uzvo"),W=n("Uyyq"),H=n.n(W),z=n("mpKo"),Y=n.n(z);n("wcKY");function K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function J(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function X(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Q="selectedFavorites",Z=function(e){u()(o,e);var a=X(o);function o(){var r;i()(this,o);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=a.call.apply(a,[this].concat(t)),g()(s()(r),"handlerRemoveFromFavorite",function(){var e=r.props,t=e.folderInfo,n=e.post;(0,e.removeFromFavorite)(n.id,n.isAlbum,Object(U.f)(n),t&&t.get("id"))}),g()(s()(r),"handlerToggle",function(){var e=r.props,t=e.firstTime,n=e.post;(0,e.handleToggle)(Object(U.f)(n),t)}),r}return c()(o,[{key:"render",value:function(){var e=this.props,t=e.post,n=e.folderInfo,r=e.firstTime,a=e.selectables,o=e.isOwner,i=e.username;if(!n)return null;var c=Object(U.f)(t),s=n&&n.get("id"),l="".concat(Object(U.a)(n.toJS(),o,i),"/").concat(t.id),u=a&&1<a.size,d=a&&a.has(c),m=r&&s===S.a,p=J(J({},this.props),{},{post:Object.assign(t,{href:l})});if(!o)return b.a.createElement(V.b,p);var f=q()({FavoritesPost:!0,isSelected:d});return b.a.createElement("div",{className:f},b.a.createElement(T,{className:"FavoritesPost-draggable",name:"favorites",src:u?Y.a:H.a,data:{selectableName:Q,id:c}},b.a.createElement(x,{name:Q,className:"FavoritesPost-selectable",data:c},b.a.createElement(V.b,J(J({},p),{},{usePrivacy:!t.inGallery})))),b.a.createElement(L,{withTooltip:m,onClick:this.handlerRemoveFromFavorite}),b.a.createElement(G,{onToggle:this.handlerToggle,checked:d,withTooltip:m}))}}]),o}(y.Component);Z.defaultProps={className:""},Z.__docgenInfo={description:"",methods:[{name:"handlerRemoveFromFavorite",docblock:null,modifiers:[],params:[],returns:null},{name:"handlerToggle",docblock:null,modifiers:[],params:[],returns:null}],displayName:"FavoritesPost",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},post:{type:{name:"object"},required:!0,description:""},isOwner:{type:{name:"bool"},required:!1,description:""},folderInfo:{type:{name:"object"},required:!1,description:""},firstTime:{type:{name:"bool"},required:!0,description:""},username:{type:{name:"string"},required:!1,description:""},selectables:{type:{name:"object"},required:!1,description:""},removeFromFavorite:{type:{name:"func"},required:!0,description:""},handleToggle:{type:{name:"func"},required:!0,description:""}}};var $=Object(B.a)(Object(k.d)(O.h,Object(E.b)(function(e,t){var n=e.user,r=e.account,a=e.favorites,o=e.selectables,i=t.match,c=(i.params.username||"").toLowerCase(),s=parseInt(i.params.id||S.a,10),l=r.getIn(["accounts",c]),u=l?l.get("username"):null;return{isOwner:n.get("username")===u,folderInfo:a.getIn(["folders",s]),firstTime:!a.get("hasUsedFavoriteFolders"),username:c,selectables:o.get(Q)}},function(o,e){var i=e.link;return{removeFromFavorite:function(e,t,n,r){var a={id:e,isAlbum:t};r===S.a?o(Object(N.w)(a)):o(Object(N.v)({id:r,link:i,faves:[n]})),o(Object(P.O)([a]))},handleToggle:function(e,t){o(Object(A.f)({name:Q,data:e})),t&&o(Object(N.y)())}}}))(Z));n("1POK");function ee(e){var t=e.id,n=e.isOwner,r=Object(M.b)("noFavoritesToShow");return n&&(r=Object(M.b)("noFavoritesOfMine"),t!==S.a&&(r=Object(M.b)("noFavoritesInFolderOfMine"))),b.a.createElement("div",{className:"ProfileFavoritesEmpty"},r)}function te(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?te(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function re(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function ae(){var n=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return function(t){var e=function(e){u()(o,e);var a=re(o);function o(){var n;i()(this,o);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=a.call.apply(a,[this].concat(t)),g()(s()(n),"moreDataFetch",C()(function(){n.props.hasMore&&n.fetchGallery(ne(ne({},n.props),{},{insertionModifier:P.a}))},I.o,{leading:!0,trailing:!1})),g()(s()(n),"dataFetch",function(e){n.props.cleanupGallery(),n.fetchGallery(ne(ne({},e),{},{insertionModifier:P.o,streamPage:0}))}),g()(s()(n),"fetchGallery",function(e){if(!n.props.isFetching){var t=e||n.props;n.props.fetchGallery(t.folderId,t.streamPage,t.streamSort,t.streamOrganized,t.insertionModifier)}}),g()(s()(n),"getEmptyRow",function(){return b.a.createElement(ee,{isOwner:n.props.isOwner})}),n}return c()(o,[{key:"componentDidMount",value:function(){n&&this.props.isFoldersFetched&&this.dataFetch(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.folderId,r=t.streamOrganized,a=t.streamSort,o=t.isFoldersFetched;return n&&n!==e.folderId?this.dataFetch(this.props):o&&!e.isFoldersFetched?this.dataFetch(this.props):r&&r!==e.streamOrganized?this.dataFetch(this.props):a&&a!==e.streamSort?this.dataFetch(this.props):void 0}},{key:"render",value:function(){return b.a.createElement(t,{Child:$,moreDataFetch:this.moreDataFetch,emptyRow:this.getEmptyRow})}}]),o}(b.a.Component);return e.defaultProps={folderId:S.a},e.displayName="WithFavoritesData(".concat(function(e){return e.displayName||e.name||"Component"}(t),")"),Object(k.d)(O.h,Object(E.b)(function(e,t){var n=e.favorites,r=e.gallery,a=t.match,o=Number.parseInt(a.params.id||S.a,10);return{streamSort:n.get("sort"),streamPage:Number.parseInt(n.get("page")||0,10),streamOrganized:n.get("organized"),isFoldersFetched:n.get("isFoldersFetched"),isFetching:r.get("isFetching"),hasMore:r.get("hasMore"),folderId:o}},function(l,e){var u=e.username,d=e.isOwner,m=e.isLoggedIn;return{fetchGallery:function(e,t,n,r,a){var o=1<arguments.length&&void 0!==t?t:0,i=2<arguments.length&&void 0!==n?n:S.d,c=3<arguments.length&&void 0!==r?r:S.l,s=4<arguments.length?a:void 0;return l(0<=e?Object(N.p)({username:u,id:e,isOwner:d,page:o,sort:i,insertionModifier:s,isAuthed:m}):d?Object(N.o)({username:u,page:o,sort:i,organized:c,insertionModifier:s,isAuthed:m}):Object(N.r)({username:u,page:o,sort:i,insertionModifier:s,isAuthed:m}))},cleanupGallery:function(){return l(Object(P.u)())}}}))(e)}}ee.defaultProps={isOwner:!1},ee.__docgenInfo={description:"",methods:[],displayName:"ProfileFavoritesEmpty",props:{isOwner:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},id:{type:{name:"number"},required:!1,description:""}}}},"m+bm":function(e,t,n){},mky3:function(e,t,n){},moYt:function(e,t,n){var r=n("dt0z");e.exports=function(e){return r(e).toUpperCase()}},mpKo:function(e,t,n){e.exports=n.p+"desktop-assets/multi-drag.c600d4c73980a8f8fb9f06a3d290bb2b.png"},"n/mK":function(e,t,n){"use strict";var r=n("pVnL"),s=n.n(r),a=n("QILm"),l=n.n(a),o=n("q1tI"),u=n.n(o),i=(n("17x9"),n("/MKj")),d=n("55Ip"),m=n("GB65");function c(e){var t=e.innerRef,n=e.to,r=(e.isLoggedIn,e.isPostPageBeta),a=e.children,o=(e.dispatch,e.isExternalAd),i=e.state,c=l()(e,["innerRef","to","isLoggedIn","isPostPageBeta","children","dispatch","isExternalAd","state"]);return r&&!o?u.a.createElement(d.a,s()({draggable:"false",to:{pathname:Object(m.kb)(n),state:i},ref:t},c),a):u.a.createElement("a",s()({draggable:"false",href:n,ref:t},c),a)}c.defaultProps={state:{}};c.__docgenInfo={description:"",methods:[],displayName:"PostLinkComponent",props:{state:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},innerRef:{type:{name:"object"},required:!1,description:""},to:{type:{name:"string"},required:!0,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},isPostPageBeta:{type:{name:"bool"},required:!1,description:""},children:{type:{name:"node"},required:!0,description:""},dispatch:{type:{name:"func"},required:!0,description:""},isExternalAd:{type:{name:"bool"},required:!1,description:""}}},t.a=Object(i.b)(function(e){var t=e.user;return{isLoggedIn:t.get("isLoggedIn"),isPostPageBeta:t.get("flags").get("desktopPostPageBeta")}})(c)},nAF4:function(e,t,n){},nFdL:function(e,t,n){},naFI:function(e,t,n){e.exports=n.p+"desktop-assets/b2.8b9e5b2c5f0b610eb10ef24ece1539cd.svg"},neJP:function(e,t,n){},nswd:function(e,t,n){},"o+s0":function(e,t,n){},o9hv:function(e,t,n){},oAby:function(e,t,n){},oG7g:function(e,t,n){},oJUB:function(e,t,n){},oSho:function(e,t,n){},oYpj:function(e,t,n){},pQSO:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n("pVnL"),i=n.n(r),a=n("QILm"),c=n.n(a),o=n("q1tI"),s=n.n(o),l=(n("17x9"),n("TSYQ")),u=n.n(l),d=n("BWa0");n("kVJ9");function m(e){var t=e.selected,n=void 0!==t&&t,r=c()(e,["selected"]),a=u()({Favorite:!0,"Favorite--selected":n}),o={height:"32",width:"32",fillColor:"none",strokeColor:"#ffffff"};return s.a.createElement(d.hb,i()({className:a,name:d.r},o,r))}m.__docgenInfo={description:"",methods:[],displayName:"Favorite",props:{selected:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""}}}},pR6v:function(e,t,n){"use strict";n.r(t),n.d(t,"HiddenAlbum",function(){return m}),n.d(t,"HiddenImage",function(){return p});var r=n("/MKj"),a=n("fdoY"),o=n("ErBw"),i=n("/PhX"),c=n("2c7z"),s=n("76Z7"),l=n("WSv3"),u=n("Ogr3"),d=n("Pom+"),m=Object(r.b)(d.b,{retrievePostAction:a.Bb,retrievePostMetaAction:a.Fb,retrievePromotedPostAction:a.Db,resetPostDataAction:a.yb,updateViewportHeightAction:s.c,updateGalleryContentWrapperWidth:i.M,goToNextPostAction:a.fb,goToPreviousPostAction:a.gb,newPostAction:a.jb,promotedPostViewAction:a.rb,reachedBottom:a.tb,toggleAudioState:c.f,postpageBetaOptOutAction:l.Q,setTransformationAction:o.H,updateAdConfigAction:o.J})(d.a),p=Object(r.b)(d.b,{retrievePostAction:a.Cb,retrievePostMetaAction:a.Fb,retrievePromotedPostAction:a.Db,resetPostDataAction:a.yb,updateViewportHeightAction:s.c,updateGalleryContentWrapperWidth:i.M,goToNextPostAction:a.fb,goToPreviousPostAction:a.gb,newPostAction:a.jb,promotedPostViewAction:a.rb,reachedBottom:a.tb,toggleAudioState:c.f,postpageBetaOptOutAction:l.Q,setTransformationAction:o.H,toastError:u.d,updateAdConfigAction:o.J})(d.a)},pV1z:function(e,t,n){"use strict";n.d(t,"b",function(){return w}),n.d(t,"a",function(){return D});var r=n("J4zp"),p=n.n(r),f=n("q1tI"),h=n.n(f),a=(n("17x9"),n("lwsE")),o=n.n(a),i=n("W8MJ"),c=n.n(i),s=n("PJYZ"),l=n.n(s),u=n("7W2i"),d=n.n(u),m=n("a1gu"),g=n.n(m),y=n("Nsbk"),b=n.n(y),v=n("lSNA"),C=n.n(v),E=n("TSYQ"),k=n.n(E),O=n("Y+p1"),S=n.n(O),P=n("9Jdl"),N=n("Y22u"),I=n("9AGa");function j(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=b()(r);if(a){var n=b()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g()(this,e)}}var q=function(e){d()(a,e);var r=j(a);function a(e){var t;o()(this,a),t=r.call(this,e),C()(l()(t),"refreshTimer",null),C()(l()(t),"refreshFrequency",15e3),C()(l()(t),"slotRef",Object(f.createRef)()),C()(l()(t),"isDesktop",function(e){return P.u.includes(e)});var n=t.isDesktop(t.getFormatId());return t.state={renderTime:Date.now()},I.a.init(n?P.r:P.p),t}return c()(a,[{key:"componentDidMount",value:function(){var t=this,e=this.props.refresh;this.displayAd(),e&&(this.refreshTimer=setInterval(function(){var e=t.slotRef.current.getBoundingClientRect().height/2;Object(N.c)(t.slotRef.current,e)&&t.displayAd()},this.refreshFrequency))}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshTimer)}},{key:"shouldComponentUpdate",value:function(e){return!S()(e,this.props)}},{key:"componentDidUpdate",value:function(){this.displayAd()}},{key:"getFormatId",value:function(){return this.props.formatId}},{key:"getSlotId",value:function(){var e=this.state.renderTime;return"sas_".concat(this.getFormatId(),"_").concat(e)}},{key:"getSize",value:function(){var e=this.getFormatId();return P.D[e]?P.D[e]:P.g[e]}},{key:"displayAd",value:function(){function e(e){window.postMessage("adLoaded:".concat(t.getSlotId()),"*"),r&&r(e)}var t=this,n=this.props,r=n.callback,a=n.targeting,o=n.slotTargeting,i=this.getFormatId(),c={code:"".concat(i),slotID:this.getSlotId(),formatId:i,targeting:a,slotTargeting:o,sizes:this.getSize()};I.a.requestBids([c],function(){I.a.renderIframe(t.getSlotId(),t.getFormatId(),e)})}},{key:"render",value:function(){var e=this.props.className,t=k()(C()({Ad:!0,sas:!0},e,!0));return h.a.createElement("div",{ref:this.slotRef,className:t,id:this.getSlotId()})}}]),a}(f.Component);function w(e){var t=e&&!e.isEmpty()&&e.toJS();return!(!t||!t.showsAds)}function D(e){var t=e.path,n=e.postAdConfig,r=e.children,a=e.forceSafe,o=e.callback,i=e.nsfaRender,c=e.lockDecision,s=Object(f.useState)(!a&&!w(n)),l=p()(s,2),u=l[0],d=l[1];if(Object(f.useEffect)(function(){c||d(!a&&!w(n))},[]),null===u)return null;if(u){var m=n&&n.get("wallFlags");return m&&0<m.size?null:i?i(h.a.createElement(q,{formatId:t,callback:o,refresh:!0})):h.a.createElement(q,{formatId:t,callback:o,refresh:!0})}return r(t)}q.defaultProps={targeting:{},slotTargeting:{},refresh:!1},q.__docgenInfo={description:"",methods:[{name:"isDesktop",docblock:"Determine desktop or mWeb\n@param {int} formatId - smart format id\n@returns {boolean}",modifiers:[],params:[{name:"formatId",description:"smart format id",type:{name:"int"},optional:!1}],returns:{description:null,type:{name:"boolean"}},description:"Determine desktop or mWeb"},{name:"getFormatId",docblock:null,modifiers:[],params:[],returns:null},{name:"getSlotId",docblock:null,modifiers:[],params:[],returns:null},{name:"getSize",docblock:null,modifiers:[],params:[],returns:null},{name:"displayAd",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Assembly",props:{targeting:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},slotTargeting:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},refresh:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},formatId:{type:{name:"number"},required:!0,description:""},callback:{type:{name:"func"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""}}},D.__docgenInfo={description:"AdSafetySwitch controls post level ad properties and logic",methods:[],displayName:"AdSafetySwitch",props:{path:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""},postAdConfig:{type:{name:"object"},required:!1,description:""},children:{type:{name:"func"},required:!1,description:""},forceSafe:{type:{name:"bool"},required:!1,description:""},nsfaRender:{type:{name:"func"},required:!1,description:""},callback:{type:{name:"func"},required:!1,description:""},lockDecision:{type:{name:"bool"},required:!1,description:""}}}},pxaO:function(e,t,n){},q8cC:function(e,t,n){},qAYT:function(e,t,n){},qMU6:function(e,t,n){},qhsG:function(e,t,n){},r9xK:function(e,t,n){e.exports=n.p+"desktop-assets/s2.dd85daa2582e347fdab35ad5a8e74dca.svg"},rbYx:function(e,t,n){},rlD7:function(e,t,n){},rvyR:function(e,t,n){},sQc6:function(e,t,n){},sUKj:function(e,t,n){},sWSo:function(e,t,n){"use strict";n.d(t,"c",function(){return H}),n.d(t,"e",function(){return z}),n.d(t,"a",function(){return Y}),n.d(t,"b",function(){return K});var r=n("lwsE"),c=n.n(r),a=n("W8MJ"),s=n.n(a),o=n("PJYZ"),l=n.n(o),i=n("7W2i"),u=n.n(i),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("ANjH")),C=n("/MKj"),E=n("sEfC"),k=n.n(E),O=n("zXN+"),S=n("wL9V"),P=n("N9yH"),N=n("vuO0"),I=n("Bw9V"),j=n("+qLk"),q=n("ega+"),w=n("5zAP"),D=n("hWib");function T(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var A=n("cF8P"),R=n("DUmG"),x=n.n(R);n("9DFJ");function M(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function F(e){var t=e.item;return b.a.createElement("div",{key:t.id,className:"PostWrapper",style:{height:t.size,background:"linear-gradient(".concat(t.colorLoading,", ").concat(x.a.$voyagerDarkGrey,")")}})}var _=function(e){u()(n,e);var t=M(n);function n(){return c()(this,n),t.apply(this,arguments)}return s()(n,[{key:"shouldComponentUpdate",value:function(e){return e.version!==this.props.version}},{key:"render",value:function(){var n=this,e=this.props,t=e.column,r=e.hasMargin,a=e.Child,o={width:A.c},i="Grid-column".concat("".concat(r?" hasMargin":""));return b.a.createElement("div",{style:o,className:i},t.getItems().map(function(e,t){return e.isInview?b.a.createElement("div",{key:"".concat(e.id,"-").concat(t),style:{height:e.size,marginBottom:16,position:"relative",zIndex:e.isActiveInteraction?2:1}},b.a.createElement(a,{id:e.id,width:A.c,height:e.size,colorLoading:e.colorLoading,isViewPort:e.isViewPort,isDeleted:e.isDeleted,streamSection:n.props.streamSection,streamParam:n.props.streamParam,navigationTrigger:n.props.navigationTrigger,navigationDirection:n.props.navigationDirection,location:n.props.location,sendToTop:n.props.sendToTop})):b.a.createElement(F,{key:e.id,item:e})}))}}]),n}(b.a.Component);_.__docgenInfo={description:"",methods:[],displayName:"FastColumn",props:{column:{type:{name:"object"},required:!0,description:""},version:{type:{name:"number"},required:!0,description:""},hasMargin:{type:{name:"bool"},required:!1,description:""},Child:{type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!0,description:""},streamSection:{type:{name:"string"},required:!0,description:""},streamParam:{type:{name:"string"},required:!1,description:""},navigationTrigger:{type:{name:"string"},required:!1,description:""},navigationDirection:{type:{name:"string"},required:!1,description:""},location:{type:{name:"string"},required:!1,description:""},sendToTop:{type:{name:"bool"},required:!1,description:""}}};var G=n("Y22u"),L=n("GB65"),V=n("G5ih");n("LbAz");function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function W(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var H=function(e){u()(r,e);var n=W(r);function r(e){var t;return c()(this,r),t=n.call(this,e),g()(l()(t),"inViewHandler",k()(function(){t.setState({inView:Object(G.a)(t.grid.current)})},200)),g()(l()(t),"resizeHandler",k()(function(){t.grid.current&&t.props.updateGridOffsetAction(t.grid.current.offsetTop)},200)),t.grid=b.a.createRef(),t.state={inView:!1},t}return s()(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.mountGrid,n=e.columnsCount,r=e.modifyDisplayState;t({width:e.viewPortWidth,viewUniform:e.shouldViewUniform,height:Object(L.u)(),topOffset:this.grid.current?this.grid.current.offsetTop+this.props.coverHeight:this.props.coverHeight}),0<n&&r({contentWidth:Object(O.a)(n)}),Object(L.c)("scroll",this.inViewHandler),Object(L.c)("resize",this.resizeHandler)}},{key:"componentDidUpdate",value:function(e,t){if(e.columnsCount!==this.props.columnsCount&&this.props.modifyDisplayState({contentWidth:Object(O.a)(this.props.columnsCount)}),e.positionY!==this.props.positionY&&0<this.props.columns.length&&e.version!==this.props.version){var n=this.props.columns[0].getSize();this.props.topOffset+n-this.props.positionY<Object(L.u)()*A.i&&this.props.moreDataFetch()}e.coverHeight!==this.props.coverHeight&&this.grid.current&&this.props.updateGridOffsetAction(this.grid.current.offsetTop),!t.inView&&this.state.inView&&this.grid.current&&this.props.updateGridOffsetAction(this.grid.current.offsetTop)}},{key:"shouldComponentUpdate",value:function(e,t){return e.version!==this.props.version||(e.isFetching!==this.props.isFetching||(e.coverHeight!==this.props.coverHeight||t.inView!==this.state.inView))}},{key:"componentWillUnmount",value:function(){this.props.unmountGrid(),Object(L.nb)("scroll",this.inViewHandler),Object(L.nb)("resize",this.resizeHandler)}},{key:"render",value:function(){var n=this,e=this.props,t=e.viewUniform,r=e.columns,a=e.isFetching,o=e.fetchError,i=e.posts,c=e.version,s=e.Child,l=e.emptyRow,u=e.coverHeight,d=e.customStyle;if(0===r.length)return null;var m="FastGrid".concat(t?" uniform":""),p=B({marginTop:u-A.k,width:Object(O.a)(r.length)},d);if(o&&0===i.size)return b.a.createElement("h1",{className:"FastGrid-Error",style:p},Object(V.b)("explanationGeneric")," ",Object(V.b)("suggestionGeneric"));if(0===i.size&&!a&&l)return l();var f=r.slice().sort(function(e,t){return e.getId().slice(-1)-t.getId().slice(-1)});return b.a.createElement("div",{ref:this.grid,className:m,style:p},f.map(function(e,t){return b.a.createElement(_,{key:e.getId(),column:e,version:10*c+e.version,hasMargin:0!==t,Child:s,streamSection:n.props.streamSection,streamParam:n.props.streamParam,navigationTrigger:n.props.navigationTrigger,navigationDirection:n.props.navigationDirection,location:n.props.location,sendToTop:n.props.sendToTop})}))}}]),r}(b.a.Component);function z(e,t){var n=e.gallery,r=e.fastGrid,a=e.display,o=e.posts,i=e.ui,c=t.useOffset,s={};return c&&(s.marginLeft=r.get("leftOffset"),s.marginRight=r.get("rightOffset")),{columns:r.get("columns"),version:r.get("version"),gridWidth:r.get("width"),topOffset:r.get("topOffset"),positionY:a.get("positionY"),columnsCount:r.get("columns").length,viewUniform:r.get("viewUniform"),shouldViewUniform:n.get("viewUniform"),isFetching:n.get("isFetching"),viewPortWidth:a.get("viewPort").get("width"),fetchError:n.get("fetchError"),posts:o.get("posts"),coverHeight:i.cover.get("height"),customStyle:s,useOffset:c}}H.defaultProps={useOffset:!1};var Y=Object(v.d)(function(e,t,n){var r=!(0<arguments.length&&void 0!==e)||e,o=!(1<arguments.length&&void 0!==t)||t,i=!(2<arguments.length&&void 0!==n)||n;return function(a){var e=function(e){u()(n,e);var t=T(n);function n(e){var r;return c()(this,n),r=t.call(this,e),g()(l()(r),"initialDataFetch",function(e){var t=e.streamParam;r.fetchGallery(t,0,I.g),r.setState({nextPage:1,endOfStream:!1})}),g()(l()(r),"moreDataFetch",function(){var e=r.props.streamParam,t=r.state,n=t.nextPage;t.endOfStream||(r.fetchGallery(e,n,I.a),r.setState({nextPage:n+1}))}),g()(l()(r),"replaceDataFetch",function(e){var t=e.streamParam;r.fetchGallery(t,0,I.o),r.setState({nextPage:1,endOfStream:!1})}),g()(l()(r),"fetchGallery",k()(function(e,t,n){r.props.isFetching||r.props.fetchGallery(e,t,n)},j.o,{leading:!0,trailing:!1})),g()(l()(r),"renderWithSpinner",function(){return b.a.createElement(w.b,{isLoading:r.props.isFetching,isScrollSpinner:0<r.props.postCount},b.a.createElement(a,{Child:q.c,moreDataFetch:r.moreDataFetch,streamSection:r.props.streamSection,streamParam:r.props.streamParam,navigationTrigger:r.props.navigationTrigger,navigationDirection:r.props.navigationDirection,location:r.props.location,sendToTop:r.props.sendToTop,useOffset:r.props.useOffset}))}),g()(l()(r),"renderWithoutSpinner",function(){return b.a.createElement(a,{Child:q.c,moreDataFetch:r.moreDataFetch,streamSection:r.props.streamSection,streamParam:r.props.streamParam,navigationTrigger:r.props.navigationTrigger,navigationDirection:r.props.navigationDirection,location:r.props.location,sendToTop:r.props.sendToTop,useOffset:r.props.useOffset})}),r.state={nextPage:0,endOfStream:!1},r}return s()(n,[{key:"componentDidMount",value:function(){r&&this.props.isInitialized&&this.props.cleanupGallery()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isInitialized,r=t.streamParam,a=t.postCount,o=t.isFetching;return n&&!e.isInitialized?(this.props.galleryPostRendererReady(),void this.initialDataFetch(this.props)):r&&e.streamParam&&r!==e.streamParam?this.replaceDataFetch(this.props):void(e.postCount===a&&!0===e.isFetching&&!1===o&&this.setState({endOfStream:!0}))}},{key:"render",value:function(){var e=this.props.failedFetchAttempts;return b.a.createElement(D.a,{action:this.fetchGallery,retries:e},o?this.renderWithSpinner():this.renderWithoutSpinner())}}]),n}(b.a.Component);return e.displayName="WithRecircData(".concat(function(e){return e.displayName||e.name||"Component"}(a),")"),Object(C.b)(function(e){var t=e.gallery,n=e.posts;return{isFetching:t.get("isFetching"),fetchError:t.get("fetchError"),insertionModifier:t.get("insertionModifier"),isInitialized:t.get("isInitialized"),failedFetchAttempts:t.get("failedFetchAttempts"),postCount:n.get("recircPosts").size}},function(r,e){var a=e.recircFetcher,o=e.displayAnalytics;return{fetchGallery:function(e,t,n){r(Object(I.H)({isFetching:!0})),r(a(e,t,n)),0===t&&o&&o()},galleryPostRendererReady:function(){return r(Object(I.E)(i))},cleanupGallery:function(){return r(Object(I.v)())}}})(e)}}(),Object(C.b)(function(e,t){return B(B({},z(e,t)),{},{posts:e.posts.get("recircPosts"),streamSection:t.streamSection,streamParam:t.streamParam})},{modifyDisplayState:S.f,mountGrid:P.g,unmountGrid:P.i,updateGridOffsetAction:P.j}))(H),K=Object(v.d)(Object(N.a)(!1),Object(C.b)(z,{modifyDisplayState:S.f,mountGrid:P.g,unmountGrid:P.i,updateGridOffsetAction:P.j}))(H);H.__docgenInfo={description:"",methods:[],displayName:"FastGrid",props:{useOffset:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},moreDataFetch:{type:{name:"func"},required:!0,description:""},streamSection:{type:{name:"string"},required:!0,description:""},streamParam:{type:{name:"string"},required:!1,description:""},mountGrid:{type:{name:"func"},required:!0,description:""},unmountGrid:{type:{name:"func"},required:!0,description:""},modifyDisplayState:{type:{name:"func"},required:!0,description:""},topOffset:{type:{name:"number"},required:!0,description:""},positionY:{type:{name:"number"},required:!0,description:""},viewUniform:{type:{name:"bool"},required:!0,description:""},shouldViewUniform:{type:{name:"bool"},required:!0,description:""},isFetching:{type:{name:"bool"},required:!0,description:""},columns:{type:{name:"instanceOf",value:"Object"},required:!0,description:""},version:{type:{name:"number"},required:!0,description:""},columnsCount:{type:{name:"number"},required:!0,description:""},gridWidth:{type:{name:"number"},required:!0,description:""},viewPortWidth:{type:{name:"number"},required:!0,description:""},fetchError:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},posts:{type:{name:"instanceOf",value:"Object"},required:!0,description:""},Child:{type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!0,description:""},emptyRow:{type:{name:"func"},required:!1,description:""},coverHeight:{type:{name:"number"},required:!0,description:""},updateGridOffsetAction:{type:{name:"func"},required:!0,description:""},navigationTrigger:{type:{name:"string"},required:!1,description:""},navigationDirection:{type:{name:"string"},required:!1,description:""},location:{type:{name:"string"},required:!1,description:""},sendToTop:{type:{name:"bool"},required:!1,description:""},customStyle:{type:{name:"object"},required:!1,description:""}}};t.d=Object(v.d)(Object(N.a)(),Object(C.b)(z,{modifyDisplayState:S.f,mountGrid:P.g,unmountGrid:P.i,updateGridOffsetAction:P.j}))(H)},uFEW:function(e,t,n){e.exports=n.p+"desktop-assets/b1.606f828f35a1cbfa3829dcafa2635c36.svg"},"vN+2":function(e,t){e.exports=function(){}},vuO0:function(e,t,n){"use strict";n.d(t,"a",function(){return D});var r=n("lwsE"),c=n.n(r),a=n("W8MJ"),s=n.n(a),o=n("PJYZ"),l=n.n(o),i=n("7W2i"),u=n.n(i),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("sEfC"),E=n.n(C),k=n("Bw9V"),O=n("enaV"),S=n("+qLk"),P=n("ega+"),N=n("5zAP"),I=n("hWib");function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function w(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function D(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return function(i){var e=function(e){u()(o,e);var a=w(o);function o(){var n;c()(this,o);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=a.call.apply(a,[this].concat(t)),g()(l()(n),"initialDataFetch",function(e){n.fetchGallery(q(q({},e||n.props),{},{streamPage:0,insertionModifier:k.g}))}),g()(l()(n),"moreDataFetch",function(){n.fetchGallery(q(q({},n.props),{},{insertionModifier:k.a}))}),g()(l()(n),"replaceDataFetch",function(e){n.fetchGallery(q(q({},e),{},{streamPage:0,insertionModifier:k.o}))}),g()(l()(n),"fetchGallery",E()(function(e){if(!n.props.isFetching){var t=e||n.props;n.props.fetchGallery(t.streamSection,t.streamParam,t.streamWindow,t.streamPage,t.streamSort,t.isPromoted,t.insertionModifier,t.isPostPageBeta,t.location)}},S.o,{leading:!0,trailing:!1})),g()(l()(n),"renderWithSpinner",function(){return b.a.createElement(N.b,{isLoading:n.props.isFetching,isScrollSpinner:n.props.hasPosts},b.a.createElement(i,{Child:P.d,moreDataFetch:n.moreDataFetch,streamSection:n.props.streamSection,navigationTrigger:n.props.navigationTrigger,navigationDirection:n.props.navigationDirection,location:n.props.location,sendToTop:n.props.sendToTop,useOffset:n.props.useOffset}))}),g()(l()(n),"renderWithoutSpinner",function(){return b.a.createElement(i,{Child:P.d,moreDataFetch:n.moreDataFetch,streamSection:n.props.streamSection,navigationTrigger:n.props.navigationTrigger,navigationDirection:n.props.navigationDirection,location:n.props.location,sendToTop:n.props.sendToTop,useOffset:n.props.useOffset})}),n}return s()(o,[{key:"componentDidMount",value:function(){t&&(this.props.isInitialized?this.props.cleanupGallery():this.props.setGalleryParams())}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isInitialized,r=t.streamParam,a=t.streamSection,o=t.streamSort,i=t.streamWindow;if(n||!e.isInitialized)return n&&!e.isInitialized?(this.props.galleryPostRendererReady(),void this.initialDataFetch(this.props)):r&&e.streamParam&&r!==e.streamParam?this.replaceDataFetch(this.props):a&&e.streamSection&&a!==e.streamSection?this.replaceDataFetch(this.props):o&&e.streamSort&&o!==e.streamSort?this.replaceDataFetch(this.props):i&&e.streamWindow&&i!==e.streamWindow?this.replaceDataFetch(this.props):void 0;this.props.setGalleryParams()}},{key:"render",value:function(){var e=this.props.failedFetchAttempts;return b.a.createElement(I.a,{action:this.fetchGallery,retries:e},n?this.renderWithSpinner():this.renderWithoutSpinner())}}]),o}(b.a.Component);return e.displayName="WithGalleryData(".concat(function(e){return e.displayName||e.name||"Component"}(i),")"),Object(v.b)(function(e){var t=e.gallery,n=e.posts,r=e.user;return{streamSection:t.get("streamSection"),streamSort:t.get("streamSort"),streamPage:t.get("streamPage"),streamParam:t.get("streamParam"),streamWindow:t.get("streamWindow"),isFetching:t.get("isFetching"),isPromoted:t.get("streamIsPromoted"),fetchError:t.get("fetchError"),insertionModifier:t.get("insertionModifier"),isInitialized:t.get("isInitialized"),failedFetchAttempts:t.get("failedFetchAttempts"),hasPosts:0<n.get("posts").size,isPostPageBeta:r.get("flags").get("desktopPostPageBeta")}},function(u,d){return{fetchGallery:function(e,t,n,r,a,o,i,c,s){var l=d.displayAnalytics;u(Object(k.H)({isFetching:!0})),u(Object(O.a)({gallery:e,param:t,streamWindow:n,page:r,sort:a,isPromoted:o,insertionModifier:i,isPostPageBeta:c,location:s})),0===r&&l&&l()},galleryPostRendererReady:function(){return u(Object(k.E)(r))},cleanupGallery:function(){return u(Object(k.u)())}}})(e)}}},w1ny:function(e,t,n){},w8Sv:function(e,t,n){"use strict";n.d(t,"a",function(){return E});var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("7W2i"),s=n.n(c),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),m=n.n(d),p=n("pVnL"),f=n.n(p),h=n("q1tI"),g=n.n(h),y=(n("17x9"),n("/MKj")),b=n("UX+T");n("QFwP");function v(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=m()(r);if(a){var n=m()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u()(this,e)}}function C(e){var t=e.statuses;return t.length?g.a.createElement("div",{className:"StatusList"},t.map(function(e){return g.a.createElement(O,f()({key:e.id},e))})):null}var E=Object(y.b)(function(e){return{statuses:e.status?e.status.get("status").filter(function(e){return e.get("active")}).valueSeq().toJS():[]}})(C);var k=function(e){s()(n,e);var t=v(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.animationDelay;setTimeout(function(){(0,e.props.handleClearStatus)()},t+3e3)}},{key:"render",value:function(){return g.a.createElement(S,this.props)}}]),n}(h.Component);k.defaultProps={animationDelay:0};var O=Object(y.b)(null,function(e,t){var n=t.id;return{handleClearStatus:function(){return e(Object(b.f)({id:n}))}}})(k);function S(e){var t=e.type,n=e.message,r=e.handleClearStatus,a=e.animationDelay;return g.a.createElement("div",{className:"Status Status-".concat(t),onClick:r,style:{animationDelay:"".concat(a,"ms")}},g.a.createElement("div",{className:"Status-container",dangerouslySetInnerHTML:{__html:n}}))}C.__docgenInfo={description:"",methods:[],displayName:"StatusListContainer",props:{statuses:{type:{name:"array"},required:!(S.defaultProps={animationDelay:0}),description:""}}},k.__docgenInfo={description:"",methods:[],displayName:"StatusContainer",props:{animationDelay:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},statusType:{type:{name:"string"},required:!1,description:""},message:{type:{name:"string"},required:!1,description:""},id:{type:{name:"number"},required:!1,description:""},handleClearStatus:{type:{name:"func"},required:!1,description:""}}},S.__docgenInfo={description:"",methods:[],displayName:"Status",props:{animationDelay:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},type:{type:{name:"string"},required:!1,description:""},message:{type:{name:"string"},required:!1,description:""},id:{type:{name:"number"},required:!1,description:""},handleClearStatus:{type:{name:"func"},required:!1,description:""}}}},wMLv:function(e,t,n){},"wT/c":function(e,t,n){},wZPJ:function(e,t,n){},wcKY:function(e,t,n){},wmkP:function(e,t,n){},xbNk:function(e,t,n){"use strict";n.d(t,"a",function(){return w});var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("wAdX"),E=n("7oyi"),k=n("/PhX"),O=n("p5w4"),S=n("G5ih"),P=(n("ghid"),n("Nm7g")),N=n("TSYQ"),I=n.n(N),j=n("pNV7");function q(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}n.d(t,"b",function(){return O.d}),n.d(t,"c",function(){return O.e});var w="report",D=function(e){u()(n,e);var t=q(n);function n(e){var c;return a()(this,n),c=t.call(this,e),g()(s()(c),"handleClose",function(){c.setState({reason:null,reasonDetail:null},function(){return c.props.close()})}),g()(s()(c),"handleReport",function(){var e=c.props,t=e.type,n=e.submit,r=e.id,a=e.reportedComments,o=e.reportedPosts;if(null!==c.state.reason){var i=t===O.d?a:o;n(t,r,c.state.reason,c.state.reasonDetail,i),c.setState({reason:null,reasonDetail:null})}}),g()(s()(c),"handleChoose",function(e){c.setState({reason:e})}),g()(s()(c),"handleDescription",function(e){var t=e;c.state.showDescription===e&&(t=null),c.setState({showDescription:t})}),g()(s()(c),"onChange",function(e){var t=c.state.value,n=e?e.target.value:t,r=Object(P.a)(n);c.setState({characterCount:r,reasonDetail:n})}),c.state={reason:e.isMature?-1:null,reasonDetail:null,showDescription:e.isMature?-1:null,value:"",characterCount:0,maxChars:140},c}return i()(n,[{key:"componentDidUpdate",value:function(e){e.isMature!==this.props.isMature&&this.setState({reason:this.props.isMature?-1:null,showDescription:this.props.isMature?-1:null})}},{key:"render",value:function(){var t=this,e=this.props,n=e.type,r=e.isMature,a=this.state,o=a.characterCount,i=a.maxChars-o<0,c=I()({"ReportDialog-Detail-Text":!0,over:i});if(n===O.f)return null;var s=[r?{label:Object(S.b)("precheckedMatureLabel",n),explanation:Object(S.b)("precheckedMatureExplanation"),value:-1,name:"reportpost-disabled",onClick:function(e){e.preventDefault()},extraClass:" disabled",defaultChecked:!0}:{label:Object(S.b)("matureLabel"),explanation:Object(S.b)("matureExplanation",n),value:4},{label:Object(S.b)("sexuallyLabel"),explanation:Object(S.b)("sexuallyExplanation",n),value:5},{label:Object(S.b)("spamLabel"),explanation:Object(S.b)("spamExplanation",n),value:2},{label:Object(S.b)("abusiveLabel"),explanation:Object(S.b)("abusiveExplanation",n),value:3},{label:Object(S.b)("dnboiLabel"),explanation:Object(S.b)("dnboiExplanation",n),value:1}],l=!(0<this.state.reason&&this.state.characterCount<141);return b.a.createElement(C.a,{className:"ReportDialog",isModal:!1,onClose:this.handleClose,name:w},b.a.createElement("div",{className:"ReportDialog-head"},b.a.createElement("span",null,Object(S.b)("reportTitle",n)),b.a.createElement(E.a,{className:"ReportDialog-head--close",imageSrc:j.a[j.j],onClick:this.handleClose})),b.a.createElement("div",{className:"ReportDialog-content"},s.map(function(e){return t.renderOption(e)}),this.state.reason&&b.a.createElement("div",{className:"ReportDialog-Detail"},b.a.createElement("form",{className:"ReportDialog-Detail-Form"},b.a.createElement("textarea",{className:c,onChange:this.onChange,placeholder:Object(S.b)("describeReportReason",n)})),140<this.state.characterCount&&b.a.createElement("p",{className:"ReportDialog-Detail-Text-Exceeded"},Object(S.b)("charactersExceeded",140)))),b.a.createElement("div",{className:"ReportDialog-footer"},b.a.createElement("p",{className:"ReportDialog-CommunityRules"},Object(S.b)("reportRules")),b.a.createElement("button",{type:"button",disabled:l,className:"ReportDialog-button--do",onClick:this.handleReport},Object(S.b)("report"))))}},{key:"renderOption",value:function(e){var t=this,n=this.state.showDescription===e.value?" active":"";return b.a.createElement("label",{className:"ReportDialog-RadioBox-item".concat(e.extraClass||"").concat(n),key:e.value},b.a.createElement("div",{className:"ReportDialog-RadioBox-content-wrapper"},b.a.createElement("input",{className:"ReportDialog-RadioBox-radio",type:"radio",onClick:e.onClick||function(){return t.handleChoose(e.value)},name:e.name||"reportpost"}),b.a.createElement("div",{className:"ReportDialog-RadioBox-checkbox"},""),b.a.createElement("div",{className:"ReportDialog-RadioBox-title"},e.label),b.a.createElement("div",{className:"ReportDialog-RadioBox-chevron",onClick:function(){return t.handleDescription(e.value)}},b.a.createElement("i",{className:"ReportDialog-RadioBox-chevron-icon"}))),b.a.createElement("div",{className:"ReportDialog-RadioBox-description"},e.explanation))}}]),n}(y.Component);D.defaultProps={isMature:!1},D.__docgenInfo={description:"",methods:[{name:"handleClose",docblock:null,modifiers:[],params:[],returns:null},{name:"handleReport",docblock:null,modifiers:[],params:[],returns:null},{name:"handleChoose",docblock:null,modifiers:[],params:[{name:"reason",type:null}],returns:null},{name:"handleDescription",docblock:null,modifiers:[],params:[{name:"reason",type:null}],returns:null},{name:"onChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"renderOption",docblock:null,modifiers:[],params:[{name:"option",type:null}],returns:null}],displayName:"Report",props:{isMature:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},id:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""},close:{type:{name:"func"},required:!0,description:""},submit:{type:{name:"func"},required:!0,description:""},type:{type:{name:"string"},required:!0,description:""},reportedComments:{type:{name:"object"},required:!1,description:""},reportedPosts:{type:{name:"object"},required:!1,description:""}}},t.d=Object(v.b)(function(e,t){var n=e.report,r=t.type;return{id:n.get("id"),reportedComments:n.get("reportedComments"),reportedPosts:n.get("reportedPosts"),isMature:!!n.get("isMature"),type:n.get("type")||r}},function(o){return{close:function(){o(Object(k.y)(w))},submit:function(e,t,n,r,a){e===O.d?o(Object(O.g)(t,n,r,a)):o(Object(O.i)(t,n,r,a)),o(Object(k.y)(w))}}})(D)},xsax:function(e,t,n){},"y/VL":function(e,t,n){},yQno:function(e,t,n){},yosD:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("PJYZ"),s=n.n(o),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("ANjH"),E=n("2OyZ"),k=n("pNV7"),O=n("G5ih"),S=n("flVz"),P=n("/PhX"),N=n("dZW6"),I=n("wAdX"),j=n("7oyi"),q=n("Ot+t"),w=n("QlZ4");function D(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var T=function(e){u()(n,e);var t=D(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"componentDidMount",value:function(){this.props.mountEmbedNode(this.props.nodeId)}},{key:"componentWillUnmount",value:function(){this.props.unmountEmbedNode(this.props.nodeId)}},{key:"render",value:function(){var e=this.props,t=e.isRenderReady,n=e.children,r=e.height,a=e.className;return b.a.createElement("div",{className:a},b.a.createElement("div",{id:this.props.nodeId,style:{height:t?r:0,overflow:"hidden"}}),t?null:n)}}]),n}(b.a.Component);T.__docgenInfo={description:"",methods:[],displayName:"EmbedNode",props:{mountEmbedNode:{type:{name:"func"},required:!0,description:""},unmountEmbedNode:{type:{name:"func"},required:!0,description:""},nodeId:{type:{name:"string"},required:!0,description:""},isRenderReady:{type:{name:"bool"},required:!0,description:""},height:{type:{name:"number"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""}}};var A=Object(C.d)(Object(v.b)(function(e){var t=e.embed;return{isRenderReady:t.get("isRenderReady"),height:t.get("height"),hasTitle:t.get("hasTitle")}},{mountEmbedNode:S.g,unmountEmbedNode:S.m}),Object(w.a)(q.a,q.h))(T),R=n("iww3"),x=n("xypG");n("20NG");function M(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var F=function(e){u()(o,e);var a=M(o);function o(){var t;i()(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=a.call.apply(a,[this].concat(n)),g()(s()(t),"onClose",function(){var e=t.props;(0,e.closeDialog)(e.name||E.a)}),t}return c()(o,[{key:"render",value:function(){var e=this.props,t=e.renderInput,n=e.clipboardCopy,r=e.embedSnippet,a=e.toggleTitle,o=e.hasTitle,i=e.isCopySuccess,c=e.name,s=e.nodeId;return b.a.createElement(I.a,{className:"EmbedDialog",name:c||E.a,isModal:!1},b.a.createElement("div",{className:"CommonUploadDialog-head"},b.a.createElement("span",null,Object(O.b)("embedDialogHead")),b.a.createElement(j.a,{className:"CommonUploadDialog-head--close",imageSrc:k.a[k.j],onClick:this.onClose})),b.a.createElement("div",{className:"EmbedDialog-content"},b.a.createElement("div",{className:"EmbedDialog-copyLink"},t({className:"EmbedDialog-copyLink--input",text:r}),b.a.createElement("button",{type:"button",className:"EmbedDialog-copyLink--button",onClick:n},Object(O.b)("embedDialogCopy".concat(i?"Done":"")),i&&b.a.createElement(k.W,{name:k.e}))),b.a.createElement(A,{className:"EmbedDialog-embed",nodeId:s||E.b},b.a.createElement(x.a,{size:60,className:"EmbedDialog-embed--spinner"})),b.a.createElement("div",{className:"EmbedDialog-titleToggle"},Object(O.b)("embedDialogTitleToggle"),b.a.createElement(R.a,{name:"titleToggle",className:"EmbedDialog-titleToggle--checkbox",value:!o,toggleHandler:a,labelText:Object(O.b)("embedDialogTitleToggleLabel")}))))}}]),o}(b.a.Component);F.__docgenInfo={description:"",methods:[{name:"onClose",docblock:null,modifiers:[],params:[],returns:null}],displayName:"EmbedDialog",props:{hasTitle:{type:{name:"bool"},required:!1,description:""},isCopySuccess:{type:{name:"bool"},required:!1,description:""},embedSnippet:{type:{name:"string"},required:!1,description:""},name:{type:{name:"string"},required:!1,description:""},nodeId:{type:{name:"string"},required:!1,description:""},renderInput:{type:{name:"func"},required:!0,description:""},clipboardCopy:{type:{name:"func"},required:!0,description:""},toggleTitle:{type:{name:"func"},required:!0,description:""},closeDialog:{type:{name:"func"},required:!0,description:""}}};t.a=Object(C.d)(N.a,Object(v.b)(function(e){var t=e.embed,n=e.ui;return{embedSnippet:t.get("snippet"),hasTitle:t.get("hasTitle"),isCopySuccess:n.clipboardCopy.get("isSuccess")}},{toggleTitle:S.l,closeDialog:P.y}))(F)},yzGh:function(e,t,n){},zMZQ:function(e,t,n){e.exports=n.p+"desktop-assets/s1.db8c19b82d156f87cd9fcf09311622c1.svg"},zuLI:function(e,t,n){"use strict";n.d(t,"a",function(){return P});var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("7W2i"),s=n.n(o),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),m=n.n(d),p=n("q1tI"),f=n.n(p),h=(n("17x9"),n("GB65")),g=function e(t,n){i()(this,e),this.x=t||0,this.y=n||0},y=function(){function t(e){i()(this,t),this.animationState=e,this.x=.5*e.viewWidth,this.y=.5*e.viewHeight,this.r=24,this._progress=0,this.complete=!1}return c()(t,[{key:"reset",value:function(){this._progress=0,this.complete=!1}},{key:"draw",value:function(){this.animationState.ctx.fillStyle=this.animationState.loadingColor,this.animationState.ctx.beginPath(),this.animationState.ctx.arc(this.x,this.y,this.r,-E,C*this._progress-E),this.animationState.ctx.lineTo(this.x,this.y),this.animationState.ctx.closePath(),this.animationState.ctx.fill()}},{key:"progress",set:function(e){this._progress=e<0?0:1<e?1:e,this.complete=1<=this._progress},get:function(){return this._progress}}]),t}(),b=function(){function t(e){i()(this,t),this.animationState=e,this.x=.5*e.viewWidth,this.y=.5*e.viewHeight,this.startRadius=24,this.time=0,this.duration=.4,this.progress=0,this.complete=!1}return c()(t,[{key:"reset",value:function(){this.time=0,this.progress=0,this.complete=!1}},{key:"update",value:function(){this.time=Math.min(this.duration,this.time+this.animationState.timeStep),this.progress=O.inBack(this.time,0,1,this.duration),this.complete=this.time===this.duration}},{key:"draw",value:function(){this.animationState.ctx.fillStyle="transparent",this.animationState.ctx.beginPath(),this.animationState.ctx.arc(this.x,this.y,this.startRadius*(1-this.progress),0,C),this.animationState.ctx.fill()}}]),t}(),v=function(){function o(e,t,n,r,a){i()(this,o),this.animationState=e,this.p0=t,this.p1=n,this.p2=r,this.p3=a,this.time=0,this.duration=3+2*Math.random(),this.color="#".concat(Math.floor(16777215*Math.random()).toString(16)),this.w=8,this.h=8,this.complete=!1}return c()(o,[{key:"update",value:function(){this.time=Math.min(this.duration,this.time+this.animationState.timeStep);var e=O.outCubic(this.time,0,1,this.duration),t=function(e,t,n,r,a){var o=new g,i=1-a;return o.x=i*i*i*e.x+3*i*i*a*t.x+3*i*a*a*n.x+a*a*a*r.x,o.y=i*i*i*e.y+3*i*i*a*t.y+3*i*a*a*n.y+a*a*a*r.y,o}(this.p0,this.p1,this.p2,this.p3,e),n=t.x-this.x,r=t.y-this.y;this.r=Math.atan2(r,n)+E,this.sy=Math.sin(Math.PI*e*10),this.x=t.x,this.y=t.y,this.complete=this.time===this.duration}},{key:"draw",value:function(){this.animationState.ctx.save(),this.animationState.ctx.translate(this.x,this.y),this.animationState.ctx.rotate(this.r),this.animationState.ctx.scale(1,this.sy),this.animationState.ctx.fillStyle=this.color,this.animationState.ctx.fillRect(.5*-this.w,.5*-this.h,this.w,this.h),this.animationState.ctx.restore()}}]),o}(),C=2*Math.PI,E=.5*Math.PI;function k(e){for(var t=e.viewWidth,n=e.viewHeight,r=e.particles,a=0;a<128;a++){var o=new g(.5*t,.5*n),i=new g(Math.random()*t,Math.random()*n),c=new g(Math.random()*t,Math.random()*n),s=new g(Math.random()*t,n+64);r.push(new v(e,o,i,c,s))}}var O={inCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},outCubic:function(e,t,n,r){return e/=r,n*(--e*e*e+1)+t},inOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},inBack:function(e,t,n,r,a){return n*(e/=r)*e*(((a=a||1.70158)+1)*e-a)+t}};n("hibn");function S(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=m()(r);if(a){var n=m()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u()(this,e)}}var P=function(e){s()(r,e);var n=S(r);function r(e){var t;return i()(this,r),(t=n.call(this,e)).canvas=f.a.createRef(),t}return c()(r,[{key:"componentDidMount",value:function(){this.run()}},{key:"componentDidUpdate",value:function(){this.run()}},{key:"shouldComponentUpdate",value:function(e){return this.props.run!==e.run}},{key:"run",value:function(){var e=this.props,t=e.viewWidth,n=e.viewHeight,r=e.loadSpeed,a=e.loadingColor,o={ctx:this.canvas.current.getContext("2d"),particles:[],phase:0,timeStep:1/70,viewWidth:t,viewHeight:n,loadSpeed:r,loadingColor:a},i=function(e){return new y(e)}(o),c=function(e){return new b(e)}(o);k(o),Object(h.qb)(function(n,r,a){return function e(){!function(e,t,n){switch(e.phase){case 0:t.progress+=1/e.loadSpeed;break;case 1:n.update();break;case 2:e.particles.forEach(function(e){e.update()})}}(n,r,a),function(e,t,n){var r=e.viewWidth,a=e.viewHeight,o=e.phase,i=e.ctx,c=e.particles;switch(i.clearRect(0,0,r,a),o){case 0:t.draw();break;case 1:n.draw();break;case 2:c.forEach(function(e){e.draw()})}}(n,r,a);var t=!1;0===n.phase&&r.complete?n.phase=1:1===n.phase&&a.complete?n.phase=2:2===n.phase&&function(e){for(var t=0;t<e.length;t++)if(!1===e[t].complete)return!1;return!0}(n.particles)&&(n.phase=0,r.reset(),a.reset(),n.particles.length=0,k(n),t=!0),t||Object(h.qb)(e)}}(o,i,c))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.viewWidth,r=e.viewHeight;return f.a.createElement("div",{className:"ThankYouConfetti ".concat(t)},f.a.createElement("canvas",{width:n,height:r,className:"ThankYouConfetti-canvas",ref:this.canvas}))}}]),r}(f.a.Component);P.defaultProps={className:"",loadingColor:"transparent",loadSpeed:45,run:0},P.__docgenInfo={description:"",methods:[{name:"run",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ThankYouConfetti",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},loadingColor:{defaultValue:{value:"'transparent'",computed:!1},type:{name:"string"},required:!1,description:""},loadSpeed:{defaultValue:{value:"45",computed:!1},type:{name:"number"},required:!1,description:""},run:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},viewWidth:{type:{name:"number"},required:!0,description:""},viewHeight:{type:{name:"number"},required:!0,description:""}}}}}]);